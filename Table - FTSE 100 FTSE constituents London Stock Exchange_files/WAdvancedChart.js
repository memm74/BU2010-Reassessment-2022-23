var fdc__widgets__="object"==typeof fdc__widgets__?fdc__widgets__:{};fdc__widgets__.WAdvancedChart=(window.webpackJsonp=window.webpackJsonp||[]).push([[8,20],{1:function(t,e,i){"use strict";i.d(e,"b",(function(){return v})),i.d(e,"d",(function(){return S})),i.d(e,"c",(function(){return A})),i.d(e,"a",(function(){return T}));var r=i(2),a=i(75),n=i(5),s=["xs","sm","md","lg","xl"],o=i(16),c=function(t){var e=Object(o.b)(null);return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var n=JSON.stringify(r);return e[n]=e[n]||t.apply(null,r)}},l=n.default.prototype,u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=l.$bvConfig;return i?i.getConfigValue(t,e):Object(a.a)(e)},d=function(){return u("breakpoints",s)},h=c((function(){return d()})),p=function(){return Object(a.a)(h())},g=(c((function(){var t=p();return t[0]="",t})),i(41)),m=i(4);i(25);function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=!0===i;return a=n?a:i,b(b(b({},t?{type:t}:{}),n?{required:n}:Object(m.k)(e)?{}:{default:Object(m.h)(e)?function(){return e}:e}),Object(m.k)(a)?{}:{validator:a})},S=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a;return(Object(m.a)(t)?t.slice():Object(o.d)(t)).reduce((function(t,r){return t[i(r)]=e[r],t}),{})},D=function(t,e,i){return b(b({},Object(a.a)(t)),{},{default:function(){var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e?u("".concat(t,".").concat(e),i):u(t,{})}(i,e,t.default);return Object(m.e)(r)?r():r}})},A=function(t,e){return Object(o.d)(t).reduce((function(i,r){return b(b({},i),{},y({},r,D(t[r],r,e)))}),{})},O=D({},"","").default.name,T=function(t){return Object(m.e)(t)&&t.name&&t.name!==O}},100:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return o})),i.d(e,"f",(function(){return c}));var r={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},a={prefix:"fas",iconName:"minus-circle",icon:[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"]},n={prefix:"fas",iconName:"plus-circle",icon:[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"]},s={prefix:"fas",iconName:"question-circle",icon:[512,512,[],"f059","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"]},o={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},c={prefix:"fas",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"]}},101:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i(11),a=i(59),n=i(104),s=i(20),o=Object(r.b)({methods:{hasNormalizedSlot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$scopedSlots,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.$slots;return Object(n.a)(t,e,i)},normalizeSlot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.$scopedSlots,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.$slots,o=Object(n.b)(t,e,i,r);return o?Object(s.b)(o):o}}})},102:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return o}));var r=i(11),a=i(2),n=i(1),s={id:Object(n.b)(a.j)},o=Object(r.b)({props:s,data:function(){return{localId_:null}},computed:{safeId:function(){var t=this.id||this.localId_;return function(e){return t?(e=String(e||"").replace(/\s+/g,"_"))?t+"_"+e:t:null}}},mounted:function(){var t=this;this.$nextTick((function(){t.localId_="__BVID__".concat(t[r.a])}))}})},103:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(16),a=i(4),n=function(t,e){if(t.length!==e.length)return!1;for(var i=!0,r=0;i&&r<t.length;r++)i=s(t[r],e[r]);return i},s=function t(e,i){if(e===i)return!0;var s=Object(a.c)(e),o=Object(a.c)(i);if(s||o)return!(!s||!o)&&e.getTime()===i.getTime();if(s=Object(a.a)(e),o=Object(a.a)(i),s||o)return!(!s||!o)&&n(e,i);if(s=Object(a.h)(e),o=Object(a.h)(i),s||o){if(!s||!o)return!1;if(Object(r.d)(e).length!==Object(r.d)(i).length)return!1;for(var c in e){var l=Object(r.c)(e,c),u=Object(r.c)(i,c);if(l&&!u||!l&&u||!t(e[c],i[c]))return!1}}return String(e)===String(i)}},104:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));var r=i(20),a=i(41),n=i(4),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(t=Object(r.b)(t).filter(a.a)).some((function(t){return e[t]||i[t]}))},o=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Object(r.b)(t).filter(a.a);for(var c=0;c<t.length&&!e;c++){var l=t[c];e=s[l]||o[l]}return Object(n.e)(e)?e(i):e}},105:function(t,e,i){"use strict";i.d(e,"b",(function(){return j})),i.d(e,"a",(function(){return _}));var r=i(11),a=i(26),n=i(28),s=i(2),o=i(20),c=i(22),l=i(37),u=i(4),d=i(16),h=i(1),p=i(61),g=i(134);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function f(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var b=Object(g.a)("$attrs","bvAttrs"),y=Object(r.b)({computed:{bvAttrs:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){f(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},this.$attrs);return Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),t}}}),v=r.c?y:b,S="$_rootListeners",D=Object(r.b)({computed:{bvEventRoot:function(){return(t=this).$root.$options.bvEventRoot||t.$root;var t}},created:function(){this[S]={}},beforeDestroy:function(){var t=this;Object(d.d)(this[S]||{}).forEach((function(e){t[S][e].forEach((function(i){t.listenOffRoot(e,i)}))})),this[S]=null},methods:{registerRootListener:function(t,e){this[S]&&(this[S][t]=this[S][t]||[],Object(o.a)(this[S][t],e)||this[S][t].push(e))},unregisterRootListener:function(t,e){this[S]&&this[S][t]&&(this[S][t]=this[S][t].filter((function(t){return t!==e})))},listenOnRoot:function(t,e){this.bvEventRoot&&(this.bvEventRoot.$on(t,e),this.registerRootListener(t,e))},listenOnRootOnce:function(t,e){var i=this;if(this.bvEventRoot){var r=function t(){i.unregisterRootListener(t),e.apply(void 0,arguments)};this.bvEventRoot.$once(t,r),this.registerRootListener(t,r)}},listenOffRoot:function(t,e){this.unregisterRootListener(t,e),this.bvEventRoot&&this.bvEventRoot.$off(t,e)},emitOnRoot:function(t){if(this.bvEventRoot){for(var e,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];(e=this.bvEventRoot).$emit.apply(e,[t].concat(r))}}}}),A=i(133),O=i(101);function T(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return I(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){x(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function x(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var P=Object(l.c)(a.h,"clicked"),E={activeClass:Object(h.b)(s.j),append:Object(h.b)(s.e,!1),event:Object(h.b)(s.d),exact:Object(h.b)(s.e,!1),exactActiveClass:Object(h.b)(s.j),exactPath:Object(h.b)(s.e,!1),exactPathActiveClass:Object(h.b)(s.j),replace:Object(h.b)(s.e,!1),routerTag:Object(h.b)(s.j),to:Object(h.b)(s.i)},R={noPrefetch:Object(h.b)(s.e,!1),prefetch:Object(h.b)(s.e,null)},j=Object(h.c)(Object(d.g)(C(C(C({},R),E),{},{active:Object(h.b)(s.e,!1),disabled:Object(h.b)(s.e,!1),href:Object(h.b)(s.j),rel:Object(h.b)(s.j,null),routerComponentName:Object(h.b)(s.j),target:Object(h.b)(s.j,"_self")})),a.h),_=Object(r.b)({name:a.h,mixins:[v,A.a,D,O.a],inheritAttrs:!1,props:j,computed:{computedTag:function(){var t=this.to,e=this.disabled,i=this.routerComponentName;return Object(p.c)({to:t,disabled:e,routerComponentName:i},this)},isRouterLink:function(){return Object(p.e)(this.computedTag)},computedRel:function(){var t=this.target,e=this.rel;return Object(p.b)({target:t,rel:e})},computedHref:function(){var t=this.to,e=this.href;return Object(p.a)({to:t,href:e},this.computedTag)},computedProps:function(){var t=this.event,e=this.prefetch,i=this.routerTag;return this.isRouterLink?C(C(C(C({},Object(h.d)(Object(d.e)(C(C({},E),"nuxt-link"===this.computedTag?R:{}),["event","prefetch","routerTag"]),this)),t?{event:t}:{}),Object(u.b)(e)?{prefetch:e}:{}),i?{tag:i}:{}):{}},computedAttrs:function(){var t=this.bvAttrs,e=this.computedHref,i=this.computedRel,r=this.disabled,a=this.target,n=this.routerTag,s=this.isRouterLink;return C(C(C(C({},t),e?{href:e}:{}),s&&n&&!Object(c.e)(n,"a")?{}:{rel:i,target:a}),{},{tabindex:r?"-1":Object(u.k)(t.tabindex)?null:t.tabindex,"aria-disabled":r?"true":null})},computedListeners:function(){return C(C({},this.bvListeners),{},{click:this.onClick})}},methods:{onClick:function(t){var e=arguments,i=Object(u.d)(t),r=this.isRouterLink,a=this.bvListeners.click;if(i&&this.disabled)Object(l.d)(t,{immediatePropagation:!0});else{var s;if(r)null===(s=t.currentTarget.__vue__)||void 0===s||s.$emit(n.b,t);Object(o.b)(a).filter((function(t){return Object(u.e)(t)})).forEach((function(t){t.apply(void 0,T(e))})),this.emitOnRoot(P,t),this.emitOnRoot("clicked::link",t)}i&&!r&&"#"===this.computedHref&&Object(l.d)(t,{propagation:!1})},focus:function(){Object(c.c)(this.$el)},blur:function(){Object(c.b)(this.$el)}},render:function(t){var e=this.active,i=this.disabled;return t(this.computedTag,x({class:{active:e,disabled:i},attrs:this.computedAttrs,props:this.computedProps},this.isRouterLink?"nativeOn":"on",this.computedListeners),this.normalizeSlot())}})},108:function(t,e,i){"use strict";e.a=function(t,e,i){for(var r=-1,a=null==t?0:t.length;++r<a;)if(i(e,t[r]))return!0;return!1}},109:function(t,e,i){"use strict";var r=function(t,e,i,r){for(var a=t.length,n=i+(r?1:-1);r?n--:++n<a;)if(e(t[n],n,t))return n;return-1};var a=function(t){return t!=t};var n=function(t,e,i){for(var r=i-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1};var s=function(t,e,i){return e==e?n(t,e,i):r(t,a,i)};e.a=function(t,e){return!!(null==t?0:t.length)&&s(t,e,0)>-1}},11:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"b",(function(){return h}));var r=i(5);i(179);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if(null==t)return{};var i,r,a=function(t,e){if(null==t)return{};var i,r,a={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(a[i]=t[i]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l="_uid",u=r.default.version.startsWith("3"),d=["class","staticClass","style","attrs","props","domProps","on","nativeOn","directives","scopedSlots","slot","key","ref","refInFor"],h=r.default.extend.bind(r.default);if(u){var p=r.default.extend,g=["router-link","transition","transition-group"],m=r.default.vModelDynamic.created,f=r.default.vModelDynamic.beforeUpdate;r.default.vModelDynamic.created=function(t,e,i){m.call(this,t,e,i),t._assign||(t._assign=function(){})},r.default.vModelDynamic.beforeUpdate=function(t,e,i){f.call(this,t,e,i),t._assign||(t._assign=function(){})},h=function(t){if("object"===c(t)&&t.render&&!t.__alreadyPatched){var e=t.render;t.__alreadyPatched=!0,t.render=function(i){var r=function(t,e,r){var a=void 0===r?[]:[Array.isArray(r)?r.filter(Boolean):r],s="string"==typeof t&&!g.includes(t);if(!(e&&"object"===c(e)&&!Array.isArray(e)))return i.apply(void 0,[t,e].concat(a));var l=e.attrs,u=e.props,d=n(n({},o(e,["attrs","props"])),{},{attrs:l,props:s?{}:u});return"router-link"!==t||d.slots||d.scopedSlots||(d.scopedSlots={$hasNormal:function(){}}),i.apply(void 0,[t,d].concat(a))};if(t.functional){var a,s,l=arguments[1],u=n({},l);u.data={attrs:n({},l.data.attrs||{}),props:n({},l.data.props||{})},Object.keys(l.data||{}).forEach((function(t){d.includes(t)?u.data[t]=l.data[t]:t in l.props?u.data.props[t]=l.data[t]:t.startsWith("on")||(u.data.attrs[t]=l.data[t])}));var h=["_ctx"],p=(null===(a=l.children)||void 0===a||null===(s=a.default)||void 0===s?void 0:s.call(a))||l.children;return p&&0===Object.keys(u.children).filter((function(t){return!h.includes(t)})).length?delete u.children:u.children=p,u.data.on=l.listeners,e.call(this,r,u)}return e.call(this,r)}}return p.call(this,t)}.bind(r.default)}r.default.nextTick},111:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-form-group",{staticClass:"v-widget-multi-select",attrs:{id:t.generateUniqueId(),label:t.label,"label-for":t.id,role:"application"}},[i("v-select",{ref:"multiselect",staticClass:"v-multiselect",attrs:{placeholder:t.placeholder,label:t.labelForFilter,filterable:t.filterable,options:t.options,taggable:t.taggable,disabled:t.disabled,multiple:t.multiple,filter:t.filterFunc,selectable:t.maxSelectValidation,components:{Deselect:t.deSelect},clearSearchOnSelect:t.clearSearchOnSelect,dir:t.dir},on:{search:t.onInputText,input:t.onSelect,"search:focus":t.onSearchFocus,"option:deselected":t.onOptionDeselect},scopedSlots:t._u([{key:"open-indicator",fn:function(){return[i("span")]},proxy:!0},{key:"no-options",fn:function(){return[i("span")]},proxy:!0},{key:"selected-option-container",fn:function(e){var r=e.option,a=e.deselect,n=e.disabled,s=e.multiple;return[i("span",{class:"vs__selected "+(r.className?r.className:"")},[i("div",{class:r.className?r.className:"vs__selected_option"},[t._v("\n          "+t._s(r[t.labelForFilter])+"\n        ")]),t._v(" "),s?i("button",{staticClass:"vs__deselect",attrs:{disabled:n,type:"button",tabindex:"-1","aria-label":""+t.removeButtonAriaLabel.replace("{OPTION}",r[t.labelForFilter])},on:{click:function(t){return a(r)}}},[i("font-awesome-icon",{attrs:{icon:["fas","times"],size:"lg"}})],1):t._e()])]}},{key:"option",fn:function(e){return[e.group?i("div",[t._v("\n        "+t._s(e.group)+"\n      ")]):i("div",[t._v("\n        "+t._s(e[t.labelForFilter])+"\n      ")])]}},{key:"search",fn:function(e){var r=e.attributes,a=e.events;return[i("input",t._g(t._b({ref:"search",staticClass:"vs__search",attrs:{placeholder:t.placeholderVal,type:"search",role:"searchbox","aria-autocomplete":"none",id:t.generateUniqueId()},on:{click:t.hideContainer}},"input",r,!1),a))]}}]),model:{value:t.currentInput,callback:function(e){t.currentInput=e},expression:"currentInput"}})],1)};r._withStripped=!0;var a=i(185),n=i.n(a),s=i(44),o=i(100),c=i(52),l=i(38),u=i(6);s.d.add(o.e);var d={name:"v-widget-multi-select",components:{FontAwesomeIcon:c.a,vSelect:n.a,VFormGroup:u.q},props:{taggable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},labelForFilter:{type:String,default:"label"},filterable:{type:Boolean,default:!1},label:{required:!1,type:String},value:{required:!0,type:Array},placeholder:{type:String,default:"Please enter text..."},autocompleteItems:{type:Array,default:()=>[]},suggestions:{type:Array,default:()=>[]},maxTags:{type:Number,default:1},a11yLabel:{required:!1,type:String,default:""},selectedItemsA11yLabel:{required:!1,type:String,default:"{ITEMS} selected"},removeButtonAriaLabel:{type:String,default:"Remove {OPTION}"},filterFunc:{type:Function,default:void 0},filterSelectedFromOptions:{type:Boolean,default:!0},clearSearchOnSelect:{type:Boolean,default:!0},dir:{type:String,default:"auto"}},data(){return{currentInput:this.value||"",deSelect:{render:t=>t(c.a,{props:{icon:["fas","times"],size:"lg"}})},options:[],focusIndex:-1,isSelecting:!1}},watch:{value(t){this.currentInput=t,this.options=this.calculateOptions(),this.$refs.multiselect.$refs.toggle.ariaLabel=this.getA11yLabel(),this.$nextTick(()=>{1===this.maxTags&&t.length>0?this.isSelecting&&(this.searchBox.value=t[0].text,this.isSelecting=!1):this.$refs.multiselect.closeSearchOptions()})},autocompleteItems(){this.options=this.calculateOptions(),this.$refs.multiselect.open=!0},suggestions(){this.options=this.calculateOptions(),this.$refs.multiselect.open=!1}},computed:{id(){return"v-widget-multi-select-"+this._uid},placeholderVal(){return this.multiple?this.placeholder:this.currentInput.length?"":this.placeholder}},mounted(){this.searchBox=this.$refs.search,this.clearButton=this.$el.querySelector(".vs__actions button"),this.clearButton.setAttribute("tabindex","-1"),this.clearButton.addEventListener("click",()=>{this.currentInput=[],this.searchBox.focus()}),this.$refs.multiselect.$el.addEventListener("keydown",this.handleKeyboardNavigation),this.$refs.multiselect.$refs.toggle.setAttribute("role","none"),this.$refs.multiselect.$refs.toggle.ariaLabel=this.getA11yLabel(),this.options=this.calculateOptions(),this.hideContainer()},methods:{getA11yLabel(){let t="";if(this.value.length>0){const e=this.value.reduce((t,e)=>`${t} ${e[this.labelForFilter]}`,"");t=this.selectedItemsA11yLabel.replace("{ITEMS}",e)}return this.a11yLabel.replace("{SELECTED_ITEMS}",t)},generateUniqueId:()=>"v-widget-multi-select-"+Object(l.c)(),calculateOptions(){if(this.currentInput.length>=this.maxTags&&this.isMultiple)return[];if(this.filterSelectedFromOptions){const t=this.value.map(t=>t[this.labelForFilter]);return(this.autocompleteItems.length?this.autocompleteItems:this.suggestions).filter(e=>-1===t.indexOf(e[this.labelForFilter]))}return this.autocompleteItems.length?this.autocompleteItems:this.suggestions},maxSelectValidation(t){return!t.hasOwnProperty("group")&&(!1===this.multiple?this.currentInput.length<=1:this.currentInput.length<this.maxTags)},onInputText(t,e){this.hideContainer(),e(!1),this.$emit("inputText",t)},onOptionDeselect(){this.hideContainer(),this.multiple&&this.value.length>0&&this.setTabIndexOnOption(this.value.length-1,-1)},onSelect(t){this.hideContainer(),this.searchBox.value="",null===t?this.currentInput="":(this.$emit("input",t),this.$nextTick(()=>{this.multiple?this.value.length===this.maxTags?(this.searchBox.style.display="none",this.focusIndex=this.value.length-1,this.setFocusOnOption(this.focusIndex),this.setTabIndexOnOption(this.focusIndex,0)):(this.searchBox.style.display="block",this.searchBox.focus()):(this.isSelecting=!0,this.$nextTick(()=>{this.searchBox.value=t.text,this.searchBox.focus()}))}))},onSearchFocus(){if(this.hideContainer(),1===this.maxTags)this.$nextTick(()=>{if(this.$refs.multiselect&&this.searchBox){let t,e=this.currentInput[0];t="object"==typeof e?e.text||"":e||"",this.searchBox.value=t,this.searchBox.focus()}});else if(this.value.length===this.maxTags)return this.focusIndex=this.value.length-1,void this.setFocusOnOption(this.focusIndex);this.focusIndex=-1},handleKeyboardNavigation(t){if(this.isUserTyping())return;const e=this.value.length+1,i=this.value.length===this.maxTags;let r=!1;switch(t.key){case"Left":case"ArrowLeft":-1===this.focusIndex?this.focusIndex=e-2:0===this.focusIndex?this.focusIndex=i?e-2:e-1:this.focusIndex--;break;case"Right":case"ArrowRight":-1===this.focusIndex||i&&this.focusIndex===e-2||this.focusIndex===e-1?this.focusIndex=0:this.focusIndex++;break;case"Down":case"ArrowDown":return void(this.$refs.multiselect&&!1===this.$refs.multiselect.open&&this.$refs.multiselect.onSearchFocus());case"Escape":this.focusIndex=i?e-2:e-1,r=!0;break;default:return}this.focusIndex<0&&(this.focusIndex=0),this.focusIndex===e-1?this.$refs.multiselect&&this.$refs.multiselect.$refs&&this.$refs.multiselect.$refs.selectedOptions&&(this.$refs.multiselect.$refs.selectedOptions.children[this.focusIndex].focus(),r&&this.$refs.multiselect.closeSearchOptions()):this.setFocusOnOption(this.focusIndex)},setFocusOnOption(t){this.$refs.multiselect&&this.$refs.multiselect.$refs&&this.$refs.multiselect.$refs.selectedOptions&&this.$refs.multiselect.$refs.selectedOptions.children[t].children[1].focus()},setTabIndexOnOption(t,e){this.$refs.multiselect&&this.$refs.multiselect.$refs&&this.$refs.multiselect.$refs.selectedOptions&&(this.$refs.multiselect.$refs.selectedOptions.children[t].children[1].tabIndex=e)},isUserTyping(){if(this.$refs.search)return this.$refs.search.value.length>0},hideContainer(){0===this.options.length&&this.$refs.multiselect.$nextTick(()=>{this.$refs.multiselect&&(this.$refs.multiselect.open=this.isOpen,this.$refs.multiselect.$el.classList.remove("vs--open"),this.$refs.multiselect.$el.querySelectorAll("[role=listbox]").forEach(t=>{t.style.display="none"}),this.$refs.multiselect.$el.querySelectorAll("[role=combobox]").forEach(t=>{t.ariaExpanded=!1}))})}}},h=(i(239),i(7)),p=Object(h.a)(d,r,[],!1,null,null,null);e.a=p.exports},114:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(13),a=i(10);function n(t,e){Object(a.a)(2,arguments);var i=Object(r.a)(t),n=Object(r.a)(e),s=i.getTime()-n.getTime();return s<0?-1:s>0?1:s}},121:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s}));var r={prefix:"far",iconName:"angle-double-left",icon:[384,512,[],"f100","M20.2 247.5L167 99.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17L85.3 256l118.5 119.7c4.7 4.7 4.7 12.3 0 17L184 412.5c-4.7 4.7-12.3 4.7-17 0l-146.8-148c-4.7-4.7-4.7-12.3 0-17zm160 17l146.8 148c4.7 4.7 12.3 4.7 17 0l19.8-19.8c4.7-4.7 4.7-12.3 0-17L245.3 256l118.5-119.7c4.7-4.7 4.7-12.3 0-17L344 99.5c-4.7-4.7-12.3-4.7-17 0l-146.8 148c-4.7 4.7-4.7 12.3 0 17z"]},a={prefix:"far",iconName:"angle-down",icon:[320,512,[],"f107","M151.5 347.8L3.5 201c-4.7-4.7-4.7-12.3 0-17l19.8-19.8c4.7-4.7 12.3-4.7 17 0L160 282.7l119.7-118.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17l-148 146.8c-4.7 4.7-12.3 4.7-17 0z"]},n={prefix:"far",iconName:"angle-left",icon:[192,512,[],"f104","M4.2 247.5L151 99.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17L69.3 256l118.5 119.7c4.7 4.7 4.7 12.3 0 17L168 412.5c-4.7 4.7-12.3 4.7-17 0L4.2 264.5c-4.7-4.7-4.7-12.3 0-17z"]},s={prefix:"far",iconName:"question-circle",icon:[512,512,[],"f059","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"]}},122:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var r=i(11);function a(t){return r.c?new Proxy(t,{get:function(t,e){return e in t?t[e]:void 0}}):t}},123:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var a=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),n=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[i].concat(n).concat([a]).join("\n")}var s;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var n=this[a][0];"number"==typeof n&&(r[n]=!0)}for(a=0;a<t.length;a++){var s=t[a];"number"==typeof s[0]&&r[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},124:function(t,e,i){"use strict";e.a=function(t,e){for(var i=-1,r=null==t?0:t.length,a=Array(r);++i<r;)a[i]=e(t[i],i,t);return a}},125:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(23),a=i(13),n=i(10);function s(t,e){Object(n.a)(2,arguments);var i=Object(a.a)(t),s=Object(r.a)(e);return isNaN(s)?new Date(NaN):s?(i.setDate(i.getDate()+s),i):i}},132:function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return m}));var r=i(21);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&h(t,e)}function o(t){var e=d();return function(){var i,r=p(t);if(e){var a=p(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return c(this,i)}}function c(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return u(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)})(t)}function u(t,e,i){return(u=d()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return i&&h(a,i.prototype),a}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=r.c?r.d.Element:function(t){s(i,t);var e=o(i);function i(){return n(this,i),e.apply(this,arguments)}return i}(l(Object)),m=(r.c&&r.d.HTMLElement,r.c&&r.d.SVGElement,r.c?r.d.File:function(t){s(i,t);var e=o(i);function i(){return n(this,i),e.apply(this,arguments)}return i}(l(Object)))},133:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var r=i(134),a=i(11);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=Object(r.a)("$listeners","bvListeners"),l=Object(a.b)({data:function(){return{bvListeners:{}}},created:function(){this.bvListeners=s({},this.$listeners)},beforeUpdate:function(){this.bvListeners=s({},this.$listeners)}}),u=a.c?l:c},134:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var r=i(11),a=i(75),n=i(103),s=i(16);function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=function(t){return!t||0===Object(s.d)(t).length},l=function(t){return{handler:function(e,i){if(!Object(n.a)(e,i))if(c(e)||c(i))this[t]=Object(a.a)(e);else{for(var r in i)Object(s.c)(e,r)||this.$delete(this.$data[t],r);for(var o in e)this.$set(this.$data[t],o,e[o])}}}},u=function(t,e){return Object(r.b)({data:function(){return o({},e,Object(a.a)(this[t]))},watch:o({},t,l(e))})}},138:function(t,e,i){"use strict";var r=i(6),a={functional:!0,components:{VForm:r.l},render:(t,e)=>t(r.l,{class:"v-widget-control-bar",props:{inline:!0},on:{submit(t){t.preventDefault()}}},e.slots().default)},n=i(7),s=Object(n.a)(a,void 0,void 0,!1,null,null,null);e.a=s.exports},139:function(t,e,i){"use strict";var r=i(52),a=i(44);e.a={components:{FontAwesomeIcon:r.a},mounted(){const t=this.isInShadow();0!=t&&this.attachFontAwesomeStyles(t)},methods:{isInShadow(){let t=this.$el,e=t;for(;t;){if("[object ShadowRoot]"===t.toString())return e;e=t,t=t.parentNode}return!1},attachFontAwesomeStyles(t){a.a.autoAddCss=!1;const e="fa-styles";if(!t.querySelector("#"+e)){const i=document.createElement("style");i.setAttribute("id",e),i.textContent=a.b.css(),t.appendChild(i)}}}}},143:function(t,e,i){"use strict";i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return y})),i.d(e,"f",(function(){return D})),i.d(e,"g",(function(){return A.a})),i.d(e,"b",(function(){return et.a})),i.d(e,"h",(function(){return O.a})),i.d(e,"j",(function(){return P})),i.d(e,"a",(function(){return V})),i.d(e,"c",(function(){return B})),i.d(e,"k",(function(){return G})),i.d(e,"i",(function(){return tt}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-form-group",{staticClass:"v-widget-input-checkbox",attrs:{label:t.label,"label-for":t.id,description:t.description}},["string"==typeof t.value||"boolean"==typeof t.value?t._l(t.options,(function(e,r){return i("v-form-checkbox",{key:e.value+"-"+r,class:t.classes,attrs:{value:e.value,checked:t.value,disabled:t.disabled},on:{input:function(e){return t.$emit("input",e)},change:function(e){return t.$emit("change",e)}}},[t._t("default",(function(){return[t._v("\n        "+t._s(e.text)+"\n      ")]}),{option:e})],2)})):i("v-checkbox-group",{attrs:{checked:t.value},on:{input:function(e){return t.$emit("input",e)},change:function(e){return t.$emit("change",e)}}},t._l(t.options,(function(e,r){return i("v-form-checkbox",{key:e.value+"-"+r,class:t.classes,attrs:{value:e.value}},[t._t("default",(function(){return[t._v("\n        "+t._s(e.text)+"\n      ")]}),{option:e})],2)})),1)],2)};r._withStripped=!0;var a=i(6);var n={name:"v-widget-input-checkbox",components:{VFormCheckbox:a.m,VFormCheckboxGroup:a.n,VFormGroup:a.q},props:{description:{type:String},label:{required:!0,type:String},value:{required:!0,type:[String,Array,Boolean]},options:{required:!0,type:Array},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{selected:this.value}},computed:{id(){return"v-widget-input-checkbox-"+this._uid},classes(){return{"v-widget-input-checkbox--inline":this.inline}}},watch:{}},s=i(7),o=Object(s.a)(n,r,[],!1,null,null,null).exports,c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-form-group",{staticClass:"v-widget-input-date",attrs:{id:t.generateUniqueId(),description:t.description}},[i("label",{attrs:{for:t.id}},[t._v(t._s(t.label))]),t._v(" "),i("v-date-time-picker",{attrs:{idValue:t.generateUniqueId(),type:"date","start-at":t.startAt,endAt:t.endAt,lang:t.lang,value:t.value,placeholder:t.placeholder,format:t.format,autoAdvance:t.autoAdvance,a11yLabel:t.a11yLabel,direction:t.direction},on:{input:function(e){return t.$emit("input",e)}}})],1)};c._withStripped=!0;var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-date-time-picker",class:{focused:t.isFocused}},[i("div",{staticClass:"d-flex flex-row"},[i("div",{staticClass:"cnt-day"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.day,expression:"day",modifiers:{trim:!0}}],staticClass:"bg-transparent border-0 p-1",attrs:{"aria-label":t.lang.inputLabel.day||"day",type:"text",maxlength:"2",autocomplete:"off",placeholder:t.lang.placeholder.day||"DD"},domProps:{value:t.day},on:{focus:t.handleFocus,blur:[t.handleBlur,function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dateSelected.apply(null,arguments)},click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.day=e.target.value.trim())}}})]),t._v(" "),i("div",{staticClass:"spacer"},[t._v(" ")]),t._v(" "),i("div",{staticClass:"cnt-month"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.month,expression:"month",modifiers:{trim:!0}}],staticClass:"bg-transparent border-0 p-1",attrs:{"aria-label":t.lang.inputLabel.month||"month",type:"text",maxlength:"2",autocomplete:"off",placeholder:t.lang.placeholder.month||"MM"},domProps:{value:t.month},on:{focus:t.handleFocus,blur:[t.handleBlur,function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dateSelected.apply(null,arguments)},click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.month=e.target.value.trim())}}})]),t._v(" "),i("div",{staticClass:"spacer"},[t._v(" ")]),t._v(" "),i("div",{staticClass:"cnt-year"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.year,expression:"year",modifiers:{trim:!0}}],staticClass:"bg-transparent border-0 p-1",attrs:{"aria-label":t.lang.inputLabel.year||"year",type:"text",maxlength:"4",autocomplete:"off",placeholder:t.lang.placeholder.year||"YYYY"},domProps:{value:t.year},on:{focus:t.handleFocus,blur:[t.handleBlur,function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dateSelected.apply(null,arguments)},click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.year=e.target.value.trim())}}})]),t._v(" "),i("v-form-datepicker",{ref:"datePicker",attrs:{id:t.idValue,"button-only":"",right:"",locale:t.lang.locale,"hide-header":!0,max:t.endAt,direction:t.direction},on:{input:t.dateSelected,shown:t.onShow},model:{value:t.now,callback:function(e){t.now=e},expression:"now"}})],1)])};l._withStripped=!0;var u=i(237),d={name:"v-date-time-picker",components:{VFormDatepicker:a.o},props:{idValue:{type:String},autoAdvance:{type:Boolean,default:!0},value:{default:null,required:!1},startAt:null,endAt:{type:Date},type:{type:String,default:"date"},confirm:{type:Boolean,default:!1},lang:{type:Object},format:{type:String,default:"DD-MM-YYYY HH:mm:ss"},disabledDays:{type:[Array,Function],default:()=>[]},firstDayOfWeek:{default:1,type:Number},notBefore:{default:null},notAfter:{default:null},minuteStep:{type:Number,default:10},timePickerOptions:{type:[Object,Function],default:()=>null},ariaDateFormat:{type:String,default:"MMMM D, YYYY"},ariaTimeFormat:{type:String,default:"HH:mm"},ariaLabels:{type:Object,default:()=>({date:{type:String,default:""},dateEmpty:{type:String,default:""},timeEmpty:{type:String,default:""},day:{type:String,default:""},month:{type:String,default:""},year:{type:String,default:""},time:{type:String,default:""}})},a11yLabel:{type:String},direction:{type:String,default:"ltr"}},data:()=>({now:null,day:"",month:"",year:"",isFocused:!1}),watch:{value:{immediate:!0,handler:"updateDateValues"},lang:{deep:!0,handler(){this.updateDateValues(this.value)}}},mounted(){this.$refs.datePicker&&(this.$refs.datePicker.$el.firstChild.ariaLabel=this.a11yLabel)},methods:{handleFocus(){this.isFocused=!0},handleBlur(t){this.isFocused=!1},dateSelected(t){let e;if(t instanceof KeyboardEvent){if(e=new Date(this.year,this.month-1,this.day),!(this.year&&this.month&&this.day&&Object(u.a)(e)))return;this.now=e}else e=new Date(t),this.splitDateValues(e);this.$emit("input",e)},updateDateValues(t){t?(this.now=new Date(t),this.splitDateValues(this.now)):(this.year="",this.month="",this.day="")},splitDateValues(t){this.year=t.getFullYear(),this.month=("0"+(t.getMonth()+1)).slice(-2),this.day=("0"+t.getDate()).slice(-2)},onShow(t){const e=this.$refs.datePicker.$el.querySelector(".b-calendar-nav");e.firstElementChild.focus(),e.setAttribute("role","application"),e.setAttribute("tabindex","0");let i=0;Array.from(this.$refs.datePicker.$el.querySelector(".b-calendar-nav").children).forEach((t,e)=>{e&&t.setAttribute("tabindex","-1"),t.setAttribute("id",e),t.addEventListener("click",(function(t){i=Number(t.currentTarget.id)}))});const r=e.children,a=r.length-1;e.addEventListener("keydown",(function(t){37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),t.stopPropagation()),37==t.keyCode?i=i>0?i-1:a:39==t.keyCode&&(i=i<a?i+1:0),r[i].focus()}))}}},h=Object(s.a)(d,l,[],!1,null,null,null).exports,p=i(38);var g={name:"v-widget-input-date",components:{VDateTimePicker:h,VFormGroup:a.q},props:{description:{type:String},label:{type:String},value:{required:!0,type:[Date,String]},placeholder:{type:String},format:{type:String},lang:{type:Object},autoAdvance:{type:Boolean,default:!1},a11yLabel:{type:String},startAt:null,endAt:null,direction:{type:String}},computed:{id(){return"v-widget-input-date-"+this._uid}},methods:{generateUniqueId:()=>"v-widget-input-date-"+Object(p.c)()}},m=Object(s.a)(g,c,[],!1,null,null,null).exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-form-group",{staticClass:"v-widget-input-date-range",attrs:{id:t.generateUniqueId()}},[i("v-widget-input-date",{attrs:{description:t.descriptionFrom,label:t.labelFrom,value:t.valueFrom,placeholder:t.placeholderFrom,"start-at":t.startAtFrom,"end-at":t.endAtFrom,format:t.format,lang:t.langFromDate,autoAdvance:t.autoAdvance,a11yLabel:t.fromDateA11yLabel,direction:t.direction},on:{input:function(e){return t.$emit("inputFrom",e)}}}),t._v(" "),i("v-widget-input-date",{attrs:{description:t.descriptionTo,label:t.labelTo,value:t.valueTo,placeholder:t.placeholderTo,"start-at":t.startAtTo,"end-at":t.endAtTo,format:t.format,lang:t.langToDate,autoAdvance:t.autoAdvance,a11yLabel:t.toDateA11yLabel,direction:t.direction},on:{input:function(e){return t.$emit("inputTo",e)}}})],1)};f._withStripped=!0;var b={name:"v-widget-input-date-range",components:{VWidgetInputDate:m,VFormGroup:a.q},props:{descriptionFrom:{type:String},labelFrom:{required:!0,type:String},valueFrom:{required:!0,type:[Date,String]},placeholderFrom:{type:String},descriptionTo:{type:String},startAtFrom:null,endAtFrom:null,labelTo:{required:!0,type:String},valueTo:{required:!0,type:[Date,String]},placeholderTo:{type:String},startAtTo:null,endAtTo:null,format:{type:String},langFromDate:{type:Object},langToDate:{type:Object},autoAdvance:{type:Boolean,default:!1},fromDateA11yLabel:{type:String},toDateA11yLabel:{type:String},direction:{type:String}},computed:{id(){return"v-widget-input-date-range-"+this._uid},isDatesOverlapping(){if(this.valueFrom&&this.valueTo)return this.valueFrom.getTime()>this.valueTo.getTime()}},created(){this.isDatesOverlapping&&this.$emit("inputTo",this.valueFrom)},watch:{valueFrom(){this.isDatesOverlapping&&this.$emit("inputTo",this.valueFrom)},valueTo(){this.isDatesOverlapping&&this.$emit("inputFrom",this.valueTo)}},methods:{generateUniqueId:()=>"v-widget-input-date-range-"+Object(p.c)()}},y=Object(s.a)(b,f,[],!1,null,null,null).exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-form-group",{staticClass:"v-widget-input-radio",attrs:{id:t.generateUniqueId(),label:t.label,"label-for":t.id,description:t.description}},[i("v-form-radio-group",{attrs:{id:t.generateUniqueId(),role:"radiogroup","aria-label":t.a11yLabel,"aria-activedescendant":t.value,stacked:!t.inline,checked:t.value,buttons:t.buttons,"button-variant":"outline-secondary"}},t._l(t.options,(function(e,r){return i("v-form-radio",{key:e.value+"-"+r,class:t.classes,attrs:{id:e.value,role:"radio",value:e.value,"aria-checked":e.value===t.value},on:{input:function(e){return t.$emit("input",e)}}},[i("span",[t._v(t._s(e.text))])])})),1)],1)};v._withStripped=!0;var S={name:"v-widget-input-radio",components:{VFormGroup:a.q,VFormRadio:a.s,VFormRadioGroup:a.t},props:{description:{type:String},label:{type:String},value:{required:!0,type:[String,Number]},options:{required:!0,type:Array},inline:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},a11yLabel:{type:String}},computed:{id(){return"v-widget-input-radio-"+this._uid},classes(){return{"v-widget-input-radio--inline":this.inline}}},watch:{selected(t){this.$emit("input",t)}},methods:{generateUniqueId:()=>"v-widget-input-radio-"+Object(p.c)()}},D=Object(s.a)(S,v,[],!1,null,null,null).exports,A=i(166),O=i(111),T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-single-select"},[i("v-dropdown",{attrs:{disabled:t.disabled,"no-flip":"","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("div",{staticClass:"dropdown-selected-text"},[t._v("\n        "+t._s(t.value[0][t.optionLabel])+"\n      ")]),t._v(" "),i("font-awesome-icon",{attrs:{icon:["far","angle-down"]}}),t._v(" "),i("span",{staticClass:"sr-only"},[t._v("\n        "+t._s(t.a11yLabel)+"\n      ")])]},proxy:!0}])},[t._v(" "),t._l(t.options,(function(e,r){return i("v-dropdown-item",{key:r,attrs:{href:"#",active:t.value[0].value===e.value,tabindex:"-1"},on:{click:function(i){return t.onClick(e)}}},[[i("div",{staticClass:"dropdown-option-text"},[t._v("\n          "+t._s(e[t.optionLabel])+"\n        ")])]],2)}))],2)],1)};T._withStripped=!0;var I=i(44),w=i(121),C=i(52);I.d.add(w.b);var x={name:"v-widget-single-select",components:{VDropdown:a.e,VDropdownItem:a.h,FontAwesomeIcon:C.a},props:{disabled:{type:Boolean,default:!1},optionLabel:{type:String,default:"label"},value:{required:!0,type:Array},options:{required:!0,type:Array},a11yLabel:{type:String,default:""}},methods:{onClick(t){this.$emit("selectChanged",t)}}},P=Object(s.a)(x,T,[],!1,null,null,null).exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"large"===t.viewport?i("v-widget-multi-select",{attrs:{label:t.label,placeholder:t.placeholder,autocompleteItems:t.filteredIndicatorOptions,value:t.currentValue,maxTags:t.maxTags,labelForFilter:t.labelForFilter,a11yLabel:t.a11yLabel,selectedItemsA11yLabel:t.selectedItemsA11yLabel,removeButtonAriaLabel:t.removeButtonAriaLabel,filterable:t.filterable,filterFunc:t.filterFunc,filterSelectedFromOptions:t.filterSelectedFromOptions,dir:t.dir},on:{input:t.onSelect}}):i("v-widget-indicator-select",{attrs:{placeholder:t.placeholder,autocompleteItems:t.filteredIndicatorOptions,value:t.currentValue,maxTags:t.maxTags,labelForFilter:t.labelForFilter,a11yLabel:t.a11yLabel,filterFunc:t.filterFunc,removeButtonAriaLabel:t.removeButtonAriaLabel,dropdownAlign:t.dropdownAlign},on:{input:t.onSelect}})};E._withStripped=!0;var R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-widget-indicator-select"},[i("v-dropdown",{attrs:{right:t.alignRight,dropright:t.alignDropRight,"no-flip":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("span",{staticClass:"sr-only"},[t._v("\n        "+t._s(t.a11yLabel)+"\n      ")])]},proxy:!0}])},[t._v(" "),i("b-form-tags",{attrs:{"no-outer-focus":"",placeholder:t.placeholder},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.inputId,a=e.placeholder;return[i("v-form-input",{ref:"formInput",attrs:{autocomplete:"off",id:r,placeholder:a,disabled:t.value.length>=t.maxTags},model:{value:t.needle,callback:function(e){t.needle=e},expression:"needle"}}),t._v(" "),t._l(t.value,(function(e){return i("b-form-tag",{key:e.value,attrs:{title:e[t.labelForFilter],"no-remove":""}},[[i("div",{staticClass:"form-tag-content-text"},[t._v("\n              "+t._s(e[t.labelForFilter])+"\n            ")]),t._v(" "),i("div",{staticClass:"form-tag-content-close"},[i("v-widget-close-icon",{attrs:{ariaLabel:t.removeButtonAriaLabel.replace("{OPTION}",e[t.labelForFilter])},on:{onClick:function(i){return t.onRemove(e)}}})],1)]],2)}))]}}])}),t._v(" "),t._l(t.indicatorList.groupHeaders,(function(e,r){return i("v-dropdown-group",{key:r,attrs:{header:e[t.labelForFilter]}},t._l(t.indicatorList[e.value],(function(e,r){return i("v-dropdown-item",{key:r,attrs:{href:"#",tabindex:"-1"},nativeOn:{"!click":function(i){return i.stopPropagation(),t.onClick(e)}}},[[t._v("\n          "+t._s(e[t.labelForFilter])+"\n        ")]],2)})),1)}))],2)],1)};R._withStripped=!0;var j=i(148),_=i(407),F=i(186),L={name:"v-widget-indicator-select",components:{VDropdown:a.e,VDropdownItem:a.h,VDropdownGroup:a.g,VFormInput:a.r,VWidgetCloseIcon:j.a,BFormTags:_.a,BFormTag:F.a},props:{labelForFilter:{required:!1,type:String},value:{required:!0,type:Array},placeholder:{type:String,default:""},autocompleteItems:{type:Array,default:()=>[]},maxTags:{type:Number,default:1},a11yLabel:{required:!1,type:String},filterFunc:{type:Function,default:t=>()=>t},removeButtonAriaLabel:{type:String,default:""},dropdownAlign:{type:String,default:"left"}},data:()=>({needle:"",indicatorList:{}}),mounted(){this.generateIndicatorOptions(this.autocompleteItems)},watch:{needle(t){this.generateIndicatorOptions(this.filterFunc(this.autocompleteItems,t))},autocompleteItems(){this.generateIndicatorOptions(this.autocompleteItems)}},computed:{alignRight(){return"right"===this.dropdownAlign},alignDropRight(){return"dropRight"===this.dropdownAlign}},methods:{generateIndicatorOptions(t){this.resetIndicatorList();for(let e=0;e<t.length;e++)t[e].group?this.indicatorList.groupHeaders.push(t[e]):this.indicatorList[t[e].type].push(t[e])},resetIndicatorList(){this.indicatorList={movingAverages:[],inChartIndicators:[],additionalDiagrams:[],groupHeaders:[]}},onClick(t){this.needle="";let e=[...this.value];e.push(t),this.$emit("input",e),this.$refs&&this.$refs.formInput&&this.$refs.formInput.focus()},onRemove(t){const e=this.value.filter(e=>e.id!==t.id);this.$emit("input",e)}}},k=Object(s.a)(L,R,[],!1,null,null,null).exports,M=i(69),N={name:"v-widget-chart-indicator-select",components:{VWidgetMultiSelect:O.a,VWidgetIndicatorSelect:k},props:{label:{type:String,default:""},value:{type:Array,required:!0},indicators:{type:Array,required:!0},placeholder:{type:String},a11yLabel:{type:String},labelForFilter:{type:String,default:"label"},labelForGroups:{type:Object,required:!0},viewport:{type:String,default:"large"},selectedItemsA11yLabel:{required:!1,type:String},removeButtonAriaLabel:{type:String,default:""},dropdownAlign:{type:String,default:"left"},dir:{type:String,default:"ltr"}},data:()=>({currentValue:[],maxTags:10,filterable:!0,filterSelectedFromOptions:!1,movingAverages:"movingAverages",inChartIndicators:"inChartIndicators",additionalDiagrams:"additionalDiagrams"}),mounted(){this.currentValue=this.value},computed:{filteredIndicatorOptions(){let t=[],e=0,i=0,r=0,a=0,n=0;for(let t=0;t<this.value.length;t++){let s=this.value[t];switch(s.type){case this.movingAverages:"SMA"===s.value?i++:r++,e++;break;case this.inChartIndicators:a++;break;case this.additionalDiagrams:n++}}let{SMA:s,EMA:o,INCHART_INDICATORS:c,ADDITIONAL_DIAGRAMS:l}=M.a.getMaxIndicatorCount(this.indicators);if(e<s+o){let e=[];if(i<s){const t=this.getIndicatorFromList("SMA");t&&e.push(t)}if(r<o){const t=this.getIndicatorFromList("EMA");t&&e.push(t)}0!==e.length&&(t.push(this.getGroupHeading(this.movingAverages)),t.push(...e))}let u=this.getIndicatorFromList(null,this.inChartIndicators);if(0!==u.length&&a<c){t.push(this.getGroupHeading(this.inChartIndicators));const e=this.value.filter(t=>t.type===this.inChartIndicators).map(t=>t.value);t.push(...u.filter(t=>-1===e.indexOf(t.value)))}let d=this.getIndicatorFromList(null,this.additionalDiagrams);return 0!==d.length&&n<l&&(t.push(this.getGroupHeading(this.additionalDiagrams)),t.push(...d)),t}},methods:{onSelect(t){const e=t.map(t=>{const e=t;return e.params=e.params.map(t=>({...t,default:t.value})),e.id?e:{...e,id:(new Date).getTime().toString()}});this.$emit("indicatorChanged",e)},getGroupHeading(t){return{value:t,label:this.labelForGroups[t],group:this.labelForGroups[t]}},filterFunc(t,e){let i=[],r=[],a=[],n=[];for(let i=0;i<t.length;i++){let s=t[i],o=s[this.labelForFilter];if("number"==typeof o&&(o=o.toString()),o.toLowerCase().indexOf(e.toLowerCase())>-1)switch(s.type){case this.movingAverages:r.push(s);break;case this.inChartIndicators:a.push(s);break;case this.additionalDiagrams:n.push(s)}}return r.length>0&&(i.push(this.getGroupHeading(this.movingAverages)),i.push(...r)),a.length>0&&(i.push(this.getGroupHeading(this.inChartIndicators)),i.push(...a)),n.length>0&&(i.push(this.getGroupHeading(this.additionalDiagrams)),i.push(...n)),i},getIndicatorFromList(t,e){return t?this.indicators.find(e=>e.value===t):this.indicators.filter(t=>t.type===e)}},watch:{value(t){this.currentValue=t.map(t=>{let e,i=t.labelOriginal;if(t.params.length>0)switch(t.type){case this.movingAverages:e=" "+t.params.map(t=>t.value).join(","),"()"!==e.trim()&&(i+=e);break;case this.inChartIndicators:case this.additionalDiagrams:e=` (${t.params.map(t=>"object"==typeof t.value?t.value.label||"":t.value).join(", ")})`,"()"!==e.trim()&&(i+=e)}return{...t,label:i}})}}},V=Object(s.a)(N,E,[],!1,null,null,null).exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-widget-dropdown"},[i("v-dropdown",{attrs:{disabled:t.disabled,right:t.alignRight,dropright:t.alignDropRight,"toggle-class":t.toggleIconClass,"menu-class":t.dropDownType+"-dropdown","no-flip":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("div",{staticClass:"dropdown-selected-text"},[t._v("\n        "+t._s(t.selectedOptionLabel)+"\n      ")]),t._v(" "),i("span",{staticClass:"sr-only"},[t._v("\n        "+t._s(t.a11yLabel)+"\n      ")])]},proxy:!0}])},[t._v(" "),t._l(t.options,(function(e,r){return i("v-dropdown-item",{key:r,attrs:{href:"#",active:t.value[0].value===e.value,tabindex:"-1"},on:{click:function(i){return t.onClick(e)}}},[[t.hasIcon?i("div",{class:"dropdown-option-icon "+e.value+"-option"}):t._e(),t._v(" "),i("div",{staticClass:"dropdown-option-text"},[t._v("\n          "+t._s(e[t.optionLabel])+"\n        ")])]],2)}))],2)],1)};$._withStripped=!0;var H={name:"v-widget-dropdown",components:{VDropdown:a.e,VDropdownItem:a.h},props:{dropDownType:{type:String,required:!0},value:{type:Array,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,default:!1},optionLabel:{type:String,default:"label"},a11yLabel:{type:String,default:""},shortHands:{type:Object,default:()=>({})},dropdownAlign:{type:String,default:"left"},hasIcon:{type:Boolean,default:!1}},data(){return{toggleIconClass:[this.value[0].value+"-option"]}},computed:{selectedOptionLabel(){switch(this.dropDownType){case"time-range":case"periodicity":case"scaling":return this.shortHands[this.value[0].value];case"chart-type":default:return""}},alignRight(){return"right"===this.dropdownAlign},alignDropRight(){return"dropRight"===this.dropdownAlign}},methods:{onClick(t){this.toggleIconClass=[t.value+"-option"],this.$emit("selectChanged",t)}}},B=Object(s.a)(H,$,[],!1,null,null,null).exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-widget-total-return"},[i("v-dropdown",{attrs:{disabled:t.disabled,"toggle-class":t.toggleIconClass,right:t.alignRight,dropright:t.alignDropRight,"no-flip":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("span",{staticClass:"sr-only"},[t._v("\n        "+t._s(t.a11yLabel)+"\n      ")])]},proxy:!0}])},[t._v(" "),i("v-dropdown-text",[t._v("\n      "+t._s(t.mainMessage)+"\n    ")]),t._v(" "),i("v-dropdown-text",[t._v("\n      "+t._s(t.subMessage)+"\n    ")]),t._v(" "),i("v-dropdown-divider"),t._v(" "),i("v-dropdown-group",[i("v-dropdown-item",{attrs:{active:!t.value},on:{click:function(e){return t.onClick(!1)}}},[[i("div",{class:"dropdown-option-icon unchecked"}),t._v(" "),i("span",{staticClass:"sr-only"},[t._v("\n            "+t._s(t.a11yTotalReturnDisable)+"\n          ")])]],2),t._v(" "),i("v-dropdown-item",{attrs:{active:t.value},on:{click:function(e){return t.onClick(!0)}}},[[i("div",{class:"dropdown-option-icon checked"}),t._v(" "),i("span",{staticClass:"sr-only"},[t._v("\n            "+t._s(t.a11yTotalReturnEnable)+"\n          ")])]],2)],1)],1)],1)};U._withStripped=!0;var K={name:"v-widget-total-return",components:{VDropdown:a.e,VDropdownItem:a.h,VDropdownDivider:a.f,VDropdownText:a.i,VDropdownGroup:a.g},props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},a11yLabel:{type:String,default:""},mainMessage:{type:String,default:""},subMessage:{type:String,default:""},a11yTotalReturnEnable:{type:String,default:""},a11yTotalReturnDisable:{type:String,default:""},dropdownAlign:{type:String,default:"left"}},data(){return{toggleIconClass:[this.value?"checked":"unchecked"]}},computed:{alignRight(){return"right"===this.dropdownAlign},alignDropRight(){return"dropRight"===this.dropdownAlign}},methods:{onClick(t){t!==this.value&&(this.toggleIconClass=[t?"checked":"unchecked"],this.$emit("toggled",t))}}},G=Object(s.a)(K,U,[],!1,null,null,null).exports,W=(i(147),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-widget-sigdev-select"},[i("v-dropdown",{attrs:{right:t.alignRight,dropright:t.alignDropRight,"no-flip":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("span",{staticClass:"sr-only"},[t._v("\n        "+t._s(t.a11yLabel)+"\n      ")])]},proxy:!0}])},[t._v(" "),t._l(t.options,(function(e,r){return i("v-dropdown-item",{key:r,attrs:{href:"#",active:t.isItemSelected(e.value),tabindex:"-1"},on:{click:function(i){return t.onClick(e)}}},[["-"!==e.title?i("v-widget-sigdev-bubble",{staticClass:"dropdown-option-icon",attrs:{circleClassName:e.className,title:e.title}}):t._e(),t._v(" "),i("div",{staticClass:"dropdown-option-text"},[t._v("\n          "+t._s(e[t.optionLabel])+"\n        ")]),t._v(" "),t.isItemSelected(e.value)?i("div",{staticClass:"dropdown-option-checked"},[i("v-widget-check-icon")],1):t._e()]],2)}))],2)],1)});W._withStripped=!0;var Y=function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticStyle:{"enable-background":"new 0 0 9 6"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 9 6","xml:space":"preserve"}},[e("polygon",{attrs:{points:"2.8,5.3 0.4,2.8 0,3.2 2.8,6 8.5,0.4 8.1,0 "}})])};Y._withStripped=!0;var z={name:"v-widget-check-icon"},q=Object(s.a)(z,Y,[],!1,null,null,null).exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",[i("circle",{class:t.circleClassName,attrs:{cx:t.circleSize.x,cy:t.circleSize.y,r:t.circleSize.r}}),t._v(" "),i("text",{attrs:{x:t.textSize.x,y:t.textSize.y,dy:t.textSize.dy}},[t._v("\n    "+t._s(t.title)+"\n  ")])])};Z._withStripped=!0;var J={name:"v-widget-sigdev-bubble",props:{circleClassName:{type:String,default:""},circleSize:{type:Object,default:()=>({x:"12",y:"12",r:"10"})},textSize:{type:Object,default:()=>({x:"50%",y:"50%",dy:"0.3em"})},title:{type:String,default:""}}},X=Object(s.a)(J,Z,[],!1,null,null,null).exports,Q={name:"v-widget-sigdev-select",components:{VDropdown:a.e,VDropdownItem:a.h,VWidgetCheckIcon:q,VWidgetSigdevBubble:X},props:{value:{type:Array,required:!0},options:{type:Array,required:!0},optionLabel:{type:String,default:"label"},a11yLabel:{type:String,default:""},dropdownAlign:{type:String,default:"left"}},computed:{alignRight(){return"right"===this.dropdownAlign},alignDropRight(){return"dropRight"===this.dropdownAlign}},methods:{onClick(t){let e;this.isItemSelected(t.value)?e=this.value.filter(e=>e.value!==t.value):(e=[...this.value],e.push(t)),this.$emit("input",e)},isItemSelected(t){return!!this.value.find(e=>e.value===t)}}},tt=Object(s.a)(Q,W,[],!1,null,null,null).exports,et=i(138)},144:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(13),a=i(10);function n(t){Object(a.a)(1,arguments);var e=Object(r.a)(t);return e.setHours(0,0,0,0),e}},147:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-widget-benchmark-select"},[i("v-dropdown",{attrs:{right:t.alignRight,dropright:t.alignDropRight,"no-flip":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("span",{staticClass:"sr-only"},[t._v("\n        "+t._s(t.a11yLabel)+"\n      ")])]},proxy:!0}])},[t._v(" "),i("b-form-tags",{attrs:{"no-outer-focus":"",placeholder:t.placeholder},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.inputId,a=e.placeholder;return[i("v-form-input",{ref:"formInput",staticClass:"form-control",attrs:{autocomplete:"off",id:r,placeholder:a,disabled:t.value.length>=t.maxTags},model:{value:t.needle,callback:function(e){t.needle=e},expression:"needle"}}),t._v(" "),t._l(t.value,(function(e){return i("b-form-tag",{key:e.value,attrs:{title:e[t.labelForFilter],"no-remove":""}},[[i("div",{staticClass:"form-tag-content-text"},[t._v("\n              "+t._s(e[t.labelForFilter])+"\n            ")]),t._v(" "),i("div",{staticClass:"form-tag-content-close"},[i("v-widget-close-icon",{attrs:{ariaLabel:t.removeButtonAriaLabel.replace("{OPTION}",e[t.labelForFilter])},on:{onClick:function(i){return t.onRemove(e)}}})],1)]],2)}))]}}])}),t._v(" "),t._l(t.autocompleteItems,(function(e,r){return i("v-dropdown-item",{key:r,attrs:{href:"#",tabindex:"-1"},nativeOn:{"!click":function(i){return i.stopPropagation(),t.onClick(e)}}},[[t._v("\n        "+t._s(e[t.labelForFilter])+"\n      ")]],2)}))],2)],1)};r._withStripped=!0;var a=i(6),n=i(148),s=i(407),o=i(186),c={name:"v-widget-benchmark-select",components:{VDropdown:a.e,VDropdownItem:a.h,VFormInput:a.r,VWidgetCloseIcon:n.a,BFormTags:s.a,BFormTag:o.a},props:{labelForFilter:{required:!1,type:String},value:{required:!0,type:Array},placeholder:{type:String,default:""},autocompleteItems:{type:Array,default:()=>[]},maxTags:{type:Number,default:1},a11yLabel:{required:!1,type:String},removeButtonAriaLabel:{type:String,default:""},dropdownAlign:{type:String,default:"left"}},data:()=>({needle:""}),watch:{needle(t){this.$emit("inputText",t)}},computed:{alignRight(){return"right"===this.dropdownAlign},alignDropRight(){return"dropRight"===this.dropdownAlign}},methods:{onClick(t){this.needle="";let e=[...this.value];e.push(t),this.$emit("input",e),this.$refs&&this.$refs.formInput&&this.$refs.formInput.focus()},onRemove(t){const e=this.value.filter(e=>e.id!==t.id);this.$emit("input",e)}}},l=i(7),u=Object(l.a)(c,r,[],!1,null,null,null);e.a=u.exports},148:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticStyle:{"enable-background":"new 0 0 7 7"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 7 7","xml:space":"preserve","aria-label":t.ariaLabel,role:"button",tabindex:"0"},on:{click:t.onClick,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onClick.apply(null,arguments)}}},[i("polygon",{attrs:{points:"5.7,0 3,2.7 0.4,0 0,0.4 2.7,3 0,5.7 0.4,6 3,3.4 5.7,6 6,5.7 3.4,3 6,0.4 "}})])};r._withStripped=!0;var a={name:"v-widget-close-icon",props:{ariaLabel:{type:String,default:""}},methods:{onClick(){this.$emit("onClick")}}},n=i(7),s=Object(n.a)(a,r,[],!1,null,null,null);e.a=s.exports},16:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return l})),i.d(e,"f",(function(){return u})),i.d(e,"e",(function(){return d})),i.d(e,"g",(function(){return h}));i(4);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s=function(t,e){return Object.create(t,e)},o=function(t){return Object.keys(t)},c=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l=function(t){return a({},t)},u=function(t,e){return o(t).filter((function(t){return-1!==e.indexOf(t)})).reduce((function(e,i){return a(a({},e),{},n({},i,t[i]))}),{})},d=function(t,e){return o(t).filter((function(t){return-1===e.indexOf(t)})).reduce((function(e,i){return a(a({},e),{},n({},i,t[i]))}),{})},h=function(t){return o(t).sort().reduce((function(e,i){return a(a({},e),{},n({},i,t[i]))}),{})}},160:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(23),a=i(13),n=i(10);function s(t,e){Object(n.a)(2,arguments);var i=Object(a.a)(t),s=Object(r.a)(e);if(isNaN(s))return new Date(NaN);if(!s)return i;var o=i.getDate(),c=new Date(i.getTime());c.setMonth(i.getMonth()+s+1,0);var l=c.getDate();return o>=l?c:(i.setFullYear(c.getFullYear(),c.getMonth(),o),i)}},161:function(t,e,i){"use strict";function r(t,e){var i=function(t){if(!n[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i="06/25/2014, 00:00:00"===e||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===e;n[t]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return n[t]}(e);return i.formatToParts?function(t,e){try{for(var i=t.formatToParts(e),r=[],n=0;n<i.length;n++){var s=a[i[n].type];s>=0&&(r[s]=parseInt(i[n].value,10))}return r}catch(t){if(t instanceof RangeError)return[NaN];throw t}}(i,t):function(t,e){var i=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[r[3],r[1],r[2],r[4],r[5],r[6]]}(i,t)}i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return P}));var a={year:0,month:1,day:2,hour:3,minute:4,second:5};var n={};function s(t,e,i,r,a,n,s){var o=new Date(0);return o.setUTCFullYear(t,e,i),o.setUTCHours(r,a,n,s),o}var o={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function c(t,e,i){var r,a,n;if(""===t)return 0;if(r=o.timezoneZ.exec(t))return 0;if(r=o.timezoneHH.exec(t))return u(n=parseInt(r[1],10))?-36e5*n:NaN;if(r=o.timezoneHHMM.exec(t)){n=parseInt(r[1],10);var c=parseInt(r[2],10);return u(n,c)?(a=36e5*Math.abs(n)+6e4*c,n>0?-a:a):NaN}if(function(t){if(d[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),d[t]=!0,!0}catch(t){return!1}}(t)){e=new Date(e||Date.now());var h=l(i?e:function(t){return s(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}(e),t);return-(i?h:function(t,e,i){var r=t.getTime()-e,a=l(new Date(r),i);if(e===a)return e;r-=a-e;var n=l(new Date(r),i);if(a===n)return a;return Math.max(a,n)}(e,h,t))}return NaN}function l(t,e){var i=r(t,e),a=s(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),n=t.getTime(),o=n%1e3;return a-(n-=o>=0?o:1e3+o)}function u(t,e){return-23<=t&&t<=23&&(null==e||0<=e&&e<=59)}var d={};function h(t,e){return-c(t,e)}var p=i(223),g=i.n(p),m=i(176),f=i.n(m),b={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function y(t){var e,i={},r=b.dateTimePattern.exec(t);if(r?(i.date=r[1],e=r[3]):(r=b.datePattern.exec(t))?(i.date=r[1],e=r[2]):(i.date=null,e=t),e){var a=b.timeZone.exec(e);a?(i.time=e.replace(a[1],""),i.timeZone=a[1].trim()):i.time=e}return i}function v(t,e){var i,r=b.YYY[e],a=b.YYYYY[e];if(i=b.YYYY.exec(t)||a.exec(t)){var n=i[1];return{year:parseInt(n,10),restDateString:t.slice(n.length)}}if(i=b.YY.exec(t)||r.exec(t)){var s=i[1];return{year:100*parseInt(s,10),restDateString:t.slice(s.length)}}return{year:null}}function S(t,e){if(null===e)return null;var i,r,a,n;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(i=b.MM.exec(t))return r=new Date(0),w(e,a=parseInt(i[1],10)-1)?(r.setUTCFullYear(e,a),r):new Date(NaN);if(i=b.DDD.exec(t)){r=new Date(0);var s=parseInt(i[1],10);return function(t,e){if(e<1)return!1;var i=I(t);if(i&&e>366)return!1;if(!i&&e>365)return!1;return!0}(e,s)?(r.setUTCFullYear(e,0,s),r):new Date(NaN)}if(i=b.MMDD.exec(t)){r=new Date(0),a=parseInt(i[1],10)-1;var o=parseInt(i[2],10);return w(e,a,o)?(r.setUTCFullYear(e,a,o),r):new Date(NaN)}if(i=b.Www.exec(t))return C(e,n=parseInt(i[1],10)-1)?A(e,n):new Date(NaN);if(i=b.WwwD.exec(t)){n=parseInt(i[1],10)-1;var c=parseInt(i[2],10)-1;return C(e,n,c)?A(e,n,c):new Date(NaN)}return null}function D(t){var e,i,r;if(e=b.HH.exec(t))return x(i=parseFloat(e[1].replace(",",".")))?i%24*36e5:NaN;if(e=b.HHMM.exec(t))return x(i=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")))?i%24*36e5+6e4*r:NaN;if(e=b.HHMMSS.exec(t)){i=parseInt(e[1],10),r=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return x(i,r,a)?i%24*36e5+6e4*r+1e3*a:NaN}return null}function A(t,e,i){e=e||0,i=i||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var a=7*e+i+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}var O=[31,28,31,30,31,30,31,31,30,31,30,31],T=[31,29,31,30,31,30,31,31,30,31,30,31];function I(t){return t%400==0||t%4==0&&t%100!=0}function w(t,e,i){if(e<0||e>11)return!1;if(null!=i){if(i<1)return!1;var r=I(t);if(r&&i>T[e])return!1;if(!r&&i>O[e])return!1}return!0}function C(t,e,i){return!(e<0||e>52)&&(null==i||!(i<0||i>6))}function x(t,e,i){return(null==t||!(t<0||t>=25))&&((null==e||!(e<0||e>=60))&&(null==i||!(i<0||i>=60)))}function P(t,e,i){var r=function(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);var i=e||{},r=null==i.additionalDigits?2:g()(i.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))return new Date(t.getTime());if("number"==typeof t||"[object Number]"===Object.prototype.toString.call(t))return new Date(t);if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var a=y(t),n=v(a.date,r),s=n.year,o=n.restDateString,l=S(o,s);if(isNaN(l))return new Date(NaN);if(l){var u,d=l.getTime(),h=0;if(a.time&&(h=D(a.time),isNaN(h)))return new Date(NaN);if(a.timeZone||i.timeZone){if(u=c(a.timeZone||i.timeZone,new Date(d+h)),isNaN(u))return new Date(NaN)}else u=f()(new Date(d+h)),u=f()(new Date(d+h+u));return new Date(d+h+u)}return new Date(NaN)}(t,i),a=c(e,r,!0),n=new Date(r.getTime()-a),s=new Date(0);return s.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),s.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),s}},166:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"large"===t.viewport?i("v-widget-multi-select",{attrs:{label:t.label,placeholder:t.placeholder,autocompleteItems:t.autocompleteItems,suggestions:t.suggestions,value:t.rics,multiple:t.multiple,maxTags:t.maxTags,labelForFilter:t.labelForFilter,a11yLabel:t.a11yLabel,selectedItemsA11yLabel:t.selectedItemsA11yLabel,removeButtonAriaLabel:t.removeButtonAriaLabel,isOpen:!1,dir:t.dir},on:{input:t.inputSelected,inputText:t.inputText}}):i("v-widget-benchmark-select",{attrs:{labelForFilter:t.labelForFilter,placeholder:t.placeholder,autocompleteItems:t.autocompleteItems,value:t.rics,maxTags:t.maxTags,a11yLabel:t.a11yLabel,removeButtonAriaLabel:t.removeButtonAriaLabel,dropdownAlign:t.dropdownAlign},on:{input:t.inputSelected,inputText:t.inputText}})};r._withStripped=!0;var a=i(9),n=i(111),s=i(147),o=i(334),c=i(213),l=i(215),u=i(58),d=i(109),h=i(108),p=i(124),g=i(168),m=i(57);var f=function(t,e,i,r){var a=-1,n=d.a,s=!0,o=t.length,c=[],l=e.length;if(!o)return c;i&&(e=Object(p.a)(e,Object(g.a)(i))),r?(n=h.a,s=!1):e.length>=200&&(n=m.a,s=!1,e=new u.a(e));t:for(;++a<o;){var f=t[a],b=null==i?f:i(f);if(f=r||0!==f?f:0,s&&b==b){for(var y=l;y--;)if(e[y]===b)continue t;c.push(f)}else n(e,b,r)||c.push(f)}return c},b=i(188),y=i(45),v=i(90),S=i(30),D=y.a?y.a.isConcatSpreadable:void 0;var A=function(t){return Object(S.a)(t)||Object(v.a)(t)||!!(D&&t&&t[D])};var O=function t(e,i,r,a,n){var s=-1,o=e.length;for(r||(r=A),n||(n=[]);++s<o;){var c=e[s];i>0&&r(c)?i>1?t(c,i-1,r,a,n):Object(b.a)(n,c):a||(n[n.length]=c)}return n},T=i(94);var I=function(t,e,i){var r=t.length;if(r<2)return r?Object(T.a)(t[0]):[];for(var a=-1,n=Array(r);++a<r;)for(var s=t[a],o=-1;++o<r;)o!=a&&(n[a]=f(n[a]||s,t[o],e,i));return Object(T.a)(O(n,1),e,i)},w=i(214);var C=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},x=Object(l.a)((function(t){var e=C(t);return e="function"==typeof e?e:void 0,I(Object(c.a)(t,w.a),void 0,e)})),P=i(376);const E=[{id:"STO",label:"Stock"},{id:"MON",label:"Money"},{id:"IND",label:"Index"},{id:"FUN",label:"Fund"},{id:"WAR",label:"Warrant"},{id:"FUT",label:"Future"},{id:"CUR",label:"Currency"},{id:"CRE",label:"Credits"},{id:"BON",label:"Bond"},{id:"CER",label:"Certificate"},{id:"OPT",label:"Option"},{id:"COM",label:"Commodity"}];var R={name:"v-widget-input-symbol",components:{VWidgetMultiSelect:n.a,VWidgetBenchmarkSelect:s.a},props:{label:{type:String,default:""},value:{type:Array,required:!0},autocompleteInstruments:{type:Array},autocompleteSuggestions:{type:Array,default:()=>[]},maxTags:{type:Number,default:1},placeholder:{type:String},a11yLabel:{type:String},multiple:{type:Boolean,default:!0},labelForFilter:{type:String,default:"text"},ricsToExclude:{type:Array,default:()=>[]},viewport:{type:String,default:"large"},removeButtonAriaLabel:{type:String,default:""},selectedItemsA11yLabel:{required:!1,type:String},dropdownAlign:{type:String,default:"left"},dir:{type:String,default:"auto"}},data:()=>({currentInput:"",autocompleteItems:[],rics:[],suggestions:[]}),mounted(){this.getRicDescription(),this.autocompleteSuggestions.length&&this.getSuggestionsDescription()},methods:{inputText(t){this.currentInput=t},inputSelected(t){this.autocompleteItems=[],this.currentInput="",this.multiple?(this.rics=t.splice(0,this.maxTags),this.$emit("input",this.rics)):(this.rics=[t],this.$emit("input",[t]))},getInstrumentId:t=>E.find(e=>e.label===t).id,searchRics(){if(this.currentInput){let t=`/find/quicksearch?search=${this.currentInput}&fids=prefSymbol%2Cdescription&pageSize=10`;if(this.autocompleteInstruments){t+="&instrumentType="+this.autocompleteInstruments.map(this.getInstrumentId).join(",")}a.a.Rest.get(t).catch(t=>{console.error(t)}).then(t=>{t&&t.data&&t.data.data&&this.currentInput?this.autocompleteItems=t.data.data.map(t=>({id:t.prefSymbol,text:t.description})).filter(t=>{const e=this.ricsToExclude.findIndex(e=>e===t.id)>=0,i=-1===this.value.findIndex(e=>e.id===t.id);return!e&&i}):this.autocompleteItems=[]})}else this.autocompleteItems=[]},getRicDescription(t){if(this.value.length>0){let e;if(e=t?this.value.map(t=>t.id).filter(t=>!t.includes("#")):this.value.filter(t=>"string"==typeof t&&!t.includes("#")),e.length>0){let t=`/quote/info?rics=${e.join(",")}&fids=q._DSPLY_NAME,q.RIC`;a.a.Rest.get(t).catch(t=>{console.error(t)}).then(t=>{t&&t.data&&t.data.data&&(this.rics=t.data.data.map(t=>({id:t["q.RIC"],text:t["q._DSPLY_NAME"]})))})}else this.rics=[]}},getSuggestionsDescription(){if(this.autocompleteSuggestions.length>0){let t=`/quote/info?rics=${this.autocompleteSuggestions.join(",")}&fids=q._DSPLY_NAME,q.RIC`;a.a.Rest.get(t).catch(t=>{console.error(t)}).then(t=>{t&&t.data&&t.data.data&&(this.suggestions=t.data.data.map(t=>({id:t["q.RIC"],text:t["q._DSPLY_NAME"]})).filter(t=>{const e=this.ricsToExclude.findIndex(e=>e===t.id)>=0,i=-1===this.value.findIndex(e=>e.id===t.id);return!e&&i}))})}else this.suggestions=[]}},watch:{value(t,e){this.maxTags<=1&&t.length===e.length?Object(o.a)(x(t,e,P.a))?0===t.length&&(this.currentInput="",this.rics=[]):(this.currentInput="",this.getRicDescription()):this.maxTags>1&&(this.currentInput="",0===t.length?this.rics=[]:this.getRicDescription("string"!=typeof t[0]))},currentInput(){this.searchRics()},autocompleteSuggestions(){this.getSuggestionsDescription()}}},j=i(7),_=Object(j.a)(R,r,[],!1,null,null,null);e.a=_.exports},175:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(157),a=i(144),n=i(10);function s(t,e){Object(n.a)(2,arguments);var i=Object(a.a)(t),s=Object(a.a)(e),o=i.getTime()-Object(r.a)(i),c=s.getTime()-Object(r.a)(s);return Math.round((o-c)/864e5)}},176:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()},t.exports=e.default},178:function(t,e,i){(t.exports=i(123)(!1)).push([t.i,".v-select{position:relative;font-family:inherit}.v-select,.v-select *{box-sizing:border-box}@-webkit-keyframes vSelectSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes vSelectSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.vs__fade-enter-active,.vs__fade-leave-active{pointer-events:none;transition:opacity .15s cubic-bezier(1, 0.5, 0.8, 1)}.vs__fade-enter,.vs__fade-leave-to{opacity:0}.vs--disabled .vs__dropdown-toggle,.vs--disabled .vs__clear,.vs--disabled .vs__search,.vs--disabled .vs__selected,.vs--disabled .vs__open-indicator{cursor:not-allowed;background-color:#f8f8f8}.v-select[dir=rtl] .vs__actions{padding:0 3px 0 6px}.v-select[dir=rtl] .vs__clear{margin-left:6px;margin-right:0}.v-select[dir=rtl] .vs__deselect{margin-left:0;margin-right:2px}.v-select[dir=rtl] .vs__dropdown-menu{text-align:right}.vs__dropdown-toggle{appearance:none;display:flex;padding:0 0 4px 0;background:none;border:1px solid rgba(60,60,60,.26);border-radius:4px;white-space:normal}.vs__selected-options{display:flex;flex-basis:100%;flex-grow:1;flex-wrap:wrap;padding:0 2px;position:relative}.vs__actions{display:flex;align-items:center;padding:4px 6px 0 3px}.vs--searchable .vs__dropdown-toggle{cursor:text}.vs--unsearchable .vs__dropdown-toggle{cursor:pointer}.vs--open .vs__dropdown-toggle{border-bottom-color:rgba(0,0,0,0);border-bottom-left-radius:0;border-bottom-right-radius:0}.vs__open-indicator{fill:rgba(60,60,60,.5);transform:scale(1);transition:transform 150ms cubic-bezier(1, -0.115, 0.975, 0.855);transition-timing-function:cubic-bezier(1, -0.115, 0.975, 0.855)}.vs--open .vs__open-indicator{transform:rotate(180deg) scale(1)}.vs--loading .vs__open-indicator{opacity:0}.vs__clear{fill:rgba(60,60,60,.5);padding:0;border:0;background-color:rgba(0,0,0,0);cursor:pointer;margin-right:8px}.vs__dropdown-menu{display:block;box-sizing:border-box;position:absolute;top:calc(100% - 1px);left:0;z-index:1000;padding:5px 0;margin:0;width:100%;max-height:350px;min-width:160px;overflow-y:auto;box-shadow:0px 3px 6px 0px rgba(0,0,0,.15);border:1px solid rgba(60,60,60,.26);border-top-style:none;border-radius:0 0 4px 4px;text-align:left;list-style:none;background:#fff}.vs__no-options{text-align:center}.vs__dropdown-option{line-height:1.42857143;display:block;padding:3px 20px;clear:both;color:#333;white-space:nowrap;cursor:pointer}.vs__dropdown-option--highlight{background:#5897fb;color:#fff}.vs__dropdown-option--deselect{background:#fb5858;color:#fff}.vs__dropdown-option--disabled{background:inherit;color:rgba(60,60,60,.5);cursor:inherit}.vs__selected{display:flex;align-items:center;background-color:#f0f0f0;border:1px solid rgba(60,60,60,.26);border-radius:4px;color:#333;line-height:1.4;margin:4px 2px 0px 2px;padding:0 .25em;z-index:0}.vs__deselect{display:inline-flex;appearance:none;margin-left:4px;padding:0;border:0;cursor:pointer;background:none;fill:rgba(60,60,60,.5);text-shadow:0 1px 0 #fff}.vs--single .vs__selected{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.vs--single.vs--open .vs__selected,.vs--single.vs--loading .vs__selected{position:absolute;opacity:.4}.vs--single.vs--searching .vs__selected{display:none}.vs__search::-webkit-search-cancel-button{display:none}.vs__search::-webkit-search-decoration,.vs__search::-webkit-search-results-button,.vs__search::-webkit-search-results-decoration,.vs__search::-ms-clear{display:none}.vs__search,.vs__search:focus{appearance:none;line-height:1.4;font-size:1em;border:1px solid rgba(0,0,0,0);border-left:none;outline:none;margin:4px 0 0 0;padding:0 7px;background:none;box-shadow:none;width:0;max-width:100%;flex-grow:1;z-index:1}.vs__search::placeholder{color:inherit}.vs--unsearchable .vs__search{opacity:1}.vs--unsearchable:not(.vs--disabled) .vs__search{cursor:pointer}.vs--single.vs--searching:not(.vs--open):not(.vs--loading) .vs__search{opacity:.2}.vs__spinner{align-self:center;opacity:0;font-size:5px;text-indent:-9999em;overflow:hidden;border-top:.9em solid rgba(100,100,100,.1);border-right:.9em solid rgba(100,100,100,.1);border-bottom:.9em solid rgba(100,100,100,.1);border-left:.9em solid rgba(60,60,60,.45);transform:translateZ(0);animation:vSelectSpinner 1.1s infinite linear;transition:opacity .1s}.vs__spinner,.vs__spinner:after{border-radius:50%;width:5em;height:5em}.vs--loading .vs__spinner{opacity:1}",""])},179:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var r=function(){return(r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=/-(\w)/g,n=/:(.*)/,s=/;(?![^(]*\))/g;function o(t,e){return e?e.toUpperCase():""}function c(t){for(var e,i={},r=0,c=t.split(s);r<c.length;r++){var l=c[r].split(n),u=l[0],d=l[1];(u=u.trim())&&("string"==typeof d&&(d=d.trim()),i[(e=u,e.replace(a,o))]=d)}return i}function l(){for(var t,e,i={},a=arguments.length;a--;)for(var n=0,s=Object.keys(arguments[a]);n<s.length;n++)switch(t=s[n]){case"class":case"style":case"directives":if(Array.isArray(i[t])||(i[t]=[]),"style"===t){var o=void 0;o=Array.isArray(arguments[a].style)?arguments[a].style:[arguments[a].style];for(var l=0;l<o.length;l++){var u=o[l];"string"==typeof u&&(o[l]=c(u))}arguments[a].style=o}i[t]=i[t].concat(arguments[a][t]);break;case"staticClass":if(!arguments[a][t])break;void 0===i[t]&&(i[t]=""),i[t]&&(i[t]+=" "),i[t]+=arguments[a][t].trim();break;case"on":case"nativeOn":i[t]||(i[t]={});for(var d=0,h=Object.keys(arguments[a][t]||{});d<h.length;d++)e=h[d],i[t][e]?i[t][e]=[].concat(i[t][e],arguments[a][t][e]):i[t][e]=arguments[a][t][e];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":i[t]||(i[t]={}),i[t]=r({},arguments[a][t],i[t]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:i[t]||(i[t]=arguments[a][t])}return i}},185:function(t,e,i){"undefined"!=typeof self&&self,t.exports=(()=>{var t={646:t=>{t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},713:t=>{t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},860:t=>{t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(t,e,i)=>{var r=i(646),a=i(860),n=i(206);t.exports=function(t){return r(t)||a(t)||n()}},8:t=>{function e(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(i)}t.exports=e}},e={};function i(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";i.r(r),i.d(r,{VueSelect:()=>b,default:()=>v,mixins:()=>y});var t=i(319),e=i.n(t),a=i(8),n=i.n(a),s=i(713),o=i.n(s);const c={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(t){var e=this;this.autoscroll&&t&&this.$nextTick((function(){return e.maybeAdjustScroll()}))}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var i=this.getDropdownViewport(),r=e.getBoundingClientRect(),a=r.top,n=r.bottom,s=r.height;if(a<i.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(n>i.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(i.height-s)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},l={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open:function(t){t&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected:function(){this.typeAheadPointer=0!==this.selectedValue.length?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},u={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function d(t,e,i,r,a,n,s,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),r&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=o?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}const h={Deselect:d({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[e("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[],!1,null,null,null).exports,OpenIndicator:d({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[e("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[],!1,null,null,null).exports},p={inserted:function(t,e,i){var r=i.context;if(r.appendToBody){var a=r.$refs.toggle.getBoundingClientRect(),n=a.height,s=a.top,o=a.left,c=a.width,l=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=r.calculatePosition(t,r,{width:c+"px",left:l+o+"px",top:u+s+n+"px"}),document.body.appendChild(t)}},unbind:function(t,e,i){i.context.appendToBody&&(t.unbindPosition&&"function"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};var g=0;function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const b=d({components:f({},h),directives:{appendToBody:p},mixins:[c,l,u],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return"object"===n()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(t),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):t}},getOptionKey:{type:Function,default:function(t){if("object"!==n()(t))return t;try{return t.hasOwnProperty("id")?t.id:function(t){var e={};return Object.keys(t).sort().forEach((function(i){e[i]=t[i]})),JSON.stringify(e)}(t)}catch(e){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,i){return(e||"").toLocaleLowerCase().indexOf(i.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(t,e){var i=this;return t.filter((function(t){var r=i.getOptionLabel(t);return"number"==typeof r&&(r=r.toString()),i.filterBy(t,r,e)}))}},createOption:{type:Function,default:function(t){return"object"===n()(this.optionList[0])?o()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return["function","boolean"].includes(n()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,i=t.multiple;return e&&!i}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,i){var r=i.width,a=i.top,n=i.left;t.style.top=a,t.style.left=n,t.style.width=r}},dropdownShouldOpen:{type:Function,default:function(t){var e=t.noDrop,i=t.open,r=t.mutableLoading;return!e&&i&&!r}},uid:{type:[String,Number],default:function(){return++g}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),null!=t&&""!==t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:f({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:e,listFooter:e,header:f({},e,{deselect:this.deselect}),footer:f({},e,{deselect:this.deselect})}},childComponents:function(){return f({},h,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var i=this.createOption(this.search);this.optionExists(i)||e.unshift(i)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(t,e){var i=this;!this.taggable&&("function"==typeof i.resetOnOptionsChange?i.resetOnOptionsChange(t,e,i.selectedValue):i.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?"open":"close")}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&this.$emit("option:created",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter((function(i){return!e.optionComparator(i,t)}))),this.$emit("option:deselected",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){var e=this;this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search=""),this.noDrop&&this.multiple&&this.$nextTick((function(){return e.$refs.search.focus()}))},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit("input",t)},toggleDropdown:function(t){var i=t.target!==this.searchEl;i&&t.preventDefault();var r=[].concat(e()(this.$refs.deselectButtons||[]),e()([this.$refs.clearButton]||!1));void 0===this.searchEl||r.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&i?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(i){return e.optionComparator(i,t)}))},isOptionDeselectable:function(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var i=this,r=[].concat(e()(this.options),e()(this.pushedTags)).filter((function(e){return JSON.stringify(i.reduce(e))===JSON.stringify(t)}));return 1===r.length?r[0]:r.find((function(t){return i.optionComparator(t,i.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=e()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(i){return e.optionComparator(i,t)}))},normalizeOptionForSlot:function(t){return"object"===n()(t)?t:o()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,i=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},r={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return r[t]=i}));var a=this.mapKeydown(r,this);if("function"==typeof a[t.keyCode])return a[t.keyCode](t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-select",class:t.stateClasses,attrs:{dir:t.dir}},[t._t("header",null,null,t.scope.header),t._v(" "),i("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+t.uid+"__combobox",role:"combobox","aria-expanded":t.dropdownOpen.toString(),"aria-owns":"vs"+t.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[i("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[t._l(t.selectedValue,(function(e){return t._t("selected-option-container",[i("span",{key:t.getOptionKey(e),staticClass:"vs__selected"},[t._t("selected-option",[t._v("\n            "+t._s(t.getOptionLabel(e))+"\n          ")],null,t.normalizeOptionForSlot(e)),t._v(" "),t.multiple?i("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:t.disabled,type:"button",title:"Deselect "+t.getOptionLabel(e),"aria-label":"Deselect "+t.getOptionLabel(e)},on:{click:function(i){return t.deselect(e)}}},[i(t.childComponents.Deselect,{tag:"component"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(" "),t._t("search",[i("input",t._g(t._b({staticClass:"vs__search"},"input",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(" "),i("div",{ref:"actions",staticClass:"vs__actions"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:t.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:t.clearSelection}},[i(t.childComponents.Deselect,{tag:"component"})],1),t._v(" "),t._t("open-indicator",[t.noDrop?t._e():i(t.childComponents.OpenIndicator,t._b({tag:"component"},"component",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(" "),t._t("spinner",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[t._v("Loading...")])],null,t.scope.spinner)],2)]),t._v(" "),i("transition",{attrs:{name:t.transition}},[t.dropdownOpen?i("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+t.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+t.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t("list-header",null,null,t.scope.listHeader),t._v(" "),t._l(t.filteredOptions,(function(e,r){return i("li",{key:t.getOptionKey(e),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":t.isOptionDeselectable(e)&&r===t.typeAheadPointer,"vs__dropdown-option--selected":t.isOptionSelected(e),"vs__dropdown-option--highlight":r===t.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(e)},attrs:{id:"vs"+t.uid+"__option-"+r,role:"option","aria-selected":r===t.typeAheadPointer||null},on:{mouseover:function(i){t.selectable(e)&&(t.typeAheadPointer=r)},click:function(i){i.preventDefault(),i.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t("option",[t._v("\n          "+t._s(t.getOptionLabel(e))+"\n        ")],null,t.normalizeOptionForSlot(e))],2)})),t._v(" "),0===t.filteredOptions.length?i("li",{staticClass:"vs__no-options"},[t._t("no-options",[t._v("\n          Sorry, no matching options.\n        ")],null,t.scope.noOptions)],2):t._e(),t._v(" "),t._t("list-footer",null,null,t.scope.listFooter)],2):i("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+t.uid+"__listbox",role:"listbox"}})]),t._v(" "),t._t("footer",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports,y={ajax:u,pointer:l,pointerScroll:c},v=b})(),r})()},186:function(t,e,i){"use strict";i.d(e,"a",(function(){return R}));var r=i(11),a=i(26),n=i(28),s=i(2),o=i(60),c=i(16),l=i(1),u=i(102),d=i(101),h=i(179),p=i(61),g=i(105);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){b(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y=Object(c.e)(g.b,["event","routerTag"]);delete y.href.default,delete y.to.default;var v=Object(l.c)(Object(c.g)(f(f({},y),{},{pill:Object(l.b)(s.e,!1),tag:Object(l.b)(s.j,"span"),variant:Object(l.b)(s.j,"secondary")})),a.a),S=Object(r.b)({name:a.a,functional:!0,props:v,render:function(t,e){var i=e.props,r=e.data,a=e.children,n=i.active,s=i.disabled,o=Object(p.d)(i),c=o?g.a:i.tag,u=i.variant||"secondary";return t(c,Object(h.a)(r,{staticClass:"badge",class:["badge-".concat(u),{"badge-pill":i.pill,active:n,disabled:s}],props:o?Object(l.d)(y,i):{}}),a)}}),D=i(59),A=i(37),O=i(4),T=i(104);var I=Object(l.c)({ariaLabel:Object(l.b)(s.j,"Close"),content:Object(l.b)(s.j,"&times;"),disabled:Object(l.b)(s.e,!1),textVariant:Object(l.b)(s.j)},a.c),w=Object(r.b)({name:a.c,functional:!0,props:I,render:function(t,e){var i,r,a,n=e.props,s=e.data,o=e.slots,c=e.scopedSlots,l=o(),u=c||{},d={staticClass:"close",class:(i={},r="text-".concat(n.textVariant),a=n.textVariant,r in i?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,i),attrs:{type:"button",disabled:n.disabled,"aria-label":n.ariaLabel?String(n.ariaLabel):null},on:{click:function(t){n.disabled&&Object(O.d)(t)&&Object(A.d)(t)}}};return Object(T.a)(D.b,u,l)||(d.domProps={innerHTML:n.content}),t("button",Object(h.a)(s,d),Object(T.b)(D.b,{},u,l))}});function C(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?C(Object(i),!0).forEach((function(e){P(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function P(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var E=Object(l.c)(Object(c.g)(x(x({},u.b),{},{disabled:Object(l.b)(s.e,!1),noRemove:Object(l.b)(s.e,!1),pill:Object(l.b)(s.e,!1),removeLabel:Object(l.b)(s.j,"Remove tag"),tag:Object(l.b)(s.j,"span"),title:Object(l.b)(s.j),variant:Object(l.b)(s.j,"secondary")})),a.e),R=Object(r.b)({name:a.e,mixins:[u.a,d.a],props:E,methods:{onRemove:function(t){var e=t.type,i=t.keyCode;this.disabled||"click"!==e&&("keydown"!==e||i!==o.b)||this.$emit(n.g)}},render:function(t){var e=this.title,i=this.tag,r=this.variant,a=this.pill,n=this.disabled,s=this.safeId(),o=this.safeId("_taglabel_"),c=t();this.noRemove||n||(c=t(w,{staticClass:"b-form-tag-remove",props:{ariaLabel:this.removeLabel},attrs:{"aria-controls":s,"aria-describedby":o,"aria-keyshortcuts":"Delete"},on:{click:this.onRemove,keydown:this.onRemove}}));var l=t("span",{staticClass:"b-form-tag-content flex-grow-1 text-truncate",attrs:{id:o}},this.normalizeSlot()||e);return t(S,{staticClass:"b-form-tag d-inline-flex align-items-baseline mw-100",class:{disabled:n},props:{tag:i,variant:r,pill:a},attrs:{id:s,title:e||null,"aria-labelledby":o}},[l,c])}})},2:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"e",(function(){return n})),i.d(e,"f",(function(){return s})),i.d(e,"g",(function(){return o})),i.d(e,"h",(function(){return c})),i.d(e,"j",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"i",(function(){return h}));var r=void 0,a=Array,n=Boolean,s=(Date,Function),o=Number,c=Object,l=(RegExp,String),u=[a,c,l],d=[a,l],h=[c,l]},20:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));i(4);var r=function(){return Array.from.apply(Array,arguments)},a=function(t,e){return-1!==t.indexOf(e)},n=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Array.prototype.concat.apply([],e)}},21:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return o})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return d}));var r="undefined"!=typeof window,a="undefined"!=typeof document,n="undefined"!=typeof navigator,s=r&&a&&n,o=r?window:{},c=a?document:{},l=n?navigator:{},u=(l.userAgent||"").toLowerCase(),d=(u.indexOf("jsdom"),/msie|trident/.test(u),function(){var t=!1;if(s)try{var e={get passive(){t=!0}};o.addEventListener("test",e,e),o.removeEventListener("test",e,e)}catch(e){t=!1}return t}());s&&("ontouchstart"in c.documentElement||l.maxTouchPoints),s&&Boolean(o.PointerEvent||o.MSPointerEvent),s&&"IntersectionObserver"in o&&"IntersectionObserverEntry"in o&&o.IntersectionObserverEntry.prototype},22:function(t,e,i){"use strict";i.d(e,"i",(function(){return u})),i.d(e,"e",(function(){return h})),i.d(e,"f",(function(){return g})),i.d(e,"j",(function(){return m})),i.d(e,"g",(function(){return f})),i.d(e,"d",(function(){return b})),i.d(e,"a",(function(){return v})),i.d(e,"h",(function(){return S})),i.d(e,"c",(function(){return O})),i.d(e,"b",(function(){return T}));var r=i(21),a=i(132),n=(i(20),i(4)),s=i(25),o=a.a.prototype,c=(["button","[href]:not(.disabled)","input","select","textarea","[tabindex]","[contenteditable]"].map((function(t){return"".concat(t,":not(:disabled):not([disabled])")})).join(", "),o.matches||o.msMatchesSelector||o.webkitMatchesSelector),l=o.closest||function(t){var e=this;do{if(f(e,t))return e;e=e.parentElement||e.parentNode}while(!Object(n.f)(e)&&e.nodeType===Node.ELEMENT_NODE);return null},u=(r.d.requestAnimationFrame||r.d.webkitRequestAnimationFrame||r.d.mozRequestAnimationFrame||r.d.msRequestAnimationFrame||r.d.oRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(r.d),d=(r.d.MutationObserver||r.d.WebKitMutationObserver||r.d.MozMutationObserver,function(t){return!(!t||t.nodeType!==Node.ELEMENT_NODE)}),h=function(t,e){return Object(s.d)(t).toLowerCase()===Object(s.d)(e).toLowerCase()},p=function(t){return d(t)&&t===function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=r.a.activeElement;return e&&!t.some((function(t){return t===e}))?e:null}()},g=function(t){if(!d(t)||!t.parentNode||!y(r.a.body,t))return!1;if("none"===D(t,"display"))return!1;var e=A(t);return!!(e&&e.height>0&&e.width>0)},m=function(t,e){return(d(e)?e:r.a).querySelector(t)||null},f=function(t,e){return!!d(t)&&c.call(t,e)},b=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d(e))return null;var r=l.call(e,t);return i?r:r===e?null:r},y=function(t,e){return!(!t||!Object(n.e)(t.contains))&&t.contains(e)},v=function(t,e){e&&d(t)&&t.classList&&t.classList.add(e)},S=function(t,e){e&&d(t)&&t.classList&&t.classList.remove(e)},D=function(t,e){return e&&d(t)&&t.style[e]||null},A=function(t){return d(t)?t.getBoundingClientRect():null},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t.focus(e)}catch(t){}return p(t)},T=function(t){try{t.blur()}catch(t){}return!p(t)}},222:function(t){t.exports=JSON.parse('{"listOfTimezones":["Africa/Abidjan","Africa/Accra","Africa/Nairobi","Africa/Algiers","Africa/Lagos","Africa/Bissau","Africa/Maputo","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Monrovia","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Port_of_Spain","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Curacao","America/Asuncion","America/Atikokan","America/Bahia_Banderas","America/Bahia","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Panama","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Danmarkshavn","America/Dawson_Creek","America/Dawson","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Tijuana","America/Fort_Nelson","America/Fort_Wayne","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Toronto","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Rio_Branco","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Pacific/Auckland","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Europe/Oslo","Asia/Riyadh","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Qatar","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Kolkata","Asia/Chita","Asia/Choibalsan","Asia/Shanghai","Asia/Colombo","Asia/Dhaka","Asia/Damascus","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Europe/Istanbul","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Urumqi","Asia/Kathmandu","Asia/Khandyga","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qostanay","Asia/Qyzylorda","Asia/Rangoon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Sydney","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lord_Howe","Australia/Lindeman","Australia/Melbourne","Australia/Perth","CET","Pacific/Easter","CST6CDT","EET","Europe/Dublin","EST","EST5EDT","Etc/GMT-0","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/London","Europe/Belgrade","Europe/Berlin","Europe/Prague","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Zurich","Europe/Chisinau","Europe/Copenhagen","Europe/Gibraltar","Europe/Helsinki","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Paris","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","HST","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","Pacific/Kwajalein","MET","MST","MST7MDT","Pacific/Chatham","Pacific/Apia","Pacific/Bougainville","Pacific/Chuuk","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Majuro","Pacific/Marquesas","Pacific/Pago_Pago","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","PST8PDT","WET"]}')},223:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);if(isNaN(e))return e;return e<0?Math.ceil(e):Math.floor(e)},t.exports=e.default},239:function(t,e,i){"use strict";i(178)},248:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(125),a=i(10),n=i(23);function s(t,e){Object(a.a)(2,arguments);var i=Object(n.a)(e);return Object(r.a)(t,-i)}},249:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(23),a=i(160),n=i(10);function s(t,e){Object(n.a)(2,arguments);var i=Object(r.a)(e);return Object(a.a)(t,-i)}},25:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"g",(function(){return o})),i.d(e,"a",(function(){return c})),i.d(e,"d",(function(){return l})),i.d(e,"f",(function(){return u})),i.d(e,"e",(function(){return d}));var r=i(31),a=i(4),n=function(t){return t.replace(r.d,"-$1").toLowerCase()},s=function(t){return(t=Object(a.j)(t)?t.trim():String(t)).charAt(0).toLowerCase()+t.slice(1)},o=function(t){return(t=Object(a.j)(t)?t.trim():String(t)).charAt(0).toUpperCase()+t.slice(1)},c=function(t){return t.replace(r.i,"\\$&")},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Object(a.l)(t)?"":Object(a.a)(t)||Object(a.i)(t)&&t.toString===Object.prototype.toString?JSON.stringify(t,null,e):String(t)},u=function(t){return l(t).replace(r.l,"")},d=function(t){return l(t).trim()}},250:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(23),a=i(193),n=i(10);function s(t,e){Object(n.a)(2,arguments);var i=Object(r.a)(e);return Object(a.a)(t,6e4*i)}},252:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(13),a=i(10);function n(t){Object(a.a)(1,arguments);var e=Object(r.a)(t),i=e.getDay();return 0===i||6===i}},26:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return o})),i.d(e,"f",(function(){return c})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return u}));var r="BBadge",a="BButton",n="BButtonClose",s="BFormInvalidFeedback",o="BFormTag",c="BFormTags",l="BFormText",u="BLink"},263:function(t,e,i){"use strict";var r=i(54),a=i(76),n=i(69),s=i(9),o=i(38);e.a={data:()=>({currentStreamingTick:{},totalVolume:{},lastUpdateDate:""}),methods:{handlePriceTick(t,e,i){let r;if(this.chartAPI&&this.currentStreamingTick[t]){const a=e.x;let n;if(n={x:e.x},n=a===this.currentStreamingTick[t].x?{...n,open:this.currentStreamingTick[t].open,high:e.y>this.currentStreamingTick[t].high?e.y:this.currentStreamingTick[t].high,low:e.y<this.currentStreamingTick[t].low?e.y:this.currentStreamingTick[t].low,close:e.y,y:e.y}:{...n,open:e.y,high:e.y,low:e.y,close:e.y,y:e.y},a===this.currentStreamingTick[t].x)this.log("Updating price for ric: ",t," with points: ",n),this.chartAPI.updatePoint(t,n,!0),r="point_updated";else{if(this.isPeriodicityWeekly(i)||this.isPeriodicityMonthly(i))return r="day_changed",r;this.log("Adding new price for ric: ",t," with points: ",n),this.chartAPI.addPoint(t,Object.values(n)),r="point_added"}this.currentStreamingTick[t]=n}return r},handleVolumeTick(t,e,i,r){let a;if(this.chartAPI&&this.currentStreamingTick.Volume){const s={x:t,y:this.currentStreamingTick.Volume.x===t?n.a.calculateVolume(e,i,r,this.totalVolume.y):0};this.currentStreamingTick.Volume.x===t?(this.log("Updating volume with points: ",s),this.chartAPI.updatePoint("Volume",s,!0),this.currentStreamingTick.Volume=s,a="point_updated"):(this.log("Adding new volume point:  ",s),this.chartAPI.addPoint("Volume",Object.values(s)),this.totalVolume=this.currentStreamingTick.Volume,this.currentStreamingTick.Volume=s,a="point_added")}return a},getRequestURIFids(t,e){let i="";return i+=e?"TIME,OPEN,HIGH,LOW,CLOSE":"_DATE_END,OPEN_PRC,HIGH_1,LOW_1,CLOSE_PRC",i+=t?e?",VOLUME":",ACVOL_1":"",i},updateLastTicks(t,e,i,r,a,o="line",c=!0){const l=this.isIntradayChart(e);let u=n.a.getRequestURIForTimeSeries(t,e,{fromDate:r,toDate:a},i,this.getRequestURIFids(c,l),!1);return this.log("Fetching data for base ric: ",u),s.a.Rest.get(u).then(r=>{r&&r.data&&r.data.data&&this.updateTicksOnIntervalChange(t,r.data.data,e,i,o,c)}).catch(t=>{console.error(`[${this.wid}] – Request error response from server.`,t)})},updateTicksOnIntervalChange(t,e,i,r,a,n){this.log("Series values: ",e);const s=this.isIntradayChart(i);e.length>0&&(e.sort((t,e)=>s?e.TIME-t.TIME:new Date(e._DATE_END)-new Date(t._DATE_END)),this.updatePriceTicksOnIntervalChange(t,e,i,r,a),n&&this.updateVolumeTicksOnIntervalChange(e,i,r))},updatePriceTicksOnIntervalChange(t,e,i,r,a){if(this.chartAPI&&this.isIntradayChart(i)){if(e[0]){const a=this.processTimeSeriesItem(e[0],i,r);this.currentStreamingTick[t]={...a},this.log("Updating price for ric: ",t," with points: ",{...a}),this.chartAPI.updatePoint(t,{...a},!0)}if(e[1]){const a=this.processTimeSeriesItem(e[1],i,r);this.log("Updating price for ric: ",t," with points: ",{...a}),this.chartAPI.updatePoint(t,{...a},!0)}}},updateVolumeTicksOnIntervalChange(t,e,i){const r=this.isIntradayChart(e);let a=0;if(t.length>=1){const r=this.formatVolumeItem(t[0],e,i);this.currentStreamingTick.Volume={...r},this.totalVolume={x:r.x,y:0},this.log("Updating volume with points: ",{...r}),this.chartAPI&&this.chartAPI.updatePoint("Volume",{...r},!0)}t.length>1&&(this.totalVolume=this.formatVolumeItem(t[1],e,i),this.log("Updating volume with points: ",{...this.totalVolume}),this.chartAPI&&this.chartAPI.updatePoint("Volume",{...this.totalVolume},!0)),t.forEach(t=>{if(r){const e=parseFloat(t.VOLUME);Object(o.f)(1e3*+t.TIME)&&(a+=e)}else{const e=parseFloat(t.ACVOL_1);a+=e}}),a>0&&(this.totalVolume.y=a-this.currentStreamingTick.Volume.y),this.log("Total calculated volume for all completed intervals: ",a),this.log("Current volume for last interval in chart is: ",this.currentStreamingTick.Volume),this.log("Total volume for all completed intervals is: ",this.totalVolume)},fetchDailyVolume(t,e,i){if(this.isHistoricalChart(e)&&(this.isPeriodicityMonthly(i)||this.isPeriodicityWeekly(i))){const e=new Date(this.currentStreamingTick[t].x),i=new Date(this.totalVolume.x);return i.setDate(i.getDate()+1),e.getUTCDate()===i.getUTCDate()?Promise.resolve():this.updateLastTicks(t,"historical","D",i,e,"line")}return Promise.resolve()},formatVolumeItem(t,e,i){if(this.isIntradayChart(e)){const e=Object(a.b)(t.TIME);return{x:Object(a.c)(e,i),y:parseFloat(t.VOLUME)}}return{x:r.a.getUTCTimestamp(t._DATE_END),y:parseFloat(t.ACVOL_1)}},processTimeSeriesItem(t,e,i){let n,s,o;const c=this.isIntradayChart(e);return c&&(s=Object(a.b)(t.TIME),o=Object(a.c)(s,i)),n={x:c?o:r.a.getUTCTimestamp(t._DATE_END),open:c?parseFloat(t.OPEN):parseFloat(t.OPEN_PRC),high:c?parseFloat(t.HIGH):parseFloat(t.HIGH_1),low:c?parseFloat(t.LOW):parseFloat(t.LOW_1),close:c?parseFloat(t.CLOSE):parseFloat(t.CLOSE_PRC),y:c?parseFloat(t.CLOSE):parseFloat(t.CLOSE_PRC)},n},getTimeStampFromStreamingData(t,e,i){if(this.isIntradayChart(e)){const e=t.split(":"),r=Object(o.a)(e[0],e[1],e[2]),n=Object(a.b)(r);return Object(a.c)(n,i)}return r.a.getUTCTimestamp(new Date(Date.now()).toISOString().split("T")[0])},isHistoricalChart:t=>"historical"===t,isPeriodicityWeekly:t=>"W"===t,isPeriodicityMonthly:t=>"M"===t,isIntradayChart:t=>"intraday"===t}}},270:function(t,e,i){"use strict";var r=i(161),a=i(248),n=i(249),s=i(10),o=i(23);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(Object(s.a)(2,arguments),!e||"object"!==c(e))return new Date(NaN);var i=e.years?Object(o.a)(e.years):0,r=e.months?Object(o.a)(e.months):0,l=e.weeks?Object(o.a)(e.weeks):0,u=e.days?Object(o.a)(e.days):0,d=e.hours?Object(o.a)(e.hours):0,h=e.minutes?Object(o.a)(e.minutes):0,p=e.seconds?Object(o.a)(e.seconds):0,g=Object(n.a)(t,r+12*i),m=Object(a.a)(g,u+7*l),f=h+60*d,b=p+60*f,y=1e3*b,v=new Date(m.getTime()-y);return v}var u=i(125),d=i(160),h=i(13);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(Object(s.a)(2,arguments),!e||"object"!==p(e))return new Date(NaN);var i=e.years?Object(o.a)(e.years):0,r=e.months?Object(o.a)(e.months):0,a=e.weeks?Object(o.a)(e.weeks):0,n=e.days?Object(o.a)(e.days):0,c=e.hours?Object(o.a)(e.hours):0,l=e.minutes?Object(o.a)(e.minutes):0,g=e.seconds?Object(o.a)(e.seconds):0,m=Object(h.a)(t),f=r||i?Object(d.a)(m,r+12*i):m,b=n||a?Object(u.a)(f,n+7*a):f,y=l+60*c,v=g+60*y,S=1e3*v,D=new Date(b.getTime()+S);return D}e.a={methods:{isWithInTradingHours(t,e){if(t){const i=Object(r.b)(1e3*t,e.timeZone),a=e.openTime.split(":"),n=e.closeTime.split(":"),o=new Date(new Date(1e3*t).setHours(parseInt(a[0]),parseInt(a[1]),0)),c=new Date(new Date(1e3*t).setHours(parseInt(n[0]),parseInt(n[1]),0));return function(t,e){Object(s.a)(2,arguments);var i=Object(h.a)(t).getTime(),r=Object(h.a)(e.start).getTime(),a=Object(h.a)(e.end).getTime();if(!(r<=a))throw new RangeError("Invalid interval");return i>=r&&i<=a}(i,{start:l(o,{minutes:1}),end:g(c,{minutes:1})})}return!1}}}},28:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return c})),i.d(e,"f",(function(){return l})),i.d(e,"g",(function(){return u})),i.d(e,"h",(function(){return d})),i.d(e,"j",(function(){return h})),i.d(e,"k",(function(){return p})),i.d(e,"i",(function(){return g}));var r=i(11),a="blur",n="click",s="focus",o="focusin",c="focusout",l="input",u="remove",d="tag-state",h=(r.c,r.c,"bv"),p="::",g={passive:!0}},291:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(13),a=i(10);function n(t){Object(a.a)(1,arguments);var e=Object(r.a)(t),i=e.getTime();return i}},31:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return n})),i.d(e,"f",(function(){return s})),i.d(e,"g",(function(){return o})),i.d(e,"i",(function(){return c})),i.d(e,"j",(function(){return l})),i.d(e,"k",(function(){return u})),i.d(e,"l",(function(){return d})),i.d(e,"m",(function(){return h})),i.d(e,"n",(function(){return p})),i.d(e,"o",(function(){return g})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return f})),i.d(e,"h",(function(){return b}));var r=/^(BV?)/,a=/\B([A-Z])/g,n=/([a-z])([A-Z])/g,s=/^[0-9]*\.?[0-9]+$/,o=/\+/g,c=/[-/\\^$*+?.()|[\]{}]/g,l=/[\s\uFEFF\xA0]+/g,u=/(\s|^)(\w)/g,d=/^\s+/,h=/\s+$/,p=/_/g,g=/-(\w)/g,m=/%2C/g,f=/[!'()*]/g,b=/^(\?|#|&)/},334:function(t,e,i){"use strict";var r=i(195),a=i(79),n=i(90),s=i(30),o=i(149),c=i(78),l=i(156),u=i(113),d=Object.prototype.hasOwnProperty;e.a=function(t){if(null==t)return!0;if(Object(o.a)(t)&&(Object(s.a)(t)||"string"==typeof t||"function"==typeof t.splice||Object(c.a)(t)||Object(u.a)(t)||Object(n.a)(t)))return!t.length;var e=Object(a.a)(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Object(l.a)(t))return!Object(r.a)(t).length;for(var i in t)if(d.call(t,i))return!1;return!0}},355:function(t,e,i){"use strict";var r=i(9);e.a={methods:{fetchFreshData(t,e="Stale",i=1e3){return this.getRestData(t,e).then(r=>!1===r?new Promise(r=>setTimeout(()=>{r(this.fetchFreshData(t,e,i))},i)):r).catch(t=>(console.error(t),console.log("error",t),null))},getRestData:async(t,e)=>r.a.Rest.get(t).then(t=>(!t.data.substatus||"NotReady"!==t.data.substatus&&"Stale"!==t.data.substatus||"NotReady"===e&&"Stale"===t.data.substatus)&&t).catch(t=>{throw new Error(t)})}}},356:function(t,e,i){"use strict";e.a={data:()=>({a11yLocalMessages:{},a11yDescription:{}}),mounted(){this.a11yLocalMessages={...this.i18n("a11y")}},computed:{mainChartA11yKeys(){switch(this.chartWidget){case"advancedChart":return{baseRic:{line:"tooltipBaseRicPriceDescription",area:"tooltipBaseRicPriceDescription",ohlc:"tooltipBaseRicOpenDescription",candlestick:"tooltipBaseRicOpenDescription"},additionalRic:"tooltipBenchmarkDescription"};case"basicChart":return{baseRic:{area:"baseRicPointDescription"},additionalRic:"compareRicPointDescription"}}}},methods:{calculatePointA11yDescription(t,e,i="intraday"){const r=t.x,a=e.id;this.a11yDescription[r]||(this.a11yDescription[r]=[],this.a11yDescription[r][0]=this.calculateDateA11yDescription(r,i),this.a11yDescription[r][1]={});let n="";if(e.a11yDescriptionKey)n=this.calculateIndicatorPointA11yDescription(t.y,e.a11yDescriptionKey,e.customTooltipFormatter);else if("line"===e.chartType||"area"===e.chartType){let i;e.isBaseRic?(i=this.mainChartA11yKeys.baseRic[e.chartType],n=this.a11yLocalMessages[i].replace("{VALUE}",t.y)):(i=this.mainChartA11yKeys.additionalRic,n=this.a11yLocalMessages[i].replace("{NAME}",e.name).replace("{VALUE}",t.y))}else{const i=this.mainChartA11yKeys.baseRic[e.chartType];n=this.a11yLocalMessages[i].replace("{HIGH}",t.high).replace("{LOW}",t.low).replace("{OPEN}",t.open).replace("{CLOSE}",t.close)}this.a11yDescription[r][1][a]=n},calculateIndicatorPointA11yDescription(t,e,i){return this.a11yLocalMessages[""+e].replace("{VALUE}",this.$f(t,i))},calculateDateA11yDescription(t,e){const i=new Date(t);let r=this.$f(i,"date.a11y");return"intraday"===e&&(r+=" "+this.$f(new Date(t+60*(new Date).getTimezoneOffset()*1e3),"time")),r},clearA11yDescription(t){for(let e in this.a11yDescription)this.a11yDescription[e][1]&&delete this.a11yDescription[e][1][t]},localeChanged(){this.a11yLocalMessages={...this.i18n("a11y")}}}}},357:function(t,e,i){"use strict";var r=i(543),a=i(69);e.a={methods:{calculatePeriodicity(t,e,i,n,s=!1,o=!0){let c;c=s?a.a.calculatePeriodicitiesForBasicChart(i,n,o):a.a.calculatePeriodicitiesForAdvancedChart(i,n);let l=Object(r.a)(i.toDate,i.fromDate);l=0===l?1:l;const u=t/e;let d=c[c.length-1];for(let t=0;t<c.length;t++){if(8*l*60/c[t].minutes<u){d=c[t];break}}return d}}}},358:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(23),a=i(125),n=i(10);function s(t,e){Object(n.a)(2,arguments);var i=Object(r.a)(e),s=7*i;return Object(a.a)(t,s)}},362:function(t,e,i){"use strict";class r{formatErrorMessage(t,e=[],i=[]){return e.reduce((t,e,r)=>t.split(e).join(i[r]),t)}formatSettingErrorMessage(t,e){return this.formatErrorMessage(t,["{SETTING}"],[e])}}const a="import_settings";function n(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class s extends r{constructor(t,e){super(),n(this,"operation",""),n(this,"config",{}),this.operation=t,this.config=e}parse(){throw new Error("parse is not implemented for the setting class")}getFormattedMessage(t,e){return{value:{[t]:e}}}getFormattedErrorMessage(t,e,i){let r={code:t,message:e};return i&&(r.key=i),{error:[r]}}escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}}var o=i(406);function c(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class l extends s{constructor(t,e,i,r){super(i,e),c(this,"name","benchmarks"),c(this,"internalName","benchmarkSelected"),c(this,"benchmarks",[]),c(this,"chartType",""),c(this,"scaling","linear"),i===a?(this.benchmarks=t.benchmarks,this.chartType=t.chartType?t.chartType:r.chartType,this.scaling=t.scaling?t.scaling:r.scaling):this.benchmarks=t.benchmarkSelected}parse(){if(this.operation===a)return this.parseImport();{const t=this.benchmarks.map(t=>({id:t.id,text:t.text}));return this.getFormattedMessage(this.name,t)}}parseImport(){if(this.benchmarks instanceof Array){let t=[],e=[];for(let i=0;i<this.benchmarks.length;i++){let r=this.benchmarks[i];r.id?(r.text||(r.text=r.id),t.push({id:r.id,text:this.escapeHtml(r.text)})):e.push({code:1003,message:this.formatSettingErrorMessage("One of the '{SETTING}' is of invalid format",this.name),key:`${this.name}[${i}]`})}if(this.benchmarks=Object(o.a)(t,t=>t.id),this.benchmarks.length){if("percent"!==this.scaling)return this.getFormattedErrorMessage(1011,"'scaling' should be 'percent' when 'benchmarks' are present");if("line"!==this.chartType&&"area"!==this.chartType)return this.getFormattedErrorMessage(1008,"'chartType' should have 'line' or 'area' as value when 'benchmarks' are present")}let i={...this.getFormattedMessage(this.internalName,this.benchmarks)};return e.length&&(i.error=e),i}return this.getFormattedErrorMessage(1006,this.formatSettingErrorMessage("'{SETTING}' should be of type Array",this.name),this.name)}}function u(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class d extends s{constructor(t,e,i,r){super(i,e),u(this,"name","chartType"),u(this,"chartType",""),u(this,"benchmarkCount",0),u(this,"scaling","linear"),u(this,"validTypes",["line","area","candlestick","ohlc"]),u(this,"validTypesForBenchmarksAndScaling",["line","area"]),this.chartType=t.chartType,i===a&&(this.benchmarkCount=t.benchmarks?t.benchmarks.length:r.benchmarkSelected.length,this.scaling=t.scaling?t.scaling:r.scaling)}parse(){return this.operation===a?this.parseImport():this.getFormattedMessage(this.name,this.chartType)}parseImport(){return this.validTypes.indexOf(this.chartType)>=0?0!==this.benchmarkCount&&-1===this.validTypesForBenchmarksAndScaling.indexOf(this.chartType)?this.getFormattedErrorMessage(1008,"'chartType' should have 'line' or 'area' as value when 'benchmarks' are present"):"linear"!==this.scaling&&-1===this.validTypesForBenchmarksAndScaling.indexOf(this.chartType)?this.getFormattedErrorMessage(1009,"'chartType should have 'line' or 'area' as value when 'scaling' is not 'linear'"):this.getFormattedMessage(this.name,this.chartType):this.getFormattedErrorMessage(1007,"'chartType' can only have 'line', 'area', 'candlestick' or 'ohlc' as value")}}var h=i(94);var p=function(t){return t&&t.length?Object(h.a)(t):[]},g=i(69);function m(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class f extends s{constructor(t,e,i,r){if(super(i,e),m(this,"name","indicators"),m(this,"internalName","indicatorsSelected"),m(this,"indicators",[]),m(this,"benchmarks",[]),i===a){this.indicators=t.indicators;let e=t.benchmarks?t.benchmarks:r.benchmarkSelected;this.benchmarks=e.map(t=>t.id)}else this.indicators=t.indicatorsSelected}parse(){return this.operation===a?this.parseImport():this.parseExport()}parseExport(){const t=this.indicators.map(t=>({value:t.value,params:t.params.map(t=>"object"==typeof t.value?{...t.value}:t.value)}));return this.getFormattedMessage(this.name,t)}parseImport(){if(this.indicators instanceof Array){let t=[],e=[];for(let i=0;i<this.indicators.length;i++){let r=this.indicators[i];if(r.value){const i=this.getIndicatorFromValue(r.value);if(i){const a=i.params;let n=[];if("S%"===r.value){let t={};if(r.params&&r.params[0]&&"object"==typeof r.params[0]){let i={...r.params[0]};i.value&&-1!==this.benchmarks.indexOf(i.value)?(i.label||(i.label=i.value),t={...i}):e.push({code:1022,message:this.formatErrorMessage("Benchmark RIC for Spread % indicator is not currently added.")})}else e.push({code:1021,message:this.formatErrorMessage("Spread % indicator param is invalid.")});n.push({value:t,label:a[0].label})}else for(let t=0;t<a.length;t++){const i=a[t];let s=i.value;r.params&&"number"==typeof r.params[t]?s=r.params[t]:e.push({code:1015,message:this.formatErrorMessage("'{PARAM}' for indicator '{INDICATOR}' should be an integer value. Using default value '{DEFAULT}'",["{INDICATOR}","{PARAM}","{DEFAULT}"],[r.value,i.label,s])}),n.push({value:s,label:i.label,default:i.value})}t.push({params:n,id:Math.round(100*Math.random(0,10))+(new Date).getTime()+"",label:i.label,labelOriginal:i.label,type:i.type,value:i.value})}else e.push({code:1014,message:this.formatErrorMessage("'indicators' value '{INDICATOR}' is not supported",["{INDICATOR}"],[r.value])})}else e.push({code:1003,message:this.formatSettingErrorMessage("One of the '{SETTING}' is of invalid format",this.name),key:`${this.name}[${i}]`})}if(this.indicators=t,!this.isIndicatorListValid())return this.getFormattedErrorMessage(1016,"Chart can have 2 SMA, 2 EMA, 1 of each in-chart indicators and 2 additional diagrams at any given point");let i={...this.getFormattedMessage(this.internalName,this.indicators)};return e.length&&(i.error=e),i}return this.getFormattedErrorMessage(1006,this.formatSettingErrorMessage("'{SETTING}' should be of type Array",this.name),this.name)}isIndicatorListValid(){let t=0,e=0,i=0,r=[],{SMA:a,EMA:n,INCHART_INDICATORS:s,ADDITIONAL_DIAGRAMS:o}=g.a.getMaxIndicatorCount(this.config.indicatorOptions);for(let a=0;a<this.indicators.length;a++)"SMA"===this.indicators[a].value&&t++,"EMA"===this.indicators[a].value&&e++,"additionalDiagrams"===this.indicators[a].type&&i++,"inChartIndicators"===this.indicators[a].type&&r.push(this.indicators[a].value);return t<=a&&e<=n&&i<=o&&p(r).length===r.length&&r.length<=s}getIndicatorFromValue(t){return this.config.indicatorOptions.find(e=>e.value==t)}}var b=i(54);function y(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class v extends s{constructor(t,e,i,r){if(super(i,e),y(this,"name","interval"),y(this,"timeRange",""),y(this,"timeRangeInStore",""),y(this,"dateRange",{}),y(this,"dateRangeInStore",{}),y(this,"periodicity",""),y(this,"isAutomaticPeriodicityChange",""),i===a){const e=t.interval;this.timeRange=e.relativeRange,this.timeRangeInStore=r.timeRange,this.dateRange=e.dateRange,this.dateRangeInStore=r.dateRange,e.hasOwnProperty("periodicity")?e.periodicity.value?(this.periodicity=e.periodicity.value,this.isAutomaticPeriodicityChange=!1):e.periodicity.hasOwnProperty("isAutomaticChange")?(this.periodicity=null,this.isAutomaticPeriodicityChange=e.periodicity.isAutomaticChange):(this.periodicity=r.periodicity,this.isAutomaticPeriodicityChange=r.isAutomaticPeriodicityChange):(this.periodicity=r.periodicity,this.isAutomaticPeriodicityChange=r.isAutomaticPeriodicityChange)}else this.timeRange=t.interval.timeRange,this.dateRange=t.interval.dateRange,this.periodicity=t.interval.periodicity,this.isAutomaticPeriodicityChange=t.interval.isAutomaticPeriodicityChange||!1;this.periodicity&&(this.periodicity+="")}parse(){return this.operation===a?this.parseImport():this.parseExport()}parseExport(){let t={};return this.timeRange&&(t.relativeRange=this.timeRange),"Other"===this.timeRange&&this.dateRange&&(t.dateRange={...this.dateRange}),!0===this.isAutomaticPeriodicityChange?t.periodicity={isAutomaticChange:this.isAutomaticPeriodicityChange}:this.periodicity&&(t.periodicity={value:this.periodicity}),this.getFormattedMessage(this.name,t)}parseImport(){let t={};if(this.timeRange&&"Other"!==this.timeRange){const e=this.getRelativeRangeOptions();if(!(e.indexOf(this.timeRange)>=0))return this.getFormattedErrorMessage(1002,this.formatErrorMessage("Invalid value for setting '{SETTING}'. Possible values are '{VALUES}'",["{SETTING}","{VALUES}"],["interval.relativeRange",e.join(", ")]),"interval.relativeRange");t={timeRange:this.timeRange,dateRange:this.getDaysFromCurrentDate(this.timeRange)}}else if(this.dateRange){if(!(this.dateRange.fromDate&&this.dateRange.fromDate instanceof Date))return this.getFormattedErrorMessage(1005,this.formatSettingErrorMessage("'{SETTING}' should be an instance of Date","interval.dateRange.fromDate"),"interval.dateRange.fromDate");if(!(this.dateRange.toDate&&this.dateRange.toDate instanceof Date))return this.getFormattedErrorMessage(1005,this.formatSettingErrorMessage("'{SETTING}' should be an instance of Date","interval.dateRange.toDate"),"interval.dateRange.toDate");t={timeRange:"Other",dateRange:{fromDate:this.dateRange.fromDate,toDate:this.dateRange.toDate}}}else t={timeRange:this.timeRangeInStore,dateRange:this.dateRangeInStore};let e=[];"boolean"==typeof this.isAutomaticPeriodicityChange?t.isAutomaticPeriodicityChange=this.isAutomaticPeriodicityChange:(t.isAutomaticPeriodicityChange=!0,e.push({code:1004,message:this.formatSettingErrorMessage("'{SETTING}' should be of type Boolean","interval.periodicity.isAutomaticChange"),key:"interval.periodicity.isAutomaticChange"}));const i=this.getPossiblePeriodicityOptions(t.dateRange);if(!0===t.isAutomaticPeriodicityChange)t.periodicity=i[0];else{if(!(i.indexOf(this.periodicity)>=0))return this.getFormattedErrorMessage(1002,this.formatErrorMessage("Invalid value for setting '{SETTING}'. Possible values are '{VALUES}'",["{SETTING}","{VALUES}"],["interval.periodicity",i.join(", ")]),"interval.periodicity");t.periodicity=this.periodicity}let r={value:t};return e.length&&(r.error=e),r}getDaysFromCurrentDate(t){return{fromDate:b.a.getDateForRange(new Date(Date.now()),t),toDate:new Date(Date.now())}}getRelativeRangeOptions(){return this.config.timeRangeOptions.map(t=>t.value)}getPossiblePeriodicityOptions(t){return g.a.calculatePeriodicitiesForAdvancedChart(t,this.config.periodicityOptions).map(t=>t.value)}}function S(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class D extends s{constructor(t,e,i,r){super(i,e),S(this,"name","scaling"),S(this,"chartType",""),S(this,"benchmarkCount",0),S(this,"scaling","linear"),S(this,"validTypes",["linear","percent","logarithmic"]),this.scaling=t.scaling,i===a&&(this.benchmarkCount=t.benchmarks?t.benchmarks.length:r.benchmarkSelected.length,this.chartType=t.chartType?t.chartType:r.chartType)}parse(){return this.operation===a?this.parseImport():this.getFormattedMessage(this.name,this.scaling)}parseImport(){return this.validTypes.indexOf(this.scaling)>=0?0!==this.benchmarkCount&&"percent"!==this.scaling?this.getFormattedErrorMessage(1011,"'scaling' should be 'percent' when 'benchmarks' are present"):"linear"!==this.scaling&&"line"!==this.chartType&&"area"!==this.chartType?this.getFormattedErrorMessage(1009,"'chartType should have 'line' or 'area' as value when 'scaling' is not 'linear'"):this.getFormattedMessage(this.name,this.scaling):this.getFormattedErrorMessage(1010,"'scaling' can only have 'linear', 'percent' or 'logarithmic' as value")}}function A(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class O extends s{constructor(t,e,i,r){super(i,e),A(this,"name","showTotalReturn"),A(this,"showTotalReturn",!1),A(this,"periodicity",0),A(this,"validPeriodicityTypesForTrue",["D","M","W","Y"]),this.showTotalReturn=t.showTotalReturn,i===a&&(this.periodicity=t.interval&&t.interval.periodicity?t.interval.periodicity:r.periodicity)}parse(){return this.operation===a?this.parseImport():this.getFormattedMessage(this.name,this.showTotalReturn)}parseImport(){return"boolean"==typeof this.showTotalReturn?!1===this.showTotalReturn||this.validPeriodicityTypesForTrue.indexOf(this.periodicity)>=0?this.getFormattedMessage(this.name,this.showTotalReturn):this.getFormattedErrorMessage(1017,"'showTotalReturn' can only be true for historical charts ('periodicity' should be one of 'D', 'W', 'M')"):this.getFormattedErrorMessage(1004,this.formatSettingErrorMessage("'{SETTING}' should be of type Boolean",this.name),this.name)}}function T(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class I extends s{constructor(t,e,i,r){super(i,e),T(this,"name","sigDev"),T(this,"internalName","sigDevSelected"),T(this,"sigDev",[]),i===a?(this.sigDev=t.sigDev,this.config=e):this.sigDev=t.sigDevSelected}parse(){return this.operation===a?this.parseImport():this.parseExport()}parseExport(){const t=this.sigDev.map(t=>t.className);return this.getFormattedMessage(this.name,t)}parseImport(){if(this.sigDev instanceof Array){let t=[],e=[];for(let i=0;i<this.sigDev.length;i++){const r=this.getSigDevFromClassName(this.sigDev[i]);r?t.push({...r}):e.push({code:1013,message:this.formatErrorMessage("'sigDev' '{EVENT}' is invalid.",["{EVENT}"],[this.sigDev[i]])})}this.sigDev=Object(o.a)(t,t=>t.value);const i=this.sigDev.findIndex(t=>0==t.value);-1!==i&&(this.sigDev=[this.sigDev[i]]);let r={...this.getFormattedMessage(this.internalName,this.sigDev)};return e.length&&(r.error=e),r}return this.getFormattedErrorMessage(1006,this.formatSettingErrorMessage("'{SETTING}' should be of type Array",this.name),this.name)}getSigDevFromClassName(t){return this.config.sigDevOptions.find(e=>e.className==t)}}function w(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class C extends s{constructor(t,e,i){super(i,e),w(this,"name","showVolume"),w(this,"showVolume",!1),this.showVolume=t.showVolume}parse(){return"boolean"==typeof this.showVolume?this.getFormattedMessage(this.name,this.showVolume):this.getFormattedErrorMessage(1004,this.formatSettingErrorMessage("'{SETTING}' should be of type Boolean",this.name),this.name)}}function x(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class P extends s{constructor(t,e,i){super(i,e),x(this,"name","showDatePicker"),x(this,"showDatePicker",!1),this.showDatePicker=t.showDatePicker}parse(){return"boolean"==typeof this.showDatePicker?this.getFormattedMessage(this.name,this.showDatePicker):this.getFormattedErrorMessage(1004,this.formatSettingErrorMessage("'{SETTING}' should be of type Boolean",this.name),this.name)}}function E(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class R extends s{constructor(t,e,i,r){super(i,e),E(this,"name","showCompareRics"),E(this,"showCompareRics",!1),E(this,"compareRics",[]),this.showCompareRics=t.showCompareRics,i===a&&(this.compareRics=t.compareRics?t.compareRics:r.compareRics)}parse(){return this.operation===a?this.parseImport():this.getFormattedMessage(this.name,this.showCompareRics)}parseImport(){return"boolean"==typeof this.showCompareRics?!1===this.showCompareRics&&this.compareRics.length>0?this.getFormattedErrorMessage(1018,"'compareRics' should be empty when 'showCompareRics' is false"):this.getFormattedMessage(this.name,this.showCompareRics):this.getFormattedErrorMessage(1004,this.formatSettingErrorMessage("'{SETTING}' should be of type Boolean",this.name),this.name)}}function j(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class _ extends s{constructor(t,e,i,r){super(i,e),j(this,"name","compareRics"),j(this,"compareRics",[]),j(this,"showCompareRics",!1),this.compareRics=t.compareRics,i===a&&(this.showCompareRics=t.hasOwnProperty("showCompareRics")?t.showCompareRics:r.showCompareRics)}parse(){if(this.operation===a)return this.parseImport();{const t=this.compareRics.map(t=>({id:t.id,text:t.text}));return this.getFormattedMessage(this.name,t)}}parseImport(){if(this.compareRics instanceof Array){let t=[],e=[];for(let i=0;i<this.compareRics.length;i++){let r=this.compareRics[i];r.id?(r.text||(r.text=r.id),t.push({id:r.id,text:this.escapeHtml(r.text)})):e.push({code:1003,message:this.formatSettingErrorMessage("One of the '{SETTING}' is of invalid format",this.name),key:`${this.name}[${i}]`})}if(this.compareRics=Object(o.a)(t,t=>t.id),this.compareRics.length&&1!=this.showCompareRics)return this.getFormattedErrorMessage(1018,"'compareRics' should be empty when 'showCompareRics' is false");let i={...this.getFormattedMessage(this.name,this.compareRics)};return e.length&&(i.error=e),i}return this.getFormattedErrorMessage(1006,this.formatSettingErrorMessage("'{SETTING}' should be of type Array",this.name),this.name)}}function F(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class L extends s{constructor(t,e,i,r){if(super(i,e),F(this,"name","interval"),F(this,"timeRange",""),F(this,"timeRangeInStore",""),F(this,"dateRange",{}),F(this,"dateRangeInStore",{}),F(this,"intradayEnabled",""),i===a){const e=t.interval;this.timeRange=e.relativeRange,this.timeRangeInStore=r.timeRange,this.dateRange=e.dateRange,this.dateRangeInStore=r.dateRange,this.intradayEnabled=e.hasOwnProperty("intradayEnabled")?e.intradayEnabled:r.intradayEnabled}else this.timeRange=t.interval.timeRange,this.dateRange=t.interval.dateRange,this.intradayEnabled=t.interval.intradayEnabled}parse(){return this.operation===a?this.parseImport():this.parseExport()}parseExport(){let t={};return this.timeRange&&(t.relativeRange=this.timeRange),"Other"===this.timeRange&&this.dateRange&&(t.dateRange={...this.dateRange}),t.intradayEnabled=this.intradayEnabled,this.getFormattedMessage(this.name,t)}parseImport(){let t={};if(this.timeRange&&"Other"!==this.timeRange){const e=this.getRelativeRangeOptions();if(!(e.indexOf(this.timeRange)>=0))return this.getFormattedErrorMessage(1002,this.formatErrorMessage("Invalid value for setting '{SETTING}'. Possible values are '{VALUES}'",["{SETTING}","{VALUES}"],["interval.relativeRange",e.join(", ")]),"interval.relativeRange");t={timeRange:this.timeRange,dateRange:this.getDaysFromCurrentDate(this.timeRange)}}else if(this.dateRange){if(!(this.dateRange.fromDate&&this.dateRange.fromDate instanceof Date))return this.getFormattedErrorMessage(1005,this.formatSettingErrorMessage("'{SETTING}' should be an instance of Date","interval.dateRange.fromDate"),"interval.dateRange.fromDate");if(!(this.dateRange.toDate&&this.dateRange.toDate instanceof Date))return this.getFormattedErrorMessage(1005,this.formatSettingErrorMessage("'{SETTING}' should be an instance of Date","interval.dateRange.toDate"),"interval.dateRange.toDate");t={timeRange:"Other",dateRange:{fromDate:this.dateRange.fromDate,toDate:this.dateRange.toDate}}}else t={timeRange:this.timeRangeInStore,dateRange:this.dateRangeInStore};if("boolean"!=typeof this.intradayEnabled)return this.getFormattedErrorMessage(1004,this.formatSettingErrorMessage("'{SETTING}' should be of type Boolean","interval.intradayEnabled"),"interval.intradayEnabled");if(t.intradayEnabled=this.intradayEnabled,1!=this.intradayEnabled&&"Other"!==t.timeRange){const e=this.getHistoricalRangeOptions();if(-1===e.indexOf(t.timeRange))return this.getFormattedErrorMessage(1020,this.formatErrorMessage("'interval.relativeRange' should be one of {VALUES} when 'interval.intradayEnabled' is false",["{VALUES}"],[e.join(", ")]))}return{value:t}}getDaysFromCurrentDate(t){return{fromDate:b.a.getDateForRange(new Date(Date.now()),t),toDate:new Date(Date.now())}}getHistoricalRangeOptions(){return this.config.timeRangeOptions.filter(t=>!0===t.isHistorical).map(t=>t.value)}getRelativeRangeOptions(){return this.config.timeRangeOptions.map(t=>t.value)}}function k(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.a=class extends r{constructor(t="",e=!1,i=[]){super(),k(this,"isReady",!1),k(this,"widget",""),k(this,"mandatorySettings",[]),k(this,"config",{}),this.widget=t,this.isReady=e,this.mandatorySettings=i}setConfig(t){this.config=t}setIsReady(t){this.isReady=t}setMandatorySettings(t){this.mandatorySettings=t}processImport(t,e){return this.isReady?this.process(t,this.mandatorySettings,a,e):this.getWidgetNotInitializedErrorInfo()}processExport(t){return this.isReady?this.process(t,[],"export_settings"):this.getWidgetNotInitializedErrorInfo()}getWidgetNotInitializedErrorInfo(){return{status:"ERROR",error:[{code:1e3,message:"Cannot call API to get config while widget is initializing"}]}}process(t={},e=[],i=a,r={}){let n="OK",s={},o=[];for(let c in t)if("function"==typeof this[c]){const a=this[c](t,this.config,i,r).parse();if(a.value)s={...s,...a.value};else if(e.indexOf(c)>=0){n="ERROR",o=a.error;break}a.error&&(n="PARTIAL",o=o.concat(a.error))}else i===a&&(n="PARTIAL",o.push({code:1001,message:this.formatSettingErrorMessage("'{SETTING}' is not valid for this widget",c)}));let c={status:n};switch(n){case"ERROR":c={...c,error:o};break;case"PARTIAL":c={...c,error:o};case"OK":c={...c,data:s}}return c}benchmarks(t,e,i,r){return new l(t,e,i,r)}benchmarkSelected(t,e,i,r){return new l(t,e,i,r)}chartType(t,e,i,r){return new d(t,e,i,r)}indicators(t,e,i,r){return new f(t,e,i,r)}indicatorsSelected(t,e,i,r){return new f(t,e,i,r)}interval(t,e,i,r){return"priceChart"===this.widget?new L(t,e,i,r):new v(t,e,i,r)}scaling(t,e,i,r){return new D(t,e,i,r)}showTotalReturn(t,e,i,r){return new O(t,e,i,r)}sigDev(t,e,i,r){return new I(t,e,i,r)}sigDevSelected(t,e,i,r){return new I(t,e,i,r)}showVolume(t,e,i,r){return new C(t,e,i,r)}showDatePicker(t,e,i,r){return new P(t,e,i,r)}showCompareRics(t,e,i,r){return new R(t,e,i,r)}compareRics(t,e,i,r){return new _(t,e,i,r)}}},37:function(t,e,i){"use strict";i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"c",(function(){return p}));var r=i(21),a=i(28),n=i(31),s=i(4),o=i(25),c=function(t){return r.b?Object(s.h)(t)?t:{capture:!!t||!1}:!!(Object(s.h)(t)?t.capture:t)},l=function(t,e,i,r){t&&t.addEventListener&&t.addEventListener(e,i,c(r))},u=function(t,e,i,r){t&&t.removeEventListener&&t.removeEventListener(e,i,c(r))},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.preventDefault,r=void 0===i||i,a=e.propagation,n=void 0===a||a,s=e.immediatePropagation,o=void 0!==s&&s;r&&t.preventDefault(),n&&t.stopPropagation(),o&&t.stopImmediatePropagation()},h=function(t){return Object(o.b)(t.replace(n.a,""))},p=function(t,e){return[a.j,h(t),e].join(a.k)}},376:function(t,e,i){"use strict";var r=i(89);e.a=function(t,e){return Object(r.a)(t,e)}},4:function(t,e,i){"use strict";i.d(e,"k",(function(){return n})),i.d(e,"f",(function(){return s})),i.d(e,"l",(function(){return o})),i.d(e,"e",(function(){return c})),i.d(e,"b",(function(){return l})),i.d(e,"j",(function(){return u})),i.d(e,"g",(function(){return d})),i.d(e,"a",(function(){return h})),i.d(e,"h",(function(){return p})),i.d(e,"i",(function(){return g})),i.d(e,"c",(function(){return m})),i.d(e,"d",(function(){return f}));i(31),i(132);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=function(t){return r(t)},n=function(t){return void 0===t},s=function(t){return null===t},o=function(t){return n(t)||s(t)},c=function(t){return"function"===a(t)},l=function(t){return"boolean"===a(t)},u=function(t){return"string"===a(t)},d=function(t){return"number"===a(t)},h=function(t){return Array.isArray(t)},p=function(t){return null!==t&&"object"===r(t)},g=function(t){return"[object Object]"===Object.prototype.toString.call(t)},m=function(t){return t instanceof Date},f=function(t){return t instanceof Event}},406:function(t,e,i){"use strict";var r=i(71),a=i(89);var n=function(t,e,i,n){var s=i.length,o=s,c=!n;if(null==t)return!o;for(t=Object(t);s--;){var l=i[s];if(c&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<o;){var u=(l=i[s])[0],d=t[u],h=l[1];if(c&&l[2]){if(void 0===d&&!(u in t))return!1}else{var p=new r.a;if(n)var g=n(d,h,u,t,e,p);if(!(void 0===g?Object(a.a)(h,d,3,n,p):g))return!1}}return!0},s=i(115);var o=function(t){return t==t&&!Object(s.a)(t)},c=i(169);var l=function(t){for(var e=Object(c.a)(t),i=e.length;i--;){var r=e[i],a=t[r];e[i]=[r,a,o(a)]}return e};var u=function(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}};var d=function(t){var e=l(t);return 1==e.length&&e[0][2]?u(e[0][0],e[0][1]):function(i){return i===t||n(i,t,e)}},h=i(30),p=i(112),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;var f=function(t,e){if(Object(h.a)(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Object(p.a)(t))||(m.test(t)||!g.test(t)||null!=e&&t in Object(e))},b=i(110);function y(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var r=arguments,a=e?e.apply(this,r):r[0],n=i.cache;if(n.has(a))return n.get(a);var s=t.apply(this,r);return i.cache=n.set(a,s)||n,s};return i.cache=new(y.Cache||b.a),i}y.Cache=b.a;var v=y;var S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D=/\\(\\)?/g,A=function(t){var e=v(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(S,(function(t,i,r,a){e.push(r?a.replace(D,"$1"):i||t)})),e})),O=i(45),T=i(124),I=O.a?O.a.prototype:void 0,w=I?I.toString:void 0;var C=function t(e){if("string"==typeof e)return e;if(Object(h.a)(e))return Object(T.a)(e,t)+"";if(Object(p.a)(e))return w?w.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i};var x=function(t){return null==t?"":C(t)};var P=function(t,e){return Object(h.a)(t)?t:f(t,e)?[t]:A(x(t))};var E=function(t){if("string"==typeof t||Object(p.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var R=function(t,e){for(var i=0,r=(e=P(e,t)).length;null!=t&&i<r;)t=t[E(e[i++])];return i&&i==r?t:void 0};var j=function(t,e,i){var r=null==t?void 0:R(t,e);return void 0===r?i:r};var _=function(t,e){return null!=t&&e in Object(t)},F=i(90),L=i(190),k=i(189);var M=function(t,e,i){for(var r=-1,a=(e=P(e,t)).length,n=!1;++r<a;){var s=E(e[r]);if(!(n=null!=t&&i(t,s)))break;t=t[s]}return n||++r!=a?n:!!(a=null==t?0:t.length)&&Object(k.a)(a)&&Object(L.a)(s,a)&&(Object(h.a)(t)||Object(F.a)(t))};var N=function(t,e){return null!=t&&M(t,e,_)};var V=function(t,e){return f(t)&&o(e)?u(E(t),e):function(i){var r=j(i,t);return void 0===r&&r===e?N(i,t):Object(a.a)(e,r,3)}},$=i(191);var H=function(t){return function(e){return null==e?void 0:e[t]}};var B=function(t){return function(e){return R(e,t)}};var U=function(t){return f(t)?H(E(t)):B(t)};var K=function(t){return"function"==typeof t?t:null==t?$.a:"object"==typeof t?Object(h.a)(t)?V(t[0],t[1]):d(t):U(t)},G=i(94);e.a=function(t,e){return t&&t.length?Object(G.a)(t,K(e,2)):[]}},407:function(t,e,i){"use strict";i.d(e,"a",(function(){return mt}));var r=i(11),a=i(26),n=i(28),s=i(60),o=i(2),c=i(31),l=i(59),u=i(20),d=i(25),h=function(t){return"\\"+t},p=i(22),g=i(37),m=i(41),f=i(4),b=i(103),y=i(1);function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var S=i(16),D=Object(y.c)({autofocus:Object(y.b)(o.e,!1),disabled:Object(y.b)(o.e,!1),form:Object(y.b)(o.j),id:Object(y.b)(o.j),name:Object(y.b)(o.j),required:Object(y.b)(o.e,!1)},"formControls"),A=Object(r.b)({props:D,mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var t=this;this.$nextTick((function(){Object(p.i)((function(){var e=t.$el;t.autofocus&&Object(p.f)(e)&&(Object(p.g)(e,"input, textarea, select")||(e=Object(p.j)("input, textarea, select",e)),Object(p.c)(e))}))}))}}}),O=Object(y.c)({size:Object(y.b)(o.j)},"formControls"),T=Object(r.b)({props:O,computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]}}}),I=i(122),w=Object(y.c)({state:Object(y.b)(o.e,null)},"formState"),C=Object(r.b)({props:w,computed:{computedState:function(){return Object(f.b)(this.state)?this.state:null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null},computedAriaInvalid:function(){var t=Object(I.a)(this).ariaInvalid;return!0===t||"true"===t||""===t||!1===this.computedState?"true":t}}}),x=i(102),P=i(133),E=i(101),R=i(179),j=i(61),_=i(105);function F(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?F(Object(i),!0).forEach((function(e){k(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function k(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var M=Object(S.e)(_.b,["event","routerTag"]);delete M.href.default,delete M.to.default;var N=Object(y.c)(Object(S.g)(L(L({},M),{},{block:Object(y.b)(o.e,!1),disabled:Object(y.b)(o.e,!1),pill:Object(y.b)(o.e,!1),pressed:Object(y.b)(o.e,null),size:Object(y.b)(o.j),squared:Object(y.b)(o.e,!1),tag:Object(y.b)(o.j,"button"),type:Object(y.b)(o.j,"button"),variant:Object(y.b)(o.j,"secondary")})),a.b),V=function(t){"focusin"===t.type?Object(p.a)(t.target,"focus"):"focusout"===t.type&&Object(p.h)(t.target,"focus")},$=function(t){return Object(j.d)(t)||Object(p.e)(t.tag,"a")},H=function(t){return Object(f.b)(t.pressed)},B=function(t){return!($(t)||t.tag&&!Object(p.e)(t.tag,"button"))},U=function(t){return!$(t)&&!B(t)},K=function(t){var e;return["btn-".concat(t.variant||"secondary"),(e={},k(e,"btn-".concat(t.size),t.size),k(e,"btn-block",t.block),k(e,"rounded-pill",t.pill),k(e,"rounded-0",t.squared&&!t.pill),k(e,"disabled",t.disabled),k(e,"active",t.pressed),e)]},G=function(t){return $(t)?Object(y.d)(M,t):{}},W=function(t,e){var i=B(t),r=$(t),a=H(t),n=U(t),s=r&&"#"===t.href,o=e.attrs&&e.attrs.role?e.attrs.role:null,c=e.attrs?e.attrs.tabindex:null;return(n||s)&&(c="0"),{type:i&&!r?t.type:null,disabled:i?t.disabled:null,role:n||s?"button":o,"aria-disabled":n?String(t.disabled):null,"aria-pressed":a?String(t.pressed):null,autocomplete:a?"off":null,tabindex:t.disabled&&!i?"-1":c}},Y=Object(r.b)({name:a.b,functional:!0,props:N,render:function(t,e){var i=e.props,r=e.data,a=e.listeners,n=e.children,o=H(i),c=$(i),l=U(i),d=c&&"#"===i.href,h={keydown:function(t){if(!i.disabled&&(l||d)){var e=t.keyCode;if(e===s.d||e===s.c&&l){var r=t.currentTarget||t.target;Object(g.d)(t,{propagation:!1}),r.click()}}},click:function(t){i.disabled&&Object(f.d)(t)?Object(g.d)(t):o&&a&&a["update:pressed"]&&Object(u.b)(a["update:pressed"]).forEach((function(t){Object(f.e)(t)&&t(!i.pressed)}))}};o&&(h.focusin=V,h.focusout=V);var p={staticClass:"btn",class:K(i),props:G(i),attrs:W(i,r),on:h};return t(c?_.a:i.tag,Object(R.a)(L(L({},r),{},{props:void 0}),p),n)}}),z=Object(y.c)({ariaLive:Object(y.b)(o.j),forceShow:Object(y.b)(o.e,!1),id:Object(y.b)(o.j),role:Object(y.b)(o.j),state:Object(y.b)(o.e,null),tag:Object(y.b)(o.j,"div"),tooltip:Object(y.b)(o.e,!1)},a.d),q=Object(r.b)({name:a.d,functional:!0,props:z,render:function(t,e){var i=e.props,r=e.data,a=e.children,n=i.tooltip,s=i.ariaLive,o=!0===i.forceShow||!1===i.state;return t(i.tag,Object(R.a)(r,{class:{"d-block":o,"invalid-feedback":!n,"invalid-tooltip":n},attrs:{id:i.id||null,role:i.role||null,"aria-live":s||null,"aria-atomic":s?"true":null}}),a)}});var Z,J=Object(y.c)({id:Object(y.b)(o.j),inline:Object(y.b)(o.e,!1),tag:Object(y.b)(o.j,"small"),textVariant:Object(y.b)(o.j,"muted")},a.g),X=Object(r.b)({name:a.g,functional:!0,props:J,render:function(t,e){var i,r,a,n=e.props,s=e.data,o=e.children;return t(n.tag,Object(R.a)(s,{class:(i={"form-text":!n.inline},r="text-".concat(n.textVariant),a=n.textVariant,r in i?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,i),attrs:{id:n.id}}),o)}}),Q=i(186);function tt(t){return function(t){if(Array.isArray(t))return et(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return et(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function it(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function rt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?it(Object(i),!0).forEach((function(e){at(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):it(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function at(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.type,a=void 0===i?o.a:i,s=e.defaultValue,c=void 0===s?void 0:s,l=e.validator,u=void 0===l?void 0:l,d=e.event,h=void 0===d?n.f:d,p=v({},t,Object(y.b)(a,c,u)),g=Object(r.b)({model:{prop:t,event:h},props:p});return{mixin:g,props:p,prop:t,event:h}}("value",{type:o.b,defaultValue:[]}),st=nt.mixin,ot=nt.props,ct=nt.prop,lt=nt.event,ut=["text","email","tel","url","number"],dt=[".b-form-tag","button","input","select"].join(" "),ht=function(t){return Object(u.b)(t).map((function(t){return Object(d.e)(Object(d.d)(t))})).filter((function(t,e,i){return t.length>0&&i.indexOf(t)===e}))},pt=function(t){return Object(f.j)(t)?t:Object(f.d)(t)&&t.target.value||""},gt=Object(y.c)(Object(S.g)(rt(rt(rt(rt(rt(rt({},x.b),ot),D),O),w),{},{addButtonText:Object(y.b)(o.j,"Add"),addButtonVariant:Object(y.b)(o.j,"outline-secondary"),addOnChange:Object(y.b)(o.e,!1),duplicateTagText:Object(y.b)(o.j,"Duplicate tag(s)"),feedbackAriaLive:Object(y.b)(o.j,"assertive"),ignoreInputFocusSelector:Object(y.b)(o.d,dt),inputAttrs:Object(y.b)(o.h,{}),inputClass:Object(y.b)(o.c),inputId:Object(y.b)(o.j),inputType:Object(y.b)(o.j,"text",(function(t){return Object(u.a)(ut,t)})),invalidTagText:Object(y.b)(o.j,"Invalid tag(s)"),limit:Object(y.b)(o.g),limitTagsText:Object(y.b)(o.j,"Tag limit reached"),noAddOnEnter:Object(y.b)(o.e,!1),noOuterFocus:Object(y.b)(o.e,!1),noTagRemove:Object(y.b)(o.e,!1),placeholder:Object(y.b)(o.j,"Add tag..."),removeOnDelete:Object(y.b)(o.e,!1),separator:Object(y.b)(o.d),tagClass:Object(y.b)(o.c),tagPills:Object(y.b)(o.e,!1),tagRemoveLabel:Object(y.b)(o.j,"Remove tag"),tagRemovedLabel:Object(y.b)(o.j,"Tag removed"),tagValidator:Object(y.b)(o.f),tagVariant:Object(y.b)(o.j,"secondary")})),a.f),mt=Object(r.b)({name:a.f,mixins:[P.a,x.a,st,A,T,C,E.a],props:gt,data:function(){return{hasFocus:!1,newTag:"",tags:[],removedTags:[],tagsState:{all:[],valid:[],invalid:[],duplicate:[]},focusState:null}},computed:{computedInputId:function(){return this.inputId||this.safeId("__input__")},computedInputType:function(){return Object(u.a)(ut,this.inputType)?this.inputType:"text"},computedInputAttrs:function(){var t=this.disabled,e=this.form;return rt(rt({},this.inputAttrs),{},{id:this.computedInputId,value:this.newTag,disabled:t,form:e})},computedInputHandlers:function(){return rt(rt({},Object(S.e)(this.bvListeners,[n.d,n.e])),{},{blur:this.onInputBlur,change:this.onInputChange,focus:this.onInputFocus,input:this.onInputInput,keydown:this.onInputKeydown,reset:this.reset})},computedSeparator:function(){return Object(u.b)(this.separator).filter(f.j).filter(m.a).join("")},computedSeparatorRegExp:function(){var t,e=this.computedSeparator;return e?new RegExp("[".concat((t=e,Object(d.a)(t).replace(c.j,"\\s")),"]+")):null},computedJoiner:function(){var t=this.computedSeparator.charAt(0);return" "!==t?"".concat(t," "):t},computeIgnoreInputFocusSelector:function(){return Object(u.b)(this.ignoreInputFocusSelector).filter(m.a).join(",").trim()},disableAddButton:function(){var t=this,e=Object(d.e)(this.newTag);return""===e||!this.splitTags(e).some((function(e){return!Object(u.a)(t.tags,e)&&t.validateTag(e)}))},duplicateTags:function(){return this.tagsState.duplicate},hasDuplicateTags:function(){return this.duplicateTags.length>0},invalidTags:function(){return this.tagsState.invalid},hasInvalidTags:function(){return this.invalidTags.length>0},isLimitReached:function(){var t=this.limit;return Object(f.g)(t)&&t>=0&&this.tags.length>=t}},watch:(Z={},at(Z,ct,(function(t){this.tags=ht(t)})),at(Z,"tags",(function(t,e){Object(b.a)(t,this[ct])||this.$emit(lt,t),Object(b.a)(t,e)||(t=Object(u.b)(t).filter(m.a),e=Object(u.b)(e).filter(m.a),this.removedTags=e.filter((function(e){return!Object(u.a)(t,e)})))})),at(Z,"tagsState",(function(t,e){Object(b.a)(t,e)||this.$emit(n.h,t.valid,t.invalid,t.duplicate)})),Z),created:function(){this.tags=ht(this[ct])},mounted:function(){var t=Object(p.d)("form",this.$el);t&&Object(g.b)(t,"reset",this.reset,n.i)},beforeDestroy:function(){var t=Object(p.d)("form",this.$el);t&&Object(g.a)(t,"reset",this.reset,n.i)},methods:{addTag:function(t){if(t=Object(f.j)(t)?t:this.newTag,!this.disabled&&""!==Object(d.e)(t)&&!this.isLimitReached){var e=this.parseTags(t);if(e.valid.length>0||0===e.all.length)if(Object(p.g)(this.getInput(),"select"))this.newTag="";else{var i=[].concat(tt(e.invalid),tt(e.duplicate));this.newTag=e.all.filter((function(t){return Object(u.a)(i,t)})).join(this.computedJoiner).concat(i.length>0?this.computedJoiner.charAt(0):"")}e.valid.length>0&&(this.tags=Object(u.b)(this.tags,e.valid)),this.tagsState=e,this.focus()}},removeTag:function(t){this.disabled||(this.tags=this.tags.filter((function(e){return e!==t})))},reset:function(){var t=this;this.newTag="",this.tags=[],this.$nextTick((function(){t.removedTags=[],t.tagsState={all:[],valid:[],invalid:[],duplicate:[]}}))},onInputInput:function(t){if(!(this.disabled||Object(f.d)(t)&&t.target.composing)){var e=pt(t),i=this.computedSeparatorRegExp;this.newTag!==e&&(this.newTag=e),e=Object(d.f)(e),i&&i.test(e.slice(-1))?this.addTag():this.tagsState=""===e?{all:[],valid:[],invalid:[],duplicate:[]}:this.parseTags(e)}},onInputChange:function(t){if(!this.disabled&&this.addOnChange){var e=pt(t);this.newTag!==e&&(this.newTag=e),this.addTag()}},onInputKeydown:function(t){if(!this.disabled&&Object(f.d)(t)){var e=t.keyCode,i=t.target.value||"";this.noAddOnEnter||e!==s.c?!this.removeOnDelete||e!==s.a&&e!==s.b||""!==i||(Object(g.d)(t,{propagation:!1}),this.tags=this.tags.slice(0,-1)):(Object(g.d)(t,{propagation:!1}),this.addTag())}},onClick:function(t){var e=this,i=this.computeIgnoreInputFocusSelector;i&&Object(p.d)(i,t.target,!0)||this.$nextTick((function(){e.focus()}))},onInputFocus:function(t){var e=this;"out"!==this.focusState&&(this.focusState="in",this.$nextTick((function(){Object(p.i)((function(){e.hasFocus&&(e.$emit(n.c,t),e.focusState=null)}))})))},onInputBlur:function(t){var e=this;"in"!==this.focusState&&(this.focusState="out",this.$nextTick((function(){Object(p.i)((function(){e.hasFocus||(e.$emit(n.a,t),e.focusState=null)}))})))},onFocusin:function(t){this.hasFocus=!0,this.$emit(n.d,t)},onFocusout:function(t){this.hasFocus=!1,this.$emit(n.e,t)},handleAutofocus:function(){var t=this;this.$nextTick((function(){Object(p.i)((function(){t.autofocus&&t.focus()}))}))},focus:function(){this.disabled||Object(p.c)(this.getInput())},blur:function(){this.disabled||Object(p.b)(this.getInput())},splitTags:function(t){t=Object(d.d)(t);var e=this.computedSeparatorRegExp;return(e?t.split(e):[t]).map(d.e).filter(m.a)},parseTags:function(t){var e=this,i=this.splitTags(t),r={all:i,valid:[],invalid:[],duplicate:[]};return i.forEach((function(t){Object(u.a)(e.tags,t)||Object(u.a)(r.valid,t)?Object(u.a)(r.duplicate,t)||r.duplicate.push(t):e.validateTag(t)?r.valid.push(t):Object(u.a)(r.invalid,t)||r.invalid.push(t)})),r},validateTag:function(t){var e=this.tagValidator;return!Object(y.a)(e)||e(t)},getInput:function(){return Object(p.j)("#".concat((t=this.computedInputId,e=(t=Object(d.d)(t)).length,i=t.charCodeAt(0),t.split("").reduce((function(r,a,n){var s=t.charCodeAt(n);return 0===s?r+"�":127===s||s>=1&&s<=31||0===n&&s>=48&&s<=57||1===n&&s>=48&&s<=57&&45===i?r+h("".concat(s.toString(16)," ")):0===n&&45===s&&1===e?r+h(a):s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?r+a:r+h(a)}),""))),this.$el);var t,e,i},defaultRender:function(t){var e=t.addButtonText,i=t.addButtonVariant,r=t.addTag,a=t.disableAddButton,n=t.disabled,s=t.duplicateTagText,o=t.inputAttrs,c=t.inputClass,u=t.inputHandlers,h=t.inputType,p=t.invalidTagText,g=t.isDuplicate,f=t.isInvalid,b=t.isLimitReached,y=t.limitTagsText,v=t.noTagRemove,S=t.placeholder,D=t.removeTag,A=t.tagClass,O=t.tagPills,T=t.tagRemoveLabel,I=t.tagVariant,w=t.tags,C=this.$createElement,x=w.map((function(t){return t=Object(d.d)(t),C(Q.a,{class:A,props:{disabled:n,noRemove:v,pill:O,removeLabel:T,tag:"li",title:t,variant:I},on:{remove:function(){return D(t)}},key:"tags_".concat(t)},t)})),P=p&&f?this.safeId("__invalid_feedback__"):null,E=s&&g?this.safeId("__duplicate_feedback__"):null,R=y&&b?this.safeId("__limit_feedback__"):null,j=[o["aria-describedby"],P,E,R].filter(m.a).join(" "),_=C("input",{staticClass:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",class:c,style:{outline:0,minWidth:"5rem"},attrs:rt(rt({},o),{},{"aria-describedby":j||null,type:h,placeholder:S||null}),domProps:{value:o.value},on:u,directives:[{name:"model",value:o.value}],ref:"input"}),F=C(Y,{staticClass:"b-form-tags-button py-0",class:{invisible:a},style:{fontSize:"90%"},props:{disabled:a||b,variant:i},on:{click:function(){return r()}},ref:"button"},[this.normalizeSlot(l.a)||e]),L=this.safeId("__tag_list__"),k=C("li",{staticClass:"b-form-tags-field flex-grow-1",attrs:{role:"none","aria-live":"off","aria-controls":L},key:"tags_field"},[C("div",{staticClass:"d-flex",attrs:{role:"group"}},[_,F])]),M=C("ul",{staticClass:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center",attrs:{id:L},key:"tags_list"},[x,k]),N=C();if(p||s||y){var V=this.feedbackAriaLive,$=this.computedJoiner,H=C();P&&(H=C(q,{props:{id:P,ariaLive:V,forceShow:!0},key:"tags_invalid_feedback"},[this.invalidTagText,": ",this.invalidTags.join($)]));var B=C();E&&(B=C(X,{props:{id:E,ariaLive:V},key:"tags_duplicate_feedback"},[this.duplicateTagText,": ",this.duplicateTags.join($)]));var U=C();R&&(U=C(X,{props:{id:R,ariaLive:V},key:"tags_limit_feedback"},[y])),N=C("div",{attrs:{"aria-live":"polite","aria-atomic":"true"},key:"tags_feedback"},[H,B,U])}return[M,N]}},render:function(t){var e=this.name,i=this.disabled,r=this.required,a=this.form,n=this.tags,s=this.computedInputId,o=this.hasFocus,c=this.noOuterFocus,u=rt({tags:n.slice(),inputAttrs:this.computedInputAttrs,inputType:this.computedInputType,inputHandlers:this.computedInputHandlers,removeTag:this.removeTag,addTag:this.addTag,reset:this.reset,inputId:s,isInvalid:this.hasInvalidTags,invalidTags:this.invalidTags.slice(),isDuplicate:this.hasDuplicateTags,duplicateTags:this.duplicateTags.slice(),isLimitReached:this.isLimitReached,disableAddButton:this.disableAddButton},Object(S.f)(this.$props,["addButtonText","addButtonVariant","disabled","duplicateTagText","form","inputClass","invalidTagText","limit","limitTagsText","noTagRemove","placeholder","required","separator","size","state","tagClass","tagPills","tagRemoveLabel","tagVariant"])),d=this.normalizeSlot(l.b,u)||this.defaultRender(u),h=t("output",{staticClass:"sr-only",attrs:{id:this.safeId("__selected_tags__"),role:"status",for:s,"aria-live":o?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"}},this.tags.join(", ")),p=t("div",{staticClass:"sr-only",attrs:{id:this.safeId("__removed_tags__"),role:"status","aria-live":o?"assertive":"off","aria-atomic":"true"}},this.removedTags.length>0?"(".concat(this.tagRemovedLabel,") ").concat(this.removedTags.join(", ")):""),g=t();if(e&&!i){var m=n.length>0;g=(m?n:[""]).map((function(i){return t("input",{class:{"sr-only":!m},attrs:{type:m?"hidden":"text",value:i,required:r,name:e,form:a},key:"tag_input_".concat(i)})}))}return t("div",{staticClass:"b-form-tags form-control h-auto",class:[{focus:o&&!c&&!i,disabled:i},this.sizeFormClass,this.stateClass],attrs:{id:this.safeId(),role:"group",tabindex:i||c?null:"-1","aria-describedby":this.safeId("__selected_tags__")},on:{click:this.onClick,focusin:this.onFocusin,focusout:this.onFocusout}},[h,p,d,g])}})},41:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var r=function(t){return t}},509:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i(13),a=i(175),n=i(10);function s(t,e){var i=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return i<0?-1:i>0?1:i}function o(t,e){Object(n.a)(2,arguments);var i=Object(r.a)(t),o=Object(r.a)(e),c=s(i,o),l=Math.abs(Object(a.a)(i,o));i.setDate(i.getDate()-c*l);var u=Number(s(i,o)===-c),d=c*(l-u);return 0===d?0:d}},51:function(t,e,i){"use strict";e.a=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}},54:function(t,e,i){"use strict";var r=i(222),a=i(161);const n=(t,e,i,r)=>{const a=new Date(t);return a.setDate(a.getDate()+e),a.setMonth(a.getMonth()+i),a.setFullYear(a.getFullYear()+r),a};e.a={getDelta:n,getDateForRange:(t,e)=>{const i=n;switch(e){case"D":case"1D":return i(t,0,0,0);case"2D":return i(t,-1,0,0);case"3D":return i(t,-2,0,0);case"4D":return i(t,-3,0,0);case"5D":return i(t,-4,0,0);case"10D":return i(t,-9,0,0);case"W":case"1W":return i(t,-7,0,0);case"2W":return i(t,-14,0,0);case"M":case"1M":return i(t,0,-1,0);case"3M":return i(t,0,-3,0);case"6M":return i(t,0,-6,0);case"Y":case"1Y":return i(t,0,0,-1);case"2Y":return i(t,0,0,-2);case"3Y":return i(t,0,0,-3);case"5Y":return i(t,0,0,-5);case"10Y":return i(t,0,0,-10);case"20Y":return i(t,0,0,-20);case"YTD":return new Date(t.getFullYear(),0,1);default:return null}},getUTCTimestamp:t=>Date.parse(new Date(t).toUTCString()),secondsToTime:t=>{const e=-1*parseInt(t,10);if(isNaN(e))return"00:00:00";return[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%3600%60)].map(t=>("0"+t).substr(-2)).join(":")},secondsBetween:(t,e)=>Math.abs(Math.floor(Number(t)-Number(e)))/1e3,monthToNumber:t=>{if("string"==typeof t&&""!==t){return{jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}[t.toLowerCase()]}},getTimezone:()=>{const t=(new Date).getTimezoneOffset()/-60;for(const e of r.listOfTimezones){if(Object(a.a)(e)/36e5===t)return e}}}},543:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var r=i(125),a=i(175),n=i(144),s=i(10);function o(t,e){Object(s.a)(2,arguments);var i=Object(n.a)(t),r=Object(n.a)(e);return i.getTime()===r.getTime()}var c=i(237),l=i(252),u=i(13),d=i(23);function h(t,e){Object(s.a)(2,arguments);var i=Object(u.a)(t),n=Object(u.a)(e);if(!Object(c.a)(i)||!Object(c.a)(n))return NaN;var h=Object(a.a)(i,n),p=h<0?-1:1,g=Object(d.a)(h/7),m=5*g;for(n=Object(r.a)(n,7*g);!o(i,n);)m+=Object(l.a)(n)?0:p,n=Object(r.a)(n,p);return 0===m?0:m}},57:function(t,e,i){"use strict";e.a=function(t,e){return t.has(e)}},58:function(t,e,i){"use strict";var r=i(110);var a=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var n=function(t){return this.__data__.has(t)};function s(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new r.a;++e<i;)this.add(t[e])}s.prototype.add=s.prototype.push=a,s.prototype.has=n;e.a=s},59:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a}));var r="add-button-text",a="default"},60:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s}));var r=8,a=46,n=13,s=32},61:function(t,e,i){"use strict";i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return p})),i.d(e,"c",(function(){return g})),i.d(e,"b",(function(){return m})),i.d(e,"a",(function(){return f}));var r=i(31),a=i(22),n=i(4),s=i(16),o=i(122),c=i(25),l=function(t){return"%"+t.charCodeAt(0).toString(16)},u=function(t){return encodeURIComponent(Object(c.d)(t)).replace(r.c,l).replace(r.b,",")},d=(decodeURIComponent,function(t){if(!Object(n.i)(t))return"";var e=Object(s.d)(t).map((function(e){var i=t[e];return Object(n.k)(i)?"":Object(n.f)(i)?u(e):Object(n.a)(i)?i.reduce((function(t,i){return Object(n.f)(i)?t.push(u(e)):Object(n.k)(i)||t.push(u(e)+"="+u(i)),t}),[]).join("&"):u(e)+"="+u(i)})).filter((function(t){return t.length>0})).join("&");return e?"?".concat(e):""}),h=function(t){return!(!t.href&&!t.to)},p=function(t){return!(!t||Object(a.e)(t,"a"))},g=function(t,e){var i=t.to,r=t.disabled,a=t.routerComponentName,n=!!Object(o.a)(e).$router,s=!!Object(o.a)(e).$nuxt;return!n||n&&(r||!i)?"a":a||(s?"nuxt-link":"router-link")},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,i=t.rel;return"_blank"===e&&Object(n.f)(i)?"noopener":i||null},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.href,i=t.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";if(e)return e;if(p(r))return null;if(Object(n.j)(i))return i||s;if(Object(n.i)(i)&&(i.path||i.query||i.hash)){var o=Object(c.d)(i.path),l=d(i.query),u=Object(c.d)(i.hash);return u=u&&"#"!==u.charAt(0)?"#".concat(u):u,"".concat(o).concat(l).concat(u)||s}return a}},628:function(t){t.exports=JSON.parse('{"en":{"advancedChartWidget":{"controls":{"chartType":{"line":"Line","area":"Mountain","candlestick":"Candlestick","ohlc":"Bar"},"timeRange":{"1D":"1D","1W":"1W","2W":"2W","1M":"1M","3M":"3M","6M":"6M","1Y":"1Y","2Y":"2Y","5Y":"5Y","20Y":"Max","YTD":"YTD","Other":"Other"},"periodicity":{"1":"1 minute","5":"5 minutes","15":"15 minutes","60":"60 minutes","D":"Daily","W":"Weekly","M":"Monthly"},"scaling":{"linear":"Absolute","percent":"Percentage","logarithmic":"Logarithmic"},"benchmarkPlaceholder":"Add Benchmark","significantDevelopments":{"events":{"all":"Show all major events","corporateDeals":"Corporate Deals","newMarkets":"New Markets / Expansion","generalProducts":"General Products","ownership":"Ownership / Control","financing":"Financing","litigation":"Litigation / Regulatory","accountingIssues":"Accounting Issues","restructuring":"Restructuring / Reorganization","earningsPreAnnouncement":"Earnings Pre-Announcement","performance":"Performance","changes":"Changes","specialEvents":"Special Events"},"placeholder":"Add Events"},"indicators":{"movingAverages":{"SMA":"SMA","EMA":"EMA"},"inChartIndicators":{"ZIZA":"Zig-Zag","ENVELOPE":"Envelopes","BOLL":"Bollinger Bands","PSAR":"SAR Parabolic"},"additionalDiagrams":{"VOL":"Volume (VOL)","ADL":"Accumulation Distribution Line (ADL)","AR":"Aroon (AR)","ARUD":"Aroon Up/Down (ARUD)","ADX":"Average Directional Index (ADX)","ATR":"Average True Range (ATR)","CHO":"Chaikin Oscillator (CHO)","DMI":"Directional Movement Ind. (DMI)","STOF":"Fast Stochastics (STOF)","HV":"Historical Volatility (HV)","MOM":"Momentum Indicator (MOM)","MACD":"Moving Average Conv./Div. (MACD)","OBV":"On-Balance Volume (OBV)","RoC":"Rate Of Change (RoC)","RSI":"Relative Strength Index (RSI)","STOS":"Slow Stochastics (STOS)","UO":"Ultimate Oscillator (UO)","%R":"Williams Percent R (%R)","S%":"Spread % (S%)"},"placeholder":"Add Indicator","groupLabels":{"movingAverages":"Moving Averages","inChartIndicators":"In-chart Indicators","additionalDiagrams":"Additional Diagrams"},"params":{"period":"Period","period%K":"Period %K","period%D":"Period %D","fastPeriod":"Fast Period","slowPeriod":"Slow Period","fastMA":"Fast MA","slowMA":"Slow MA","variance":"Variance","trigger":"Trigger","standardDeviation":"Standard Deviation","accelerationFactor":"Acceleration Factor","maxValue":"Maximum Value","ADI":"ADI","ATR":"ATR","ADX":"ADX","OBV":"OBV","ROC":"ROC","benchmarks":"Benchmark"}},"modalButtons":{"reset":"Reset","cancel":"Cancel","ok":"OK"},"dateFrom":"From","dateTo":"To","totalReturn":"Total Return","mobile":{"shortHands":{"timeRange":{"1D":"1D","1W":"1W","2W":"2W","1M":"1M","3M":"3M","6M":"6M","1Y":"1Y","2Y":"2Y","5Y":"5Y","20Y":"Max","YTD":"YTD","Other":"O"},"periodicity":{"1":"1","5":"5","15":"15","60":"60","D":"d","W":"w","M":"m"},"scaling":{"linear":"ABS","percent":"%","logarithmic":"LOG"}},"totalReturnTip":"Adjustment for income and dividends"}},"tooltip":{"Price":"{RIC} : {VALUE} {PERCENTAGE}","SigDev":"{DATE} {HEADLINE}","Open":"Open","High":"High","Low":"Low","Close":"Close","Trigger":"MACD Trigger","Histogram":"MACD Histogram","Up":"Up","Down":"Down","DMIPositive":"+DIP","DMINegative":"-DIP","AverageMomentum":"AMOM","AverageAccumulationDistributionLine":"AADL","AverageOnBalanceVolume":"AOBV"},"labels":{"shortMonths":{"January":"Jan","February":"Feb","March":"Mar","April":"Apr","May":"May","June":"Jun","July":"Jul","August":"Aug","September":"Sep","October":"Oct","November":"Nov","December":"Dec"},"shortDays":{"Sunday":"Sun","Monday":"Mon","Tuesday":"Tue","Wednesday":"Wed","Thursday":"Thu","Friday":"Fri","Saturday":"Sat"},"inputPlaceholder":{"day":"DD","month":"MM","year":"YYYY"}},"messages":{"nodata":"No data available.","error":"There was an error. We will try to get the data again in a few moments..."},"numberFormats":{"compact":["0.00","00","000","0.0K","00K","000K","0.0M","00M","000M","0.0B","00B","000B","0.0T","00T","000T"]},"dateTimeFormats":{"time":{"hour":"2-digit","minute":"2-digit","second":"2-digit","hour12":true},"date":{"year":"numeric","month":"2-digit","day":"2-digit","a11y":{"month":"long","day":"numeric","year":"numeric"}}},"a11y":{"fromDatePicker":{"day":"Day in from date","month":"Month in from date","year":"Year in from date"},"toDatePicker":{"day":"Day in to date","month":"Month in to date","year":"Year in to date"},"fromDatePickerLabel":"Select From Date","toDatePickerLabel":"Select To Date","chartType":"Chart Type","timeRange":"Time Range","periodicity":"Periodicity","scaling":"Scaling","dropDown":"{OPTION} selected","chartContainerLabel":"This is a chart representing the changes in prices","benchmarkLabel":"This is an input box to enter up to four benchmarks that you want to compare with the base ric.{SELECTED_ITEMS}","sigDevLabel":"This is an input box to enter up to four significant developments to view in chart.{SELECTED_ITEMS}","benchmarkMobileButton":"Add/Remove benchmarks","indicatorMobileButton":"Add/Remove indicators","sigdevMobileButton":"Add/Remove significant developments","dropDownOptionDeselect":"Deselect {OPTION}","totalReturnEnable":"Enable total return","totalReturnDisable":"Disable total return","indicatorLabel":"This is an input box to enter up to four indicators.{SELECTED_ITEMS}","modifyLegendItem":"Modify {itemName}","selectedItemsLabel":"{ITEMS} selected. Press left/right arrow keys to deselect an item.","tooltipBaseRicPriceDescription":"Price of base ric is {VALUE}","tooltipBaseRicOpenDescription":"Base ric with high as {HIGH}, low {LOW}, close as {CLOSE} and open as {OPEN}","tooltipBenchmarkDescription":"Price of {NAME} is {VALUE}","tooltipZigZagDescription":"Zig-Zag for base ric is {VALUE}","tooltipEnvelopesDescription":"Envelopes for base ric is {VALUE}","tooltipBollingerBandsDescription":"Bollinger Bands for base ric is {VALUE}","tooltipParabolicSARDescription":"Parabolic SAR for base ric is {VALUE}","tooltipSMADescription":"SMA for base ric is {VALUE}","tooltipEMADescription":"EMA for base ric is {VALUE}","tooltipVolumeDescription":"Volume of base ric is {VALUE}","tooltipAccumulationDistributionLineDescription":"Accumulation Distribution Line for base ric is {VALUE}","tooltipAverageAccumulationDistributionLineDescription":"Average Accumulation Distribution Line for base ric is {VALUE}","tooltipAroonDescription":"Aroon for base ric is {VALUE}","tooltipAroonUpDescription":"Aroon Up for base ric is {VALUE}","tooltipAroonDownDescription":"Aroon Down for base ric is {VALUE}","tooltipAverageDirectionalIndexDescription":"Average Directional Index for base ric is {VALUE}","tooltipAverageTrueRangeDescription":"Average True Range for base ric is {VALUE}","tooltipChaikinOscillatorDescription":"Chaikin Oscillator for base ric is {VALUE}","tooltipDirectionalMovementIndexDescription":"Directional Movement Index for base ric is {VALUE}","tooltipPositiveDirectionalMovementIndexDescription":"Positive Directional Movement Index for base ric is {VALUE}","tooltipNegativeDirectionalMovementIndexDescription":"Negative Directional Movement Index for base ric is {VALUE}","tooltipFastStochastics%KDescription":"Fast Stochastics %K for base ric is {VALUE}","tooltipFastStochastics%DDescription":"Fast Stochastics %D for base ric is {VALUE}","tooltipHistoricalVolatilityDescription":"Historical volatility for base ric is {VALUE}","tooltipMomentumDescription":"Momentum of base ric is {VALUE}","tooltipAverageMomentumDescription":"Average momentum for base ric is {VALUE}","tooltipMACDDescription":"Moving Average Convergence Divergence for base ric is {VALUE}","tooltipMACDTriggerDescription":"Moving Average Convergence Divergence Trigger for base ric is {VALUE}","tooltipMACDHistogramDescription":"Moving Average Convergence Divergence Histogram for base ric is {VALUE}","tooltipOnBalanceVolumeDescription":"On-Balance Volume for base ric is {VALUE}","tooltipAverageOnBalanceVolumeDescription":"Average On-Balance Volume for base ric is {VALUE}","tooltipRateOfChangeDescription":"Rate of Change of base ric is {VALUE}","tooltipRelativeStrengthIndexDescription":"Relative Strength Index of base ric is {VALUE}","tooltipSlowStochastics%KDescription":"Slow Stochastics %K for base ric is {VALUE}","tooltipSlowStochastics%DDescription":"Slow Stochastics %D for base ric is {VALUE}","tooltipUltimateOscillatorDescription":"Ultimate Oscillator for base ric is {VALUE}","tooltip%RDescription":"Williams %R for base ric is {VALUE}","tooltipS%Description":"Spread % is {VALUE}"}}},"de-DE":{"advancedChartWidget":{"controls":{"chartType":{"line":"Linie","area":"Berg","candlestick":"Leuchter","ohlc":"Bar"},"timeRange":{"1D":"1D","1W":"1W","2W":"2W","1M":"1M","3M":"3M","6M":"6M","1Y":"1Y","2Y":"2Y","5Y":"5Y","20Y":"Max","YTD":"YTD","Other":"Andere"},"periodicity":{"1":"1 minute","5":"5 Minuten","15":"15 Minuten","60":"60 Minuten","D":"Täglich","W":"Wöchentlich","M":"Monatlich"},"scaling":{"linear":"Absolut","percent":"Prozentsatz","logarithmic":"Logarithmisch"},"benchmarkPlaceholder":"Benchmark hinzufügen","significantDevelopments":{"events":{"all":"Show all major events in the chart","corporateDeals":"Corporate Deals","newMarkets":"New Markets / Expansion","generalProducts":"General Products","ownership":"Ownership / Control","financing":"Financing","litigation":"Litigation / Regulatory","accountingIssues":"Accounting Issues","restructuring":"Restructuring / Reorganization","earningsPreAnnouncement":"Earnings Pre-Announcement","performance":"Performance","changes":"Changes","specialEvents":"Special Events"},"placeholder":"Events hinzufügen"},"indicators":{"movingAverages":{"SMA":"SMA","EMA":"EMA"},"inChartIndicators":{"ZIZA":"Zig-Zag","ENVELOPE":"Envelopes","BOLL":"Bollinger Bands","PSAR":"SAR Parabolic"},"additionalDiagrams":{"VOL":"Volume (VOL)","ADL":"Accumulation Distribution Line (ADL)","AR":"Aroon (AR)","ARUD":"Aroon Up/Down (ARUD)","ADX":"Average Directional Index (ADX)","ATR":"Average True Range (ATR)","CHO":"Chaikin Oscillator (CHO)","DMI":"Directional Movement Ind. (DMI)","STOF":"Fast Stochastics (STOF)","HV":"Historical Volatility (HV)","MOM":"Momentum Indicator (MOM)","MACD":"Moving Average Conv./Div. (MACD)","OBV":"On-Balance Volume (OBV)","RoC":"Rate Of Change (RoC)","RSI":"Relative Strength Index (RSI)","STOS":"Slow Stochastics (STOS)","UO":"Ultimate Oscillator (UO)","%R":"Williams Percent R (%R)","S%":"Spread % (S%)"},"placeholder":"Add Indicator","groupLabels":{"movingAverages":"Moving Averages","inChartIndicators":"In-chart Indicators","additionalDiagrams":"Additional Diagrams"},"params":{"period":"Zeitraum","period%K":"Zeitraum %K","period%D":"Zeitraum %D","fastPeriod":"Schnelle Periode","slowPeriod":"Langsame Periode","fastMA":"Fast MA","slowMA":"Slow MA","variance":"Varianz","trigger":"Auslösen","standardDeviation":"Standardabweichung","accelerationFactor":"Beschleunigungsfaktor","maxValue":"Höchster Wert","ADI":"ADI","ATR":"ATR","ADX":"ADX","OBV":"OBV","ROC":"ROC","benchmarks":"Benchmark"}},"modalButtons":{"reset":"Zurücksetzen","cancel":"Stornieren","ok":"OK"},"dateFrom":"Von","dateTo":"Zu","totalReturn":"Gesamtrendite"},"mobile":{"shortHands":{"timeRange":{"1D":"1D","1W":"1W","2W":"2W","1M":"1M","3M":"3M","6M":"6M","1Y":"1Y","2Y":"2Y","5Y":"5Y","20Y":"Max","YTD":"YTD","Other":"O"},"periodicity":{"1":"1","5":"5","15":"15","60":"60","D":"d","W":"w","M":"m"},"scaling":{"linear":"ABS","percent":"%","logarithmic":"LOG"}},"totalReturnTip":"Anpassung um Erträge und Dividenden"},"tooltip":{"Price":"{RIC} : {VALUE} {PERCENTAGE}","SigDev":"{DATE} {HEADLINE}","Open":"Open","High":"High","Low":"Low","Close":"Close","Trigger":"MACD Trigger","Histogram":"MACD Histogram","Up":"Up","Down":"Down","DMIPositive":"+DIP","DMINegative":"-DIP","AverageMomentum":"AMOM","AverageAccumulationDistributionLine":"AADL","AverageOnBalanceVolume":"AOBV"},"labels":{"shortMonths":{"January":"Jan","February":"Feb","March":"Mär","April":"Apr","May":"Mai","June":"Jun","July":"Jul","August":"Aug","September":"Sep","October":"Okt","November":"Nov","December":"Dez"},"shortDays":{"Sunday":"Son","Monday":"Mon","Tuesday":"Die","Wednesday":"Mit","Thursday":"Don","Friday":"Fre","Saturday":"Sam"},"inputPlaceholder":{"day":"DD","month":"MM","year":"YYYY"}},"messages":{"nodata":"Für diesen Austausch sind keine Daten verfügbar. Möglicherweise zu diesem Zeitpunkt nicht in Betrieb.","error":"Es gab einen Fehler. Wir werden versuchen, die Daten in wenigen Augenblicken erneut abzurufen..."},"numberFormats":{"compact":["0.00","00","000","0.0Tsd","00Tsd","000Tsd","0.0Mio","00Mio","000Mio","0.0Mrd","00Mrd","000Mrd","0.0Bn","00Bn","000Bn"]},"dateTimeFormats":{"time":{"hour":"2-digit","minute":"2-digit","second":"2-digit","hour12":false},"date":{"year":"numeric","month":"2-digit","day":"2-digit","a11y":{"month":"long","day":"numeric","year":"numeric"}}},"a11y":{"fromDatePicker":{"day":"Tag ab Datum","month":"Monat ab Datum","year":"Jahr ab Datum"},"toDatePicker":{"day":"Tag bis heute","month":"Monat bis heute","year":"Jahr bis heute"},"fromDatePickerLabel":"Wählen Sie aus Datum","toDatePickerLabel":"Bis heute auswählen","chartType":"Diagramm Typ","timeRange":"Zeitspanne","periodicity":"Periodizität","scaling":"Skalierung","dropDown":"{OPTION} selected","chartContainerLabel":"Dies ist ein Diagramm, das die Preisänderungen darstell","benchmarkLabel":"In diesem Eingabefeld können Sie bis zu vier Benchmarks eingeben, die Sie mit dem Basis-Ric vergleichen möchten.{SELECTED_ITEMS}","sigDevLabel":"In diesem Eingabefeld können Sie bis zu vier wichtige Entwicklungen eingeben, die im Diagramm angezeigt werden sollen.{SELECTED_ITEMS}","benchmarkMobileButton":"Benchmarks hinzufügen / entfernen","indicatorMobileButton":"Indicators hinzufügen / entfernen","sigdevMobileButton":"Significant developments hinzufügen / entfernen","dropDownOptionDeselect":"Deaktivieren Sie {OPTION}","totalReturnEnable":"Gesamtrendite aktivieren","totalReturnDisable":"Gesamtrendite deaktivieren","indicatorLabel":"Dies ist ein Eingabefeld zur Eingabe von bis zu vier Anzeigen.{SELECTED_ITEMS}","modifyLegendItem":"Ändern Sie {itemName}","selectedItemsLabel":"{ITEMS} ausgewählt. Drücken Sie die Pfeiltasten nach links / rechts, um die Auswahl eines Elements aufzuheben.","tooltipBaseRicPriceDescription":"Der Preis für den Basispreis beträgt {VALUE}","tooltipBaseRicOpenDescription":"Basis-Ric mit hoch wie {HIGH}, niedrig wie {LOW}, schließen wie {CLOSE} und öffnen wie {OPEN}","tooltipBenchmarkDescription":"Der Preis von {NAME} ist {VALUE}","tooltipZigZagDescription":"Zig-Zag des Basis-Ric ist {VALUE}","tooltipEnvelopesDescription":"Envelopes des Basis ric ist {VALUE}","tooltipBollingerBandsDescription":"Bollinger Bands des Basis ric ist {VALUE}","tooltipParabolicSARDescription":"Parabolic SAR des Basis ric ist {VALUE}","tooltipSMADescription":"SMA des Basis ric ist {VALUE}","tooltipEMADescription":"EMA des Basis ric ist {VALUE}","tooltipVolumeDescription":"Das Volumen des Basis-Ric ist {VALUE}","tooltipAccumulationDistributionLineDescription":"Die Akkumulationsverteilungslinie für Basis-Ric ist {VALUE}","tooltipAverageAccumulationDistributionLineDescription":"Die durchschnittliche Akkumulationsverteilungslinie für Basis-Ric ist {VALUE}","tooltipAroonDescription":"Aroon für Base Ric ist {VALUE}","tooltipAroonUpDescription":"Aroon Up für Base Ric ist {VALUE}","tooltipAroonDownDescription":"Aroon Down für Base Ric ist {VALUE}","tooltipAverageDirectionalIndexDescription":"Der durchschnittliche Richtungsindex für Basis-Ric ist {VALUE}","tooltipAverageTrueRangeDescription":"Der durchschnittliche wahre Bereich für Basis-Ric ist {VALUE}","tooltipChaikinOscillatorDescription":"Chaikin Oscillator für Basis-Ric ist {VALUE}","tooltipDirectionalMovementIndexDescription":"Der Richtungsbewegungsindex für den Basis-Ric ist {VALUE}","tooltipPositiveDirectionalMovementIndexDescription":"Der positive Richtungsbewegungsindex für den Basis-Ric ist {VALUE}","tooltipNegativeDirectionalMovementIndexDescription":"Der negative Richtungsbewegungsindex für den Basis-Ric ist {VALUE}","tooltipFastStochastics%KDescription":"Die Fast Stochastics %K für Basis-Ric ist {VALUE}","tooltipFastStochastics%DDescription":"Die Fast Stochastics %D für Basis-Ric ist {VALUE}","tooltipHistoricalVolatilityDescription":"Die historische Volatilität für Base Ric beträgt {VALUE}","tooltipMomentumDescription":"Das Momentum des Basis-Ric ist {VALUE}","tooltipAverageMomentumDescription":"Das durchschnittliche Momentum für den Basis-Ric ist {VALUE}","tooltipMACDDescription":"Die gleitende durchschnittliche Konvergenzdivergenz für den Basis-Ric beträgt {VALUE}","tooltipMACDTriggerDescription":"Moving Average Convergence Divergence Trigger für Basis-Ric ist {VALUE}","tooltipMACDHistogramDescription":"Das Histogramm der gleitenden durchschnittlichen Konvergenzdivergenz für den Basis-Ric ist {VALUE}","tooltipOnBalanceVolumeDescription":"Das On-Balance-Volumen für Basis-Ric beträgt {VALUE}","tooltipAverageOnBalanceVolumeDescription":"Das durchschnittliche On-Balance-Volumen für Basis-Ric beträgt {VALUE}","tooltipRateOfChangeDescription":"Die Änderungsrate des Basis-Ric beträgt {VALUE}","tooltipRelativeStrengthIndexDescription":"Der relative Festigkeitsindex des Basis-Ric ist {VALUE}","tooltipSlowStochastics%KDescription":"Die langsame %K von Stochastics für Basis-Ric ist {VALUE}","tooltipSlowStochastics%DDescription":"Die langsame %D von Stochastics für Basis-Ric ist {VALUE}","tooltipUltimateOscillatorDescription":"Der ultimative Oszillator von Base Ric ist {VALUE}","tooltip%RDescription":"Williams Prozent des Basis-Ric ist {VALUE}","tooltipS%Description":"Spread % ist {VALUE}"}}},"ar-ye":{"advancedChartWidget":{"formatterLanguage":"en","messageLanguage":"ar-ye","controls":{"chartType":{"line":"خط","area":"مساحي","candlestick":"شموع","ohlc":"شريط"},"timeRange":{"1D":"يوم","1W":"أسبوع","2W":"أسبوعين","1M":"شهر","3M":"3 أشهر","6M":"6 أشهر","1Y":"سنة","2Y":"عامين","5Y":"5 سنة","20Y":"لكل","YTD":"YTD","Other":"آخر"},"periodicity":{"1":"1 دقيقة","5":"5 دقائق","15":"15 دقيقة","60":"60 دقيقة","D":"اليومي","W":"الإسبوعي","M":"الشهري"},"scaling":{"linear":" القيمة المطلقة","percent":"نسبة مئوية","logarithmic":"لوغاريتمي"},"benchmarkPlaceholder":"إضافة معيار","significantDevelopments":{"events":{"all":"عرض جميع الأحداث","corporateDeals":"Corporate Deals","newMarkets":"New Markets / Expansion","generalProducts":"General Products","ownership":"Ownership / Control","financing":"Financing","litigation":"Litigation / Regulatory","accountingIssues":"Accounting Issues","restructuring":"Restructuring / Reorganization","earningsPreAnnouncement":"Earnings Pre-Announcement","performance":"Performance","changes":"Changes","specialEvents":"Special Events"},"placeholder":"أضف الأحداث"},"indicators":{"movingAverages":{"SMA":"SMA","EMA":"EMA"},"inChartIndicators":{"ZIZA":"Zig-Zag","ENVELOPE":"Envelopes","BOLL":"Bollinger Bands","PSAR":"SAR Parabolic"},"additionalDiagrams":{"VOL":"Volume (VOL)","ADL":"Accumulation Distribution Line (ADL)","AR":"Aroon (AR)","ARUD":"Aroon Up/Down (ARUD)","ADX":"Average Directional Index (ADX)","ATR":"Average True Range (ATR)","CHO":"Chaikin Oscillator (CHO)","DMI":"Directional Movement Ind. (DMI)","STOF":"Fast Stochastics (STOF)","HV":"Historical Volatility (HV)","MOM":"Momentum Indicator (MOM)","MACD":"Moving Average Conv./Div. (MACD)","OBV":"On-Balance Volume (OBV)","RoC":"Rate Of Change (RoC)","RSI":"Relative Strength Index (RSI)","STOS":"Slow Stochastics (STOS)","UO":"Ultimate Oscillator (UO)","%R":"Williams Percent R (%R)","S%":"Spread % (S%)"},"placeholder":"أضف المؤشر","groupLabels":{"movingAverages":"المتوسطات السعرية","inChartIndicators":"المؤشرات","additionalDiagrams":"مخططات إضافية"},"params":{"period":"Period","period%K":"Period %K","period%D":"Period %D","fastPeriod":"Fast Period","slowPeriod":"Slow Period","fastMA":"Fast MA","slowMA":"Slow MA","variance":"Variance","trigger":"Trigger","standardDeviation":"Standard Deviation","accelerationFactor":"Acceleration Factor","maxValue":"Maximum Value","ADI":"ADI","ATR":"ATR","ADX":"ADX","OBV":"OBV","ROC":"ROC","benchmarks":"Benchmark"}},"modalButtons":{"reset":"إعادة ضبط","cancel":"إلغاء","ok":"تصديق"},"dateFrom":"من","dateTo":"إلى","totalReturn":"العائد الكلّي","mobile":{"shortHands":{"timeRange":{"1D":"يوم","1W":"أسبوع","2W":"أسبوعين","1M":"شهر","3M":"3 أشهر","6M":"6 أشهر","1Y":"سنة","2Y":"عامين","5Y":"5 سنة","20Y":"الكل","YTD":"YTD","Other":"O"},"periodicity":{"1":"1","5":"5","15":"15","60":"60","D":"يومي","W":"اسبوعي","M":"شهري"},"scaling":{"linear":"كلي","percent":"%","logarithmic":"لوغارتيمي"}},"totalReturnTip":"Adjustment for income and dividends"}},"tooltip":{"Price":"{RIC} : {VALUE} {PERCENTAGE}","SigDev":"{DATE} {HEADLINE}","Open":"سعر الإفتتاح","High":"الأعلى","Low":"الأدنى","Close":"سعر الإغلاق","Trigger":"MACD Trigger","Histogram":"MACD Histogram","Up":"أعلى","Down":"أسفل","DMIPositive":"+DIP","DMINegative":"-DIP","AverageMomentum":"AMOM","AverageAccumulationDistributionLine":"AADL","AverageOnBalanceVolume":"AOBV"},"labels":{"shortMonths":{"January":"Jan","February":"Feb","March":"Mar","April":"Apr","May":"May","June":"Jun","July":"Jul","August":"Aug","September":"Sep","October":"Oct","November":"Nov","December":"Dec"},"shortDays":{"Sunday":"Sun","Monday":"Mon","Tuesday":"Tue","Wednesday":"Wed","Thursday":"Thu","Friday":"Fri","Saturday":"Sat"},"inputPlaceholder":{"day":"DD","month":"MM","year":"YYYY"}},"messages":{"nodata":"لا تتوافر بيانات.","error":"كان هناك خطأ. سنحاول الحصول على البيانات مرة أخرى في غضون لحظات قليلة..."},"numberFormats":{"compact":["0.00","00","000","0.0K","00K","000K","0.0M","00M","000M","0.0B","00B","000B","0.0T","00T","000T"]},"dateTimeFormats":{"time":{"hour":"2-digit","minute":"2-digit","second":"2-digit","hour12":true},"date":{"year":"numeric","month":"2-digit","day":"2-digit","a11y":{"month":"long","day":"numeric","year":"numeric"}}},"a11y":{"fromDatePicker":{"day":"يوم في من تاريخ","month":"شهر في من تاريخ","year":"عام في التاريخ"},"toDatePicker":{"day":"اليوم في تاريخه","month":"شهر حتى الآن","year":"عام حتى الآن"},"fromDatePickerLabel":"حدد من التاريخ","toDatePickerLabel":"حدد إلى التاريخ","chartType":"نوع الرسم البياني","timeRange":"النطاق الزمني","periodicity":"الدورة الزمنية","scaling":"القياس","dropDown":"{OPTION} selected","chartContainerLabel":"This is a chart representing the changes in prices","benchmarkLabel":"This is an input box to enter up to four benchmarks that you want to compare with the base ric.{SELECTED_ITEMS}","sigDevLabel":"This is an input box to enter up to four significant developments to view in chart.{SELECTED_ITEMS}","benchmarkMobileButton":"Add/Remove benchmarks","indicatorMobileButton":"Add/Remove indicators","sigdevMobileButton":"Add/Remove significant developments","dropDownOptionDeselect":"Deselect {OPTION}","totalReturnEnable":"Enable total return","totalReturnDisable":"Disable total return","indicatorLabel":"This is an input box to enter up to four indicators.{SELECTED_ITEMS}","modifyLegendItem":"Modify {itemName}","selectedItemsLabel":"{ITEMS} selected. Press left/right arrow keys to deselect an item.","tooltipBaseRicPriceDescription":"Price of base ric is {VALUE}","tooltipBaseRicOpenDescription":"Base ric with high as {HIGH}, low {LOW}, close as {CLOSE} and open as {OPEN}","tooltipBenchmarkDescription":"Price of {NAME} is {VALUE}","tooltipZigZagDescription":"Zig-Zag for base ric is {VALUE}","tooltipEnvelopesDescription":"Envelopes for base ric is {VALUE}","tooltipBollingerBandsDescription":"Bollinger Bands for base ric is {VALUE}","tooltipParabolicSARDescription":"Parabolic SAR for base ric is {VALUE}","tooltipSMADescription":"SMA for base ric is {VALUE}","tooltipEMADescription":"EMA for base ric is {VALUE}","tooltipVolumeDescription":"Volume of base ric is {VALUE}","tooltipAccumulationDistributionLineDescription":"Accumulation Distribution Line for base ric is {VALUE}","tooltipAverageAccumulationDistributionLineDescription":"Average Accumulation Distribution Line for base ric is {VALUE}","tooltipAroonDescription":"Aroon for base ric is {VALUE}","tooltipAroonUpDescription":"Aroon Up for base ric is {VALUE}","tooltipAroonDownDescription":"Aroon Down for base ric is {VALUE}","tooltipAverageDirectionalIndexDescription":"Average Directional Index for base ric is {VALUE}","tooltipAverageTrueRangeDescription":"Average True Range for base ric is {VALUE}","tooltipChaikinOscillatorDescription":"Chaikin Oscillator for base ric is {VALUE}","tooltipDirectionalMovementIndexDescription":"Directional Movement Index for base ric is {VALUE}","tooltipPositiveDirectionalMovementIndexDescription":"Positive Directional Movement Index for base ric is {VALUE}","tooltipNegativeDirectionalMovementIndexDescription":"Negative Directional Movement Index for base ric is {VALUE}","tooltipFastStochastics%KDescription":"Fast Stochastics %K for base ric is {VALUE}","tooltipFastStochastics%DDescription":"Fast Stochastics %D for base ric is {VALUE}","tooltipHistoricalVolatilityDescription":"Historical volatility for base ric is {VALUE}","tooltipMomentumDescription":"Momentum of base ric is {VALUE}","tooltipAverageMomentumDescription":"Average momentum for base ric is {VALUE}","tooltipMACDDescription":"Moving Average Convergence Divergence for base ric is {VALUE}","tooltipMACDTriggerDescription":"Moving Average Convergence Divergence Trigger for base ric is {VALUE}","tooltipMACDHistogramDescription":"Moving Average Convergence Divergence Histogram for base ric is {VALUE}","tooltipOnBalanceVolumeDescription":"On-Balance Volume for base ric is {VALUE}","tooltipAverageOnBalanceVolumeDescription":"Average On-Balance Volume for base ric is {VALUE}","tooltipRateOfChangeDescription":"Rate of Change of base ric is {VALUE}","tooltipRelativeStrengthIndexDescription":"Relative Strength Index of base ric is {VALUE}","tooltipSlowStochastics%KDescription":"Slow Stochastics %K for base ric is {VALUE}","tooltipSlowStochastics%DDescription":"Slow Stochastics %D for base ric is {VALUE}","tooltipUltimateOscillatorDescription":"Ultimate Oscillator for base ric is {VALUE}","tooltip%RDescription":"Williams %R for base ric is {VALUE}","tooltipS%Description":"Spread % is {VALUE}"}}}}')},669:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(13),a=i(10);function n(t){return Object(a.a)(1,arguments),Object(r.a)(t).getTime()>Date.now()}},670:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(23),a=i(358),n=i(10);function s(t,e){Object(n.a)(2,arguments);var i=Object(r.a)(e);return Object(a.a)(t,-i)}},69:function(t,e,i){"use strict";var r=i(219),a=i(509),n=i(13),s=i(10);function o(t,e){Object(s.a)(2,arguments);var i=Object(n.a)(t),r=Object(n.a)(e);return i.getFullYear()-r.getFullYear()}var c=i(114);function l(t,e){Object(s.a)(2,arguments);var i=Object(n.a)(t),r=Object(n.a)(e),a=Object(c.a)(i,r),l=Math.abs(o(i,r));i.setFullYear(1584),r.setFullYear(1584);var u=Object(c.a)(i,r)===-a,d=a*(l-Number(u));return 0===d?0:d}function u(t,e){Object(s.a)(2,arguments);var i=Object(n.a)(t),r=Object(n.a)(e),a=i.getFullYear()-r.getFullYear(),o=i.getMonth()-r.getMonth();return 12*a+o}function d(t){Object(s.a)(1,arguments);var e=Object(n.a)(t);return e.setHours(23,59,59,999),e}function h(t){Object(s.a)(1,arguments);var e=Object(n.a)(t),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function p(t){Object(s.a)(1,arguments);var e=Object(n.a)(t);return d(e).getTime()===h(e).getTime()}var g="movingAverages",m="inChartIndicators",f="additionalDiagrams";e.a={getEndpointForDayRange:(t,e=!0)=>{let i,r;return t<=5?(i="intraday",r=5):t>5&&t<=10?(i="intraday",r=15):t>10&&t<30?(i="intraday",r=30):t>=30&&t<90?(i="intraday",r=60):t>=90&&t<730?(i="historical",r="D"):t>=730&&t<3650?(i="historical",r="W"):t>=3650&&(i="historical",r="M"),e||(i="historical"),{endPoint:i,periodicity:r}},getEndpointForPeriodName:t=>(void 0).getEndpointForDayRange(1),getRequestURIForTimeSeries:(t,e,i,a,n,s)=>{let o=`/timeseries/${e}?ric=${t}`;return o+="&fromDate="+Object(r.a)(i.fromDate,"yyyy-MM-dd"),o+="&toDate="+Object(r.a)(i.toDate,"yyyy-MM-dd"),"intraday"===e?(o+="T23:59:59",o+="&fids="+n,o+="&interval="+a):(o+="&fids="+n,o+="&samples="+a,o+="&appendRecentData=all",s&&(o+="&adjustment=D")),o},isIntervalJustStarted:(t,e)=>{const i=new Date(t),r=new Date(e);return r.setDate(r.getDate()+1),i.getUTCDate()===r.getUTCDate()},calculateVolume:(t,e,i,r)=>"historical"===e?"D"===i?parseFloat(t):parseFloat(t)+r:parseFloat(t)-r,calculatePeriodicitiesForAdvancedChart:(t,e)=>{const i=new Date(Date.now());let r=[];const o=Object(a.a)(i,t.fromDate),d=l(i,t.fromDate),h=Object(a.a)(t.toDate,t.fromDate),g=function(t,e){Object(s.a)(2,arguments);var i,r=Object(n.a)(t),a=Object(n.a)(e),o=Object(c.a)(r,a),l=Math.abs(u(r,a));if(l<1)i=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*l);var d=Object(c.a)(r,a)===-o;p(Object(n.a)(t))&&1===l&&1===Object(c.a)(t,a)&&(d=!1),i=o*(l-Number(d))}return 0===i?0:i}(t.toDate,t.fromDate);return o<7&&r.push(e[0]),o<28&&r.push(e[1]),o<90&&(r.push(e[2]),r.push(e[3])),d<=2&&h>=5&&r.push(e[4]),d<=5&&h>=35&&r.push(e[5]),g>=5&&r.push(e[6]),0===r.length&&r.push(e[4]),r},calculatePeriodicitiesForBasicChart:(t,e,i)=>{const r=new Date(Date.now()),n=Object(a.a)(r,t.fromDate),s=l(r,t.fromDate),o=Object(a.a)(t.toDate,t.fromDate),c=l(t.toDate,t.fromDate);return n<7?e.filter(t=>["1"].includes(t.value)):n<28?e.filter(t=>["5"].includes(t.value)):n<90?e.filter(t=>["15"].includes(t.value)):c>=5?e.filter(t=>["M","Q","Y"].includes(t.value)):c>=2?e.filter(t=>["W","M","Q","Y"].includes(t.value)):s>=1||n>=90||o>=90||!i?e.filter(t=>["D","W","M","Q","Y"].includes(t.value)):e},getMaxIndicatorCount:t=>{let e=0,i=0,r=0,a=0;return t.forEach(t=>{switch(t.type){case g:"SMA"===t.value?e+=2:"EMA"===t.value&&(i+=2);break;case m:r=r>=4?4:r+1;break;case f:a=a>=2?2:a+1}}),{EMA:i,SMA:e,INCHART_INDICATORS:r,ADDITIONAL_DIAGRAMS:a}}}},74:function(t,e,i){"use strict";var r=i(9);e.a={data:()=>({timeoutID:null,isStreamingPaused:!1,reconnectTries:3,subscriptionGroups:{default:[]},defaultSubGroup:"default"}),computed:{hasStreamingPermission:()=>r.a.Auth.getToken().then(t=>t.prm.includes("a:streaming"))},destroyed(){this.unsubscribeAllQuoteStreams()},methods:{addSubId(t,e="default"){this.subscriptionGroups[e]?-1===this.subscriptionGroups[e].indexOf(t)&&this.subscriptionGroups[e].push(t):this.subscriptionGroups[e]=[t]},removeSubId(t,e="default"){const i=this.subscriptionGroups[e],r=i.indexOf(t);r>-1&&i.splice(r,1)},unsubscribeAllQuoteStreams(t){this.log("SubscribedIds ",this.subscriptionGroups);const e=e=>{if(!e)return[];return[...e].map(e=>this.streamingUnsubscribe(e,t))};let i=[];if(t)i=e(this.subscriptionGroups[t]);else{Object.keys(this.subscriptionGroups).forEach(t=>{const r=e(this.subscriptionGroups[t]);i.push(...r)})}return Promise.all(i)},isComponentDestroyed(){return this._isDestroyed},async streamingSubscribe(t,e,i,a,n=this.defaultSubGroup,s=!0){return this.isComponentDestroyed()?Promise.reject(""):(s&&await this.unsubscribeAllQuoteStreams(n),this.isSubscribing=!0,new Promise((s,o)=>{this.hasStreamingPermission.then(c=>{if(!c)return this.isSubscribing=!1,void o();const l=(t,e,i,a,n)=>this.streamingConnect().then(()=>{let o=r.a.Streaming.Quote.subscribe(t,(t,i)=>{i?o=null:this.addSubId(o,n),this.isComponentDestroyed()?this.unsubscribeAllQuoteStreams():e(t,i)},(t,e)=>{this.isComponentDestroyed()?this.unsubscribeAllQuoteStreams():i(t,e)},(t,e)=>{this.isComponentDestroyed()?this.unsubscribeAllQuoteStreams():a(t,e)});this.log("Subscribed "+o),s(o),this.isSubscribing=!1});l(t,e,i,a,n).catch(r=>{this.reconnectTries>0?setTimeout(()=>{this.reconnectTries--,l(t,e,i,a,n).catch(t=>{this.reconnectTries<=0&&(this.isSubscribing=!1,o(t))})},1e3):(this.isSubscribing=!1,o(r))})}).catch(t=>{this.isSubscribing=!1,o(t)})}))},streamingUnsubscribe(t,e){return this.log("UnSubscribing "+t),new Promise((i,a)=>{null!=t?r.a.Streaming.Quote.unsubscribe(t,(r,n)=>{n?a(n):(this.removeSubId(t,e),i(r))}):i()})},streamingConnect(){return this.hasStreamingPermission.then(t=>t?r.a.Streaming.isConnected?Promise.resolve():r.a.Streaming.connect({monitor:{interval:5e3}}):Promise.reject())}}}},75:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var r=i(4),a=i(16);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var u=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Object(r.a)(e)?e.reduce((function(e,i){return[].concat(c(e),[t(i,i)])}),[]):Object(r.i)(e)?Object(a.d)(e).reduce((function(i,r){return s(s({},i),{},o({},r,t(e[r],e[r])))}),{}):i}},76:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return c})),i.d(e,"b",(function(){return l}));var r=i(47),a=i.n(r),n=i(291),s=i(250);const o=function(t,e){return function t(e,i,r){function n(n,s){!a.a.isObject(n,!r)||a.a.isClass(n)||a.a.isDOMElement(n)?e[s]=i[s]:e[s]=t(e[s]||a.a.isArray(n)?[]:{},n,r)}return a.a.isArray(i)?i.forEach(n):a.a.objectEach(i,n),e}({},t,e)},c=function(t,e){let i=Number(a.a.dateFormat("%M",t))%e*60+Number(a.a.dateFormat("%S",t));if("60"==e){const e=(new Date).getTimezoneOffset(),r=Number(a.a.dateFormat("%M",t)),n=Math.abs(e%60);r<n?i+=60*n:n>0&&(i-=60*n)}return t-1e3*i},l=function(t){const e=new Date(1e3*t).getTimezoneOffset();return Object(n.a)(Object(s.a)(1e3*t,-1*e))}},86:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const r=["ar","fa","he","ur"],a=/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,n=function(t="en-US"){const e=function(t){const e=a.exec(t);return null!=e&&e[1].toLowerCase()}(t);return-1!=r.indexOf(e)}},89:function(t,e,i){"use strict";var r=i(71),a=i(58);var n=function(t,e){for(var i=-1,r=null==t?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1},s=i(57);var o=function(t,e,i,r,o,c){var l=1&i,u=t.length,d=e.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(t),p=c.get(e);if(h&&p)return h==e&&p==t;var g=-1,m=!0,f=2&i?new a.a:void 0;for(c.set(t,e),c.set(e,t);++g<u;){var b=t[g],y=e[g];if(r)var v=l?r(y,b,g,e,t,c):r(b,y,g,t,e,c);if(void 0!==v){if(v)continue;m=!1;break}if(f){if(!n(e,(function(t,e){if(!Object(s.a)(f,e)&&(b===t||o(b,t,i,r,c)))return f.push(e)}))){m=!1;break}}else if(b!==y&&!o(b,y,i,r,c)){m=!1;break}}return c.delete(t),c.delete(e),m},c=i(45),l=i(126),u=i(135);var d=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t,r){i[++e]=[r,t]})),i},h=i(51),p=c.a?c.a.prototype:void 0,g=p?p.valueOf:void 0;var m=function(t,e,i,r,a,n,s){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!n(new l.a(t),new l.a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(u.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=d;case"[object Set]":var p=1&r;if(c||(c=h.a),t.size!=e.size&&!p)return!1;var m=s.get(t);if(m)return m==e;r|=2,s.set(t,e);var f=o(c(t),c(e),r,a,n,s);return s.delete(t),f;case"[object Symbol]":if(g)return g.call(t)==g.call(e)}return!1},f=i(128),b=Object.prototype.hasOwnProperty;var y=function(t,e,i,r,a,n){var s=1&i,o=Object(f.a)(t),c=o.length;if(c!=Object(f.a)(e).length&&!s)return!1;for(var l=c;l--;){var u=o[l];if(!(s?u in e:b.call(e,u)))return!1}var d=n.get(t),h=n.get(e);if(d&&h)return d==e&&h==t;var p=!0;n.set(t,e),n.set(e,t);for(var g=s;++l<c;){var m=t[u=o[l]],y=e[u];if(r)var v=s?r(y,m,u,e,t,n):r(m,y,u,t,e,n);if(!(void 0===v?m===y||a(m,y,i,r,n):v)){p=!1;break}g||(g="constructor"==u)}if(p&&!g){var S=t.constructor,D=e.constructor;S==D||!("constructor"in t)||!("constructor"in e)||"function"==typeof S&&S instanceof S&&"function"==typeof D&&D instanceof D||(p=!1)}return n.delete(t),n.delete(e),p},v=i(79),S=i(30),D=i(78),A=i(113),O="[object Object]",T=Object.prototype.hasOwnProperty;var I=function(t,e,i,a,n,s){var c=Object(S.a)(t),l=Object(S.a)(e),u=c?"[object Array]":Object(v.a)(t),d=l?"[object Array]":Object(v.a)(e),h=(u="[object Arguments]"==u?O:u)==O,p=(d="[object Arguments]"==d?O:d)==O,g=u==d;if(g&&Object(D.a)(t)){if(!Object(D.a)(e))return!1;c=!0,h=!1}if(g&&!h)return s||(s=new r.a),c||Object(A.a)(t)?o(t,e,i,a,n,s):m(t,e,u,i,a,n,s);if(!(1&i)){var f=h&&T.call(t,"__wrapped__"),b=p&&T.call(e,"__wrapped__");if(f||b){var I=f?t.value():t,w=b?e.value():e;return s||(s=new r.a),n(I,w,i,a,s)}}return!!g&&(s||(s=new r.a),y(t,e,i,a,n,s))},w=i(83);e.a=function t(e,i,r,a,n){return e===i||(null==e||null==i||!Object(w.a)(e)&&!Object(w.a)(i)?e!=e&&i!=i:I(e,i,r,a,t,n))}},94:function(t,e,i){"use strict";var r=i(58),a=i(109),n=i(108),s=i(57),o=i(95);var c=function(){},l=i(51),u=o.a&&1/Object(l.a)(new o.a([,-0]))[1]==1/0?function(t){return new o.a(t)}:c;e.a=function(t,e,i){var o=-1,c=a.a,d=t.length,h=!0,p=[],g=p;if(i)h=!1,c=n.a;else if(d>=200){var m=e?null:u(t);if(m)return Object(l.a)(m);h=!1,c=s.a,g=new r.a}else g=e?[]:p;t:for(;++o<d;){var f=t[o],b=e?e(f):f;if(f=i||0!==f?f:0,h&&b==b){for(var y=g.length;y--;)if(g[y]===b)continue t;e&&g.push(b),p.push(f)}else c(g,b,i)||(g!==p&&g.push(b),p.push(f))}return p}},969:function(t,e,i){"use strict";i.r(e),i.d(e,"init",(function(){return De}));var r=i(5),a=(i(130),i(64)),n=i(68),s=i(65),o=i(66),c=i(985),l=i(334),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:t.breakpoints,expression:"breakpoints",arg:"config"},{name:"resize",rawName:"v-resize:debounce.100",value:t.onWindowResize,expression:"onWindowResize",arg:"debounce",modifiers:{100:!0}}],class:"fdc-widget fdc-widget-wrapper advanced-chart-widget "+t.viewport+"-screen "+t.orientation+"-mode"},[i("w-control-bar",{class:t.theme,attrs:{wid:t.wid,i18n:t.i18n,viewport:t.viewport,orientation:t.orientation,chartTypeOptions:t.chartTypeOptions,timeRangeOptions:t.timeRangeOptions,periodicityOptions:t.periodicityOptions,scalingOptions:t.scalingOptions,sigDevOptions:t.sigDevOptions,indicatorOptions:t.indicatorOptions,isRtlLang:t.isRtlLang}}),t._v(" "),i("w-body",{class:t.theme,attrs:{wid:t.wid,i18n:t.i18n,periodicityOptions:t.periodicityOptions,ric:t.ric,baseChartOptions:t.baseChartOptions,timeRange:t.timeRange,dateRange:t.dateRange,showTotalReturn:t.showTotalReturn,periodicity:t.periodicity,isAutomaticPeriodicityChange:t.isAutomaticPeriodicityChange,sigDevSelected:t.sigDevSelected,sigDevOptions:t.sigDevOptions,indicatorsSelected:t.indicatorsSelected,isAutomaticDateChange:t.isAutomaticDateChange,selectedTheme:t.selectedTheme,viewport:t.viewport,tradingHours:t.tradingHours,isRtlLang:t.isRtlLang,locale:t.locale,customEventsCallback:t.customEventsCallback}})],1)};u._withStripped=!0;var d=i(77),h=i.n(d),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:t.smallScreenHandler,expression:"smallScreenHandler",arg:"debounce",modifiers:{30:!0}}],ref:"controlbar",class:t.viewport+"-control-bar"},["large"===t.viewport?i("v-widget-control-bar",[i("v-widget-single-select",{staticClass:"chart-type-select",attrs:{value:t.chartTypeSelected,options:t.chartTypeFilteredOptions,a11yLabel:t.i18n("a11y.chartType")},on:{selectChanged:t.chartTypeChanged}}),t._v(" "),i("v-widget-single-select",{staticClass:"time-range-select",attrs:{value:t.timeRangeSelected,options:t.timeRangeOptions,a11yLabel:t.i18n("a11y.timeRange")},on:{selectChanged:t.timeRangeChanged}}),t._v(" "),i("v-widget-input-date-range",{staticClass:"input-date-range",attrs:{valueFrom:t.selectedDate.fromDate,endAtFrom:t.currentDate,labelTo:t.i18n("controls.dateTo"),labelFrom:t.i18n("controls.dateFrom"),valueTo:t.selectedDate.toDate,endAtTo:t.currentDate,langFromDate:t.localeOptionsFromDate,langToDate:t.localeOptionsToDate,fromDateA11yLabel:t.i18n("a11y.fromDatePickerLabel"),toDateA11yLabel:t.i18n("a11y.toDatePickerLabel"),direction:t.direction},on:{inputFrom:t.onChangeDateFrom,inputTo:t.onChangeDateTo}}),t._v(" "),i("v-widget-single-select",{staticClass:"periodicity-select",attrs:{value:t.periodicitySelected,options:t.periodicityFilteredOptions,a11yLabel:t.i18n("a11y.periodicity")},on:{selectChanged:t.periodicityChanged}}),t._v(" "),i("v-widget-single-select",{staticClass:"scaling-select",attrs:{value:t.scalingSelected,options:t.scalingOptions,a11yLabel:t.i18n("a11y.scaling"),disabled:t.isBenchmarkSelected},on:{selectChanged:t.scalingChanged}}),t._v(" "),i("v-widget-input-checkbox",{attrs:{label:"",value:t.showTotalReturn,inline:"",options:[{text:t.i18n("controls.totalReturn"),value:!0}],disabled:t.isIntraday},on:{input:t.totalReturnToggled,change:t.totalReturnToggled}}),t._v(" "),i("v-widget-input-symbol",{staticClass:"benchmark-select",attrs:{autocompleteInstruments:t.benchmarkInstruments,autocompleteSuggestions:t.benchmarkSuggestions,placeholder:t.i18n("controls.benchmarkPlaceholder"),a11yLabel:t.i18n("a11y.benchmarkLabel"),selectedItemsA11yLabel:t.i18n("a11y.selectedItemsLabel"),removeButtonAriaLabel:t.i18n("a11y.dropDownOptionDeselect"),value:t.benchmarkSelected,ricsToExclude:[this.ricSelected],maxTags:t.maxBenchmarkTags,dir:t.direction},on:{input:t.onAddBenchMark}}),t._v(" "),i("v-widget-chart-indicator-select",{attrs:{value:t.indicatorsSelected,indicators:t.indicatorOptions,placeholder:t.i18n("controls.indicators.placeholder"),a11yLabel:t.i18n("a11y.indicatorLabel"),selectedItemsA11yLabel:t.i18n("a11y.selectedItemsLabel"),removeButtonAriaLabel:t.i18n("a11y.dropDownOptionDeselect"),labelForGroups:t.i18n("controls.indicators.groupLabels"),dir:t.direction},on:{indicatorChanged:t.onAddIndicators}}),t._v(" "),i("v-widget-multi-select",{staticClass:"sigdev-select",attrs:{placeholder:t.i18n("controls.significantDevelopments.placeholder"),autocompleteItems:t.sigDevOptions,value:t.sigDevSelected,a11yLabel:t.i18n("a11y.sigDevLabel"),selectedItemsA11yLabel:t.i18n("a11y.selectedItemsLabel"),maxTags:t.sigDevOptions.length,removeButtonAriaLabel:t.i18n("a11y.dropDownOptionDeselect"),dir:t.direction},on:{input:t.onAddSigDev}})],1):i("v-widget-control-bar",[i("v-widget-dropdown",{attrs:{dropDownType:"chart-type",value:t.chartTypeSelected,options:t.chartTypeFilteredOptions,a11yLabel:t.i18n("a11y.chartType"),dropdownAlign:t.dropDownAlignFirstHalf,hasIcon:!0},on:{selectChanged:t.chartTypeChanged}}),t._v(" "),i("v-widget-dropdown",{attrs:{dropDownType:"time-range",value:t.timeRangeSelected,options:t.timeRangeOptions,a11yLabel:t.i18n("a11y.timeRange"),shortHands:t.i18n("controls.mobile.shortHands.timeRange"),dropdownAlign:t.dropDownAlignFirstHalf},on:{selectChanged:t.timeRangeChanged}}),t._v(" "),i("v-widget-dropdown",{attrs:{dropDownType:"periodicity",value:t.periodicitySelected,options:t.periodicityFilteredOptions,a11yLabel:t.i18n("a11y.periodicity"),shortHands:t.i18n("controls.mobile.shortHands.periodicity"),dropdownAlign:t.dropDownAlignFirstHalf},on:{selectChanged:t.periodicityChanged}}),t._v(" "),i("v-widget-dropdown",{attrs:{dropDownType:"scaling",value:t.scalingSelected,options:t.scalingOptions,a11yLabel:t.i18n("a11y.scaling"),shortHands:t.i18n("controls.mobile.shortHands.scaling"),disabled:t.isBenchmarkSelected,dropdownAlign:t.dropDownAlignFirstHalf},on:{selectChanged:t.scalingChanged}}),t._v(" "),i("v-widget-total-return",{attrs:{a11yLabel:t.i18n("controls.totalReturn"),mainMessage:t.i18n("controls.totalReturn"),subMessage:t.i18n("controls.mobile.totalReturnTip"),a11yTotalReturnDisable:t.i18n("a11y.totalReturnDisable"),a11yTotalReturnEnable:t.i18n("a11y.totalReturnEnable"),value:t.showTotalReturn,disabled:t.isIntraday,dropdownAlign:t.dropDownAlignSecondHalf},on:{toggled:t.totalReturnToggled}}),t._v(" "),i("v-widget-input-symbol",{attrs:{autocompleteInstruments:t.benchmarkInstruments,autocompleteSuggestions:t.benchmarkSuggestions,placeholder:t.i18n("controls.benchmarkPlaceholder"),a11yLabel:t.i18n("a11y.benchmarkMobileButton"),removeButtonAriaLabel:t.i18n("a11y.dropDownOptionDeselect"),value:t.benchmarkSelected,viewport:t.viewport,ricsToExclude:[this.ricSelected],maxTags:t.maxBenchmarkTags,dropdownAlign:t.dropDownAlignSecondHalf,dir:t.direction},on:{input:t.onAddBenchMark}}),t._v(" "),i("v-widget-chart-indicator-select",{attrs:{value:t.indicatorsSelected,indicators:t.indicatorOptions,placeholder:t.i18n("controls.indicators.placeholder"),ariaLabel:t.i18n("a11y.indicatorMobileButton"),labelForGroups:t.i18n("controls.indicators.groupLabels"),viewport:t.viewport,removeButtonAriaLabel:t.i18n("a11y.dropDownOptionDeselect"),dropdownAlign:t.dropDownAlignSecondHalf,dir:t.direction},on:{indicatorChanged:t.onAddIndicators}}),t._v(" "),i("v-widget-sigdev-select",{attrs:{options:t.sigDevOptions,value:t.sigDevSelected,a11yLabel:t.i18n("a11y.sigdevMobileButton"),dropdownAlign:t.dropDownAlignSecondHalf},on:{input:t.onAddSigDev}})],1)],1)};p._withStripped=!0;var g=i(141),m=i(54),f=i(6),b=i(143),y=i(67),v=i(69),S=i(984),D={name:"w-control-bar",components:{VWidgetChartIndicatorSelect:b.a,VWidgetControlBar:b.b,VWidgetSingleSelect:b.j,VWidgetInputDateRange:b.e,VFormGroup:f.q,VWidgetInputSymbol:b.g,VWidgetInputCheckbox:b.d,VWidgetMultiSelect:b.h,VWidgetDropdown:b.c,VWidgetTotalReturn:b.k,VWidgetSigdevSelect:b.i},mixins:[y.a],directives:{resize:h.a},data:()=>({currentDate:new Date(Date.now()),chartTypeUserSelected:[],scalingUserSelected:[],maxBenchmarkTags:4,benchmarkInstruments:["Stock","Money","Index","Fund","Warrant","Future","Currency","Bond","Certificate","Option","Commodity","Credits"],labelForGroups:{},controlShortHands:{},dropDownAlignFirstHalf:"",dropDownAlignSecondHalf:"right"}),props:{wid:{type:String,required:!0},chartTypeOptions:{type:Array,required:!0},timeRangeOptions:{type:Array,required:!0},periodicityOptions:{type:Array,required:!0},scalingOptions:{type:Array,required:!0},indicatorOptions:{type:Array,required:!0},i18n:{type:Function,required:!0},sigDevOptions:{type:Array,required:!0},viewport:{type:String,default:"large"},orientation:{type:String,default:""},isRtlLang:{type:Boolean}},mounted(){this.chartTypeUserSelected=this.chartTypeSelected,this.scalingUserSelected=this.scalingSelected,this.controlShortHands={timeRange:{"1D":this.i18n("controls.mobile.shortHands.timeRange.1D"),"1W":this.i18n("controls.mobile.shortHands.timeRange.1W"),"2W":this.i18n("controls.mobile.shortHands.timeRange.2W"),"1M":this.i18n("controls.mobile.shortHands.timeRange.1M"),"3M":this.i18n("controls.mobile.shortHands.timeRange.3M"),"6M":this.i18n("controls.mobile.shortHands.timeRange.6M"),"1Y":this.i18n("controls.mobile.shortHands.timeRange.1Y"),"2Y":this.i18n("controls.mobile.shortHands.timeRange.2Y"),"5Y":this.i18n("controls.mobile.shortHands.timeRange.5Y"),"20Y":this.i18n("controls.mobile.shortHands.timeRange.20Y"),YTD:this.i18n("controls.mobile.shortHands.timeRange.YTD"),Other:this.i18n("controls.mobile.shortHands.timeRange.Other")},periodicity:{1:this.i18n("controls.mobile.shortHands.periodicity.1"),5:this.i18n("controls.mobile.shortHands.periodicity.5"),15:this.i18n("controls.mobile.shortHands.periodicity.15"),60:this.i18n("controls.mobile.shortHands.periodicity.60"),D:this.i18n("controls.mobile.shortHands.periodicity.D"),W:this.i18n("controls.mobile.shortHands.periodicity.W"),M:this.i18n("controls.mobile.shortHands.periodicity.M")},scaling:{linear:this.i18n("controls.mobile.shortHands.scaling.linear"),percent:this.i18n("controls.mobile.shortHands.scaling.percent"),logarithmic:this.i18n("controls.mobile.shortHands.scaling.logarithmic")}}},computed:{locale(){return this.$nextTick(()=>{this.onAddSigDev(this.sigDevSelected),this.onAddIndicators(this.indicatorsSelected)}),this.$i18n.locale},localeOptionsFromDate(){return{...this.getLocaleOptions(),inputLabel:this.i18n("a11y.fromDatePicker")}},localeOptionsToDate(){return{...this.getLocaleOptions(),inputLabel:this.i18n("a11y.toDatePicker")}},isBenchmarkSelected(){return 0!==this.benchmarkSelected.length},periodicityFilteredOptions:function(){const t=v.a.calculatePeriodicitiesForAdvancedChart(this.selectedDate,this.periodicityOptions);return this.log("Periodicity options changed to",t),t},chartTypeFilteredOptions(){return this.linearScaling(this.scalingSelected[0].value)?this.chartTypeOptions:this.chartTypeOptions.filter(t=>this.isLineChart(t.value)||this.isAreaChart(t.value))},...Object(g.b)({ricSelected:function(t){return t.widget[this.wid].ric},chartTypeSelected:function(t){const e=t.widget[this.wid].chartType;return[{value:e,label:this.i18n("controls.chartType")[e]}]},timeRangeSelected:function(t){const e=t.widget[this.wid].timeRange;return[{value:e,label:this.i18n("controls.timeRange")[e]}]},periodicitySelected:function(t){const e=t.widget[this.wid].periodicity;return[{value:e,label:this.i18n("controls.periodicity")[e]}]},scalingSelected:function(t){const e=t.widget[this.wid].scaling;return[{value:e,label:this.i18n("controls.scaling")[e]}]},selectedDate:function(t){return t.widget[this.wid].dateRange},benchmarkSuggestions:function(t){return t.widget[this.wid].benchmarkSuggestions.filter(t=>t!==this.ricSelected)},benchmarkSelected:function(t){return t.widget[this.wid].benchmarkSelected},indicatorsSelected:function(t){return t.widget[this.wid].indicatorsSelected},showTotalReturn:function(t){return t.widget[this.wid].showTotalReturn},sigDevSelected:function(t){return t.widget[this.wid].sigDevSelected},configUpdatedTimestamp:function(t){return t.widget[this.wid].configUpdatedTimestamp}}),isIntraday(){return!["D","W","M","Q","Y"].includes(this.periodicitySelected[0].value)},direction(){return this.isRtlLang?"rtl":"ltr"}},watch:{configUpdatedTimestamp(){this.chartTypeUserSelected=this.chartTypeSelected,this.scalingUserSelected=this.scalingSelected}},methods:{getLocaleOptions(){const t={locale:this.locale,days:[],months:[],placeholder:this.i18n("labels.inputPlaceholder")},e=this.i18n("labels");return t.days=Object.keys(e.shortDays).map(t=>this.i18n("labels.shortDays."+t)),t.months=Object.keys(e.shortMonths).map(t=>this.i18n("labels.shortMonths."+t)),t},smallScreenHandler(){if(this.$refs.controlbar){const t=this.$refs.controlbar.querySelector(".v-widget-input-date-range");if(t){const e=this.$refs.controlbar.querySelectorAll(".v-widget-input-date");e[1].getBoundingClientRect().top>e[0].getBoundingClientRect().top?(this.log("smallScreen class added"),t.classList.add("smallScreen")):(this.log("smallScreen class removed"),t.classList.remove("smallScreen"))}}},onChangeDateFrom(t){let e={fromDate:new Date(t),toDate:this.selectedDate.toDate};this.dateRangeChanged(e)},onChangeDateTo(t){const e=new Date(t);let i={fromDate:this.selectedDate.fromDate,toDate:e};this.dateRangeChanged(i)},chartTypeChanged(t){this.chartTypeUserSelected=[t],this.commitToStore(`widget/${this.wid}/CHART_TYPE_CHANGED`,t.value)},timeRangeChanged(t){const e=this.calculateDateFromTimeRange(t.value);this.commitToStore(`widget/${this.wid}/INTERVAL_CHANGED`,{timeRange:t.value,dateRange:e})},periodicityChanged(t){this.commitToStore(`widget/${this.wid}/PERIODICITY_CHANGED`,{periodicity:t.value})},scalingChanged(t){this.log("Scaling changed by user to "+t.value),this.scalingUserSelected=[t],this.commitToStore(`widget/${this.wid}/SCALING_CHANGED`,{scaling:t.value,chartType:this.getUpdatedChartType(t.value)})},totalReturnToggled(t){this.commitToStore(`widget/${this.wid}/TOTAL_RETURN_TOGGLED`,t)},getUpdatedChartType(t){let e=this.chartTypeSelected[0].value;return(this.isPercentageScaling(t)||this.isLogarithmicScaling(t))&&(this.isCandleStickChart(this.chartTypeUserSelected[0].value)||this.isOhlcChart(this.chartTypeUserSelected[0].value))?e="area":this.chartTypeUserSelected[0].value!==this.chartTypeSelected[0].value&&(e=this.chartTypeUserSelected[0].value),this.log(`Chart type updated to ${e} after scaling change`),e},dateRangeChanged(t){this.commitToStore(`widget/${this.wid}/INTERVAL_CHANGED`,{timeRange:"Other",dateRange:t})},onAddSigDev(t){const e=t.length;let i=[];if(e>0){i="0"===t[e-1].value?t.slice(e-1,e):t.filter(t=>"0"!==t.value)}this.commitToStore(`widget/${this.wid}/SIGDEV_SELECTED_CHANGED`,i)},onAddBenchMark(t){let e=this.getStoreUpdateOnBenchmarkChanged(t);this.commitToStore(`widget/${this.wid}/BENCHMARK_SELECTED_CHANGED`,e)},onAddIndicators(t){this.commitToStore(`widget/${this.wid}/INDICATORS_SELECTED_CHANGED`,this.addAdditionalParamsToIndicators(t))},getStoreUpdateOnBenchmarkChanged(t){let e={benchmarkSelected:t};const i=this.benchmarkSelected.length,r=t.length;return 1===r&&0===i?(this.log("Scaling changed when benchmarks are added"),this.isCandleStickChart(this.chartTypeSelected[0].value)||this.isOhlcChart(this.chartTypeSelected[0].value)?(e={...e,scaling:"percent",chartType:"area"},this.log("Chart type updated to area because of candlestick and ohlc chart")):this.isPercentageScaling(this.scalingSelected[0].value)||(e={...e,scaling:"percent"})):0===r&&1===i&&(this.log("All benchmarks are removed. Reseting scaling back to",this.scalingUserSelected[0].value),e={...e,chartType:this.getUpdatedChartType(this.scalingUserSelected[0].value),scaling:this.scalingUserSelected[0].value}),e},addAdditionalParamsToIndicators(t){return t.map(t=>{if("S%"===(t=Object(S.a)(t)).value&&0===Object.keys(t.params[0].value).length){let e=this.benchmarkSelected[0];e=e?{value:e.id,label:e.text}:{},t.params[0].value=e}return t})},commitToStore(t,e){this.log("Store updated",t,e),this.$store.commit(t,e)},calculateDateFromTimeRange:t=>({fromDate:m.a.getDateForRange(new Date(Date.now()),t),toDate:new Date(Date.now())}),linearScaling:t=>"linear"===t,isPercentageScaling:t=>"percent"===t,isLogarithmicScaling:t=>"logarithmic"===t,isCandleStickChart:t=>"candlestick"===t,isOhlcChart:t=>"ohlc"===t,isLineChart:t=>"line"===t,isAreaChart:t=>"area"===t}},A=i(7),O=Object(A.a)(D,p,[],!1,null,null,null).exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"resize",rawName:"v-resize:debounce.1000",value:t.onResize,expression:"onResize",arg:"debounce",modifiers:{1e3:!0}}],ref:"wAdvancedChartWidget",staticClass:"widget-body w-advanced-chart-widget v-chart-container",attrs:{id:"w-advanced-chart-widget"}},[t.isError?i("div",{staticClass:"p-3 v-error-message",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages."+t.isError))+"\n  ")]):i("v-highcharts",{staticClass:"chart",attrs:{options:t.chartOptions,modules:["highcharts-more"]},on:{chartReady:t.onChartReady}}),t._v(" "),t.isLoading?i("v-loader"):t._e(),t._v(" "),i("v-modal",{ref:"settings-modal",attrs:{"modal-class":[t.selectedTheme,"indicator-config-modal",t.viewport+"-screen"],"hide-backdrop":"",size:"sm",static:"",lazy:"",centered:"",title:t.activeIndicator.labelOriginal},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("v-button",{attrs:{variant:"default"},on:{click:t.resetIndicatorParams}},[t._v(t._s(t.i18n("controls.modalButtons.reset")))]),t._v(" "),i("v-button",{staticClass:"ml-auto",attrs:{variant:"default"},on:{click:t.closeSettingsModal}},[t._v(t._s(t.i18n("controls.modalButtons.cancel")))]),t._v(" "),i("v-button",{attrs:{variant:"primary"},on:{click:t.updateIndicatorParams}},[t._v(t._s(t.i18n("controls.modalButtons.ok")))])]},proxy:!0}])},[i("form",{on:{submit:t.updateIndicatorParams}},t._l(t.activeIndicator.params,(function(e,r){return i("div",{key:r,staticClass:"form-row"},["object"==typeof e.value?i("div",[i("label",[t._v("\n            "+t._s(e.label)+"\n            "),i("v-widget-single-select",{attrs:{options:e.options,value:[e.value]},on:{selectChanged:function(e){return t.indicatorSelectChanged(e,r)}}})],1)]):i("div",[i("label",[t._v("\n            "+t._s(e.label)+" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"field.value",modifiers:{number:!0}}],attrs:{type:"number",required:"",role:"input"},domProps:{value:e.value},on:{input:function(i){i.target.composing||t.$set(e,"value",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])})),0)])],1)};T._withStripped=!0;var I=i(376),w=i(13),C=i(10);var x=i(219),P=i(56),E=i(38),R=i(76),j=i(9),_=i(355),F=i(74),L=i(356),k=i(357),M=i(263),N={methods:{fetchRicDescription(t){let e=`/quote/info?rics=${t}&fids=q._DSPLY_NAME,q.RIC,rkd.COMP_ID`;return j.a.Rest.get(e).catch(t=>{console.error(t)}).then(t=>{let e=[];return t&&t.data&&t.data.data&&(e=t.data.data.map(t=>({id:t["q.RIC"],text:t["q._DSPLY_NAME"],companyId:t["rkd.COMP_ID"]}))),e})}}},V=i(23),$=i(192);var H=i(248),B=i(669);var U={methods:{getSigDevNormalizedTime(t,e,i){let r;if(i){const i=Object(R.b)(new Date(t).getTime()/1e3);r=Object(R.c)(i,e)}else{const i=m.a.getUTCTimestamp(t.split("T")[0]);switch(e){case"D":r=i;break;case"W":const t=function(t,e){var i,r,a,n,s,o,c,l;Object(C.a)(1,arguments);var u=Object($.a)(),d=Object(V.a)(null!==(i=null!==(r=null!==(a=null!==(n=null==e?void 0:e.weekStartsOn)&&void 0!==n?n:null==e||null===(s=e.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var h=Object(w.a)(t),p=h.getDay(),g=6+(p<d?-7:0)-(p-d);return h.setHours(0,0,0,0),h.setDate(h.getDate()+g),h}(i),e=Object(H.a)(t,1);r=Object(B.a)(e)?i:e.getTime();break;case"M":const a=function(t){Object(C.a)(1,arguments);var e=Object(w.a)(t),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(0,0,0,0),e}(i);r=Object(B.a)(a)?i:a.getTime()}}return r},collectSigDevIntoGroups(t,e,i){let r={};for(let a=0;a<t.length;a++){const n=t[a],s=Math.round((n.x-e)/i);r[s]||(r[s]=[]),r[s].push(n)}return r},getSigDevPointsFromGroup(t,e,i){let r=[];for(const a in t){const n=t[a];if(1===n.length)r.push({...n[0],colorIndex:+n[0].type+210,tooltip:[n[0].tooltip]});else{const t=e+a*i;r.push({x:t,type:"0",title:n.length,className:"combined",tooltip:n.map(t=>t.tooltip),text:"",colorIndex:210})}}return r},getIntervalSizeFactorForSigDev:(t,e)=>t*(8*e*1e3),isSelectedRangeToday(t,e){const i=new Date(Date.now()).toDateString(),r=new Date(Object(H.a)(new Date,1)).toDateString();return t.toDateString()===i&&e.toDateString()===i||t.toDateString()===r&&e.toDateString()===i&&"2D"===this.timeRange}}},K=i(249),G=i(670),W=i(252);function Y(t){return Object(C.a)(1,arguments),0===Object(w.a)(t).getDay()}function z(t){return Object(C.a)(1,arguments),6===Object(w.a)(t).getDay()}function q(t,e){Object(C.a)(2,arguments);var i=Object(w.a)(t),r=Object(W.a)(i),a=Object(V.a)(e);if(isNaN(a))return new Date(NaN);var n=i.getHours(),s=a<0?-1:1,o=Object(V.a)(a/5);i.setDate(i.getDate()+7*o);for(var c=Math.abs(a%5);c>0;)i.setDate(i.getDate()+s),Object(W.a)(i)||(c-=1);return r&&Object(W.a)(i)&&0!==a&&(z(i)&&i.setDate(i.getDate()+(s<0?2:-1)),Y(i)&&i.setDate(i.getDate()+(s<0?1:-2))),i.setHours(n),i}function Z(t,e){Object(C.a)(2,arguments);var i=Object(V.a)(e);return q(t,-i)}var J=i(509);function X(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Q{constructor(t,e,i,r,a,n,s,o,c,l){X(this,"name","Base Indicator"),X(this,"yAxis",{}),X(this,"config",{}),X(this,"restEndPoint","historical"),X(this,"ric",""),X(this,"dateRange",{fromDate:m.a.getDateForRange(new Date(Date.now()),"1Y"),calculatedFromDate:m.a.getDateForRange(new Date(Date.now()),"1Y"),toDate:new Date(Date.now())}),X(this,"periodicity","D"),X(this,"fidsToFetch",[]),X(this,"type",""),X(this,"currentStreamingTick",{}),X(this,"lastTick",{}),X(this,"additionalPointsToFetch",0),X(this,"numberOfPointsToRemove",0),X(this,"chartFirstTickTimestamp",{}),X(this,"seriesCount",1),X(this,"pointsForCalculation",{}),X(this,"additionalParams",{}),X(this,"colorIndex",200),X(this,"customTooltipFormatter",""),X(this,"a11yDescriptionKey",""),X(this,"fidsNeeded",{open:!1,close:!1,high:!1,low:!1,volume:!1,x:!1}),X(this,"chartTypes",{line:"line",arearange:"arearange",column:"column",scatter:"scatter"}),X(this,"totalVolume",0),X(this,"snapshotVolume",0),X(this,"isSnapshotHandled",!1),X(this,"isFirstTickHandled",!1),X(this,"streamingRics",[]),X(this,"isAPILocked",!1),X(this,"debug",!1),this.ric=t,this.config=i,this.restEndPoint=r,this.dateRange={...a,calculatedFromDate:a.fromDate},this.periodicity=n,this.fidsToFetch=s,this.type=o,this.seriesCount=c,this.chartFirstTickTimestamp=l,this.name=e,this.streamingRics=[t],this.setNeededFids()}setNeededFids(){this.fidsNeeded.open=this.fidsToFetch.includes("OPEN")||this.fidsToFetch.includes("OPEN_PRC"),this.fidsNeeded.low=this.fidsToFetch.includes("LOW")||this.fidsToFetch.includes("LOW_1"),this.fidsNeeded.high=this.fidsToFetch.includes("HIGH")||this.fidsToFetch.includes("HIGH_1"),this.fidsNeeded.close=this.fidsToFetch.includes("CLOSE")||this.fidsToFetch.includes("CLOSE_PRC"),this.fidsNeeded.volume=this.fidsToFetch.includes("VOLUME")||this.fidsToFetch.includes("ACVOL_1"),this.fidsNeeded.x="ZIZA"===this.getIndicatorValue()||"S%"===this.getIndicatorValue()}getRequestURI(t,e,i,r){return v.a.getRequestURIForTimeSeries(t,this.restEndPoint,{fromDate:e,toDate:i},r,this.fidsToFetch.join(","),!1)}getRequestURIForAdditionalPoints(t){let e,i=this.dateRange.fromDate;switch(this.periodicity){case"M":i=Object(K.a)(this.dateRange.fromDate,this.additionalPointsToFetch);break;case"W":i=Object(G.a)(this.dateRange.fromDate,this.additionalPointsToFetch);break;case"D":i=Z(this.dateRange.fromDate,this.additionalPointsToFetch+2);break;case"60":e=Math.ceil(this.additionalPointsToFetch/8)+1,i=Z(this.dateRange.fromDate,e),Object(J.a)(this.dateRange.toDate,i)>90&&(i=Object(H.a)(this.dateRange.toDate,90));break;case"15":e=Math.ceil(this.additionalPointsToFetch/32)+1,i=Z(this.dateRange.fromDate,e),Object(J.a)(this.dateRange.toDate,i)>90&&(i=Object(H.a)(this.dateRange.toDate,90));break;case"5":e=Math.ceil(this.additionalPointsToFetch/96)+1,i=Z(this.dateRange.fromDate,e),Object(J.a)(this.dateRange.toDate,i)>28&&(i=Object(H.a)(this.dateRange.toDate,28));break;case"1":e=Math.ceil(this.additionalPointsToFetch/480)+1,i=Z(this.dateRange.fromDate,e),Object(J.a)(this.dateRange.toDate,i)>7&&(i=Object(H.a)(this.dateRange.toDate,7))}return this.dateRange.calculatedFromDate=i,this.getRequestURI(t,i,this.dateRange.toDate,this.periodicity)}fetchTimeseriesData(t){return this.log(`Requesting data for ric ${this.ric} from ${t}`),j.a.Rest.get(t).then(t=>{const e=t.data.data||[];return this.log("Respone data for ric "+this.ric,e),e}).catch(t=>(console.error(this.ric+" – Request error response from server.",t),null))}processTimeseriesData(t=[]){const e=this.fidsNeeded.open,i=this.fidsNeeded.close,r=this.fidsNeeded.high,a=this.fidsNeeded.low,n=this.fidsNeeded.volume,s=t.map(t=>{let s=0,o=0,c=0,l=0,u=0,d=0;return"intraday"===this.restEndPoint?(d=this.formatServerTimestamp(t.TIME),s=e?parseFloat(t.OPEN):0,o=i?parseFloat(t.CLOSE):0,c=r?parseFloat(t.HIGH):0,l=a?parseFloat(t.LOW):0,u=n?parseFloat(t.VOLUME):0):(d=m.a.getUTCTimestamp(t._DATE_END),s=e?parseFloat(t.OPEN_PRC):0,o=i?parseFloat(t.CLOSE_PRC):0,c=r?parseFloat(t.HIGH_1):0,l=a?parseFloat(t.LOW_1):0,u=n?parseFloat(t.ACVOL_1):0),{x:d,...e&&{open:s},...r&&{high:c},...a&&{low:l},...i&&{close:o},...n&&{volume:u}}}).sort((t,e)=>t.x-e.x);return this.log("series after processing in base indicator",s),this.setTicks(s),Object(E.b)(s)}setTicks(t){1===t.length?this.currentStreamingTick=this.lastTick=t[0]:t.length>1&&(this.currentStreamingTick=t[t.length-1],this.lastTick=t[t.length-2]),this.log("current streaming tick in base indicator",this.currentStreamingTick),this.log("last tick in base indicator",this.lastTick)}splitTimeseriesIntoComponents(t){const e=this.fidsNeeded.open,i=this.fidsNeeded.close,r=this.fidsNeeded.high,a=this.fidsNeeded.low,n=this.fidsNeeded.x,s=this.fidsNeeded.volume;let o=[],c=[],l=[],u=[],d=[],h=[];for(let p=0;p<t.length;p++)e&&o.push(t[p].open||0),r&&c.push(t[p].high||0),a&&l.push(t[p].low||0),i&&u.push(t[p].close||0),n&&h.push(t[p].x),s&&d.push(t[p].volume||0);return{open:e&&o,high:r&&c,low:a&&l,close:i&&u,x:n&&h,volume:s&&d}}fetchDailyVolume(){if("historical"!==this.restEndPoint||"M"!==this.periodicity&&"W"!==this.periodicity)return Promise.resolve(0);{const t=new Date(this.currentStreamingTick.x),e=new Date(this.lastTick.x);if(e.setDate(e.getDate()+1),t.getUTCDate()===e.getUTCDate())return Promise.resolve(0);const i=this.getRequestURI(this.ric,e,t,"D");return this.log("Fetching daily volume with request ",i),j.a.Rest.get(i).then(t=>{if(t&&t.data&&t.data.data){let e=t.data.data;if(e.length>=1){const t=e[e.length-1];this.currentStreamingTick={x:m.a.getUTCTimestamp(t._DATE_END),y:parseFloat(t.ACVOL_1),close:parseFloat(t.CLOSE_PRC)}}let i=0;return e.forEach(t=>{i+=parseFloat(t.ACVOL_1)}),i-=this.currentStreamingTick.y,i}}).catch(t=>(console.error(`[${this.wid}] – Request error response from server.`,t),0))}}addToStreamingRics(t){t&&this.streamingRics.push(t)}isRicStreaming(t){return this.streamingRics.indexOf(t)>=0}removeExtraPoints(t){let e=t.findIndex(t=>t.x>=this.chartFirstTickTimestamp)-this.numberOfPointsToRemove;return e=e>0?e:0,this.log("Split index calculated to ",e),t.slice(e)}formatServerTimestamp(t){const e=Object(R.b)(t);return Object(R.c)(e,this.periodicity)}process(){throw new Error("You have to implement the method process in the required indicator class")}streamingHandler(){throw new Error("You have to implement the method streamingHandler in the required indicator class")}isAdditionalDiagram(){return"additionalDiagrams"===this.type}isMovingAverage(){return"movingAverages"===this.type}getYAxis(){return this.yAxis}getSeriesCount(){return this.seriesCount}getIndicatorName(){return this.name}setIndicatorName(t){this.name=t}getIndicatorValue(){return this.config.value}getIndicatorType(){return this.config.type}getSeriesId(){return this.config.id+this.config.value}getAxisId(){return this.config.id}setAdditionalParams(t){this.additionalParams=t}setColorIndex(t){this.colorIndex=t}getColorIndex(){return this.colorIndex}setLabelFormatter(t){this.yAxis.labels.formatter=t}log(){if(this.debug){let t=Array.prototype.slice.call(arguments);t.unshift("["+(new Date).toLocaleTimeString()+"]"),t.unshift("["+this.config.value+"]"),console.log.apply(console,t)}}}function tt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function et(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class it extends Q{constructor(t,e,i,r,a,n,s,o,c="additionalDiagrams"){super(t,e.value,e,i,r,a,n,c,s,o),et(this,"baseYAxis",{height:"20%",tickPixelInterval:30,endOnTick:!0,showFirstLabel:!0,tickAmount:4,crosshair:{snap:!1},maxPadding:.1,alignTicks:!1,opposite:!0,startOnTick:!0,labels:{enabled:!0,align:"right",x:45,y:2},title:{text:null}})}async process(){this.log("Processing started for "+this.getIndicatorName());const t=0!==this.additionalPointsToFetch?this.getRequestURIForAdditionalPoints(this.ric):this.getRequestURI(this.ric,this.dateRange.fromDate,this.dateRange.toDate,this.periodicity),e=await this.fetchTimeseriesData(t);let i=this.processTimeseriesData(e);i=this.removeExtraPoints(i);const r=this.splitTimeseriesIntoComponents(i);let a;return this.log("Series after processing",i),a=["ADL","ADX","DMI","MOM","OBV","ZIZA","S%"].indexOf(this.getIndicatorValue())>=0?0:["AR","ARUD"].indexOf(this.getIndicatorValue())>=0?r.high.length-this.additionalPointsToFetch:r.close.length-this.additionalPointsToFetch,this.pointsForCalculation={},this.fidsNeeded.open&&(this.pointsForCalculation.open=r.open.slice(a)),this.fidsNeeded.close&&(this.pointsForCalculation.close=r.close.slice(a)),this.fidsNeeded.high&&(this.pointsForCalculation.high=r.high.slice(a)),this.fidsNeeded.low&&(this.pointsForCalculation.low=r.low.slice(a)),this.fidsNeeded.x&&(this.pointsForCalculation.x=r.x.slice(a)),this.fidsNeeded.volume&&(this.pointsForCalculation.volume=r.volume.slice(a),this.totalVolume=await this.fetchDailyVolume(),this.log(`Total volume calculated for ${this.getIndicatorName()} after initial fetch `,this.totalVolume)),this.log("Storing points for streaming calculation",this.pointsForCalculation),{timeseries:i,splitSeries:r}}handleStreamingPrice(t,e){let i="";const r=this.pointsForCalculation.close?this.pointsForCalculation.close.length-1:this.pointsForCalculation.high.length-1;return t===this.currentStreamingTick.x?(this.fidsNeeded.high&&e>this.pointsForCalculation.high[r]&&(this.pointsForCalculation.high[r]=e),this.fidsNeeded.low&&e<this.pointsForCalculation.low[r]&&(this.pointsForCalculation.low[r]=e),this.fidsNeeded.close&&(this.pointsForCalculation.close[r]=e),i="point_updated"):("ZIZA"!==this.getIndicatorValue()&&(this.fidsNeeded.open&&this.pointsForCalculation.open.shift(),this.fidsNeeded.high&&this.pointsForCalculation.high.shift(),this.fidsNeeded.low&&this.pointsForCalculation.low.shift(),this.fidsNeeded.close&&this.pointsForCalculation.close.shift(),this.fidsNeeded.x&&this.pointsForCalculation.x.shift()),this.fidsNeeded.open&&this.pointsForCalculation.open.push(e),this.fidsNeeded.high&&this.pointsForCalculation.high.push(e),this.fidsNeeded.low&&this.pointsForCalculation.low.push(e),this.fidsNeeded.close&&this.pointsForCalculation.close.push(e),this.fidsNeeded.x&&this.pointsForCalculation.x.push(t),i="point_added"),i}streamingHandler(t,e){return this.handleStreamingPrice(t,e)}volumeStreamingHandler(t,e,i){let r="",a="snap_not_processed";if(this.pointsForCalculation.volume){if(i&&!this.isSnapshotHandled)return this.log("Processing snapshot",e),this.isSnapshotHandled=!0,this.snapshotVolume=parseFloat(e.ACVOL_1),{status:"snapshot_handled"};let n=0,s=0;const o=this.pointsForCalculation.volume.length-1;if(s=e._TRDPRC_1?parseFloat(e._TRDPRC_1):this.pointsForCalculation.close[o],a=this.handleStreamingPrice(t,s),e.ACVOL_1&&(n=parseFloat(e.ACVOL_1)),this.isFirstTickHandled||"historical"===this.restEndPoint)if("point_updated"===a){const t=v.a.calculateVolume(n,this.restEndPoint,this.periodicity,this.totalVolume);this.pointsForCalculation.volume[o]=t,this.currentStreamingTick.volume=t,this.log("Updating last point volume to ",t)}else this.pointsForCalculation.volume.shift(),this.pointsForCalculation.volume.push(0),this.lastTick=this.currentStreamingTick,this.currentStreamingTick={...this.currentStreamingTick,x:t,volume:0},this.log("Setting volume as zero for new point");else{if("point_updated"===a){const t=n-this.snapshotVolume+this.currentStreamingTick.volume;this.currentStreamingTick.volume=t,this.totalVolume=n-t,this.pointsForCalculation.volume[o]=t,this.log("First tick fell in same volume interval. Updating last point volume to ",t)}else this.totalVolume=n,this.lastTick=this.currentStreamingTick,this.currentStreamingTick={...this.currentStreamingTick,x:t,volume:0},this.pointsForCalculation.volume.shift(),this.pointsForCalculation.volume.push(0),r="first_tick_time_mismatch",this.log("First tick fell in different volume interval. Setting volume as zero for new point");this.isFirstTickHandled=!0}}return{status:a,subStatus:r}}async volumeIntervalChanged(t,e){if(!1===this.isAPILocked){this.isAPILocked=!0;const i=this.processTimeseriesData(t);let r=i.length-1;const a=this.pointsForCalculation.volume.length-1;this.pointsForCalculation.volume[a]=i[r].volume,this.pointsForCalculation.volume[a-1]=i[r-1].volume,e&&(this.totalVolume+=i[r-1].volume,this.log("Total volume after interval change updated to",this.totalVolume)),this.isAPILocked=!1}}}const rt={ClosePrice:Symbol("Underlying.ClosePrice"),TypicalPrice:Symbol("Underlying.TypicalPrice")},at={Arithmetic:Symbol("MovingAverage.Arithmetic"),Exponential:Symbol("MovingAverage.Exponential"),Wilders:Symbol("MovingAverage.Wilders")},nt={Mean:Symbol("MovingDeviation.Mean"),Standard:Symbol("MovingDeviation.Standard")},st={OpenPrices:Symbol("Coefficient.OpenPrices"),ClosePrices:Symbol("Coefficient.ClosePrices"),ClosePricesWithoutAggregation:Symbol("Coefficient.ClosePricesWithoutAggregation")};var ot=(t,e,i)=>{switch(e){case at.Arithmetic:return((t,e)=>{const i=1/(e=Math.min(e,t.length));let r=t[0];return t.map((a,n)=>n?n<e?(r+=a,r/(n+1)):(r+=a-t[n-e],r*i):a)})(t,i);case at.Exponential:return((t,e)=>{const i=2/((e=Math.min(e,t.length))+1),r=1-i;return t.reduce((t,a,n)=>(n?n<e?t.push(t[n-1]+2*(a-t[n-1])/(n+2)):t.push(t[n-1]*r+a*i):t.push(a),t),[])})(t,i);case at.Wilders:return((t,e)=>{const i=1/(e=Math.min(e,t.length)),r=1-i;return t.reduce((t,a,n)=>(n?n<e?t.push(t[n-1]+(a-t[n-1])/(n+1)):t.push(t[n-1]*r+a*i):t.push(a),t),[])})(t,i);default:throw new Error(`movingAverage type ${e} does not exist`)}},ct=(t,e,i,r,a,n,s,o)=>{let c;if(n===st.OpenPrices)c=r.reduce((r,n,s)=>{if(s){const o=e[s]-i[s];r.push(o<1e-14?r[s-1]:r[s-1]+(n-t[s])*a[s]/o)}else r.push(0);return r},[]);else if(n===st.ClosePricesWithoutAggregation)c=r.reduce((t,r,n)=>{if(n){const s=e[n]-i[n];t.push(s<1e-14?0:(2*r-e[n]-i[n])*a[n]/s)}else t.push(0);return t},[]);else{if(n!==st.ClosePrices)throw new Error(`coefficient type ${n} does not exist`);c=r.reduce((t,r,n)=>{if(n){const s=e[n]-i[n];t.push(s<1e-14?t[n-1]:t[n-1]+(2*r-e[n]-i[n])*a[n]/s)}else t.push(0);return t},[])}return o<=1?c:ot(c,s,o)};function lt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ut=(t,e,i)=>{const r=1/(i-1),a=Array(t.length).fill(1);if(1===i)return[a,a];const n=((t,e)=>{e=Math.min(e,t.length);const i=Array(t.length);if(1===e){for(let t=0;t<i.length;t++)i[t]=t;return i}let r=0,a=t[0];i[0]=r;for(let n=1;n<e;n++)a<=t[n]&&(a=t[n],r=n),i[n]=r;for(let n=e;n<i.length;n++){if(r===n-e){a=t[r+1],r+=1;for(let i=n-e+2;i<n+1;i++)a<=t[i]&&(a=t[i],r=i)}a<=t[n]&&(a=t[n],r=n),i[n]=r}return i})(t,i),s=a.map((t,e)=>1-(e-n[e])*r),o=((t,e)=>{e=Math.min(e,t.length);const i=Array(t.length);if(1===e){for(let t=0;t<i.length;t++)i[t]=t;return i}let r=t[0],a=0;i[0]=a;for(let n=1;n<e;n++)t[n]<=r&&(r=t[n],a=n),i[n]=a;for(let n=e;n<i.length;n++){if(a===n-e){r=t[a+1],a+=1;for(let i=n-e+2;i<n+1;i++)t[i]<=r&&(r=t[i],a=i)}t[n]<=r&&(r=t[n],a=n),i[n]=a}return i})(e,i);return[s,a.map((t,e)=>1-(e-o[e])*r)]},dt=(t,e,i)=>{const[r,a]=ut(t,e,i);return r.map((t,e)=>t-a[e])},ht=i(1232);function pt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var mt=(t,e,i)=>i.map((r,a)=>a?i[a-1]<e[a]?t[a]-i[a-1]:t[a]<i[a-1]?i[a-1]-e[a]:t[a]-e[a]:t[a]-e[a]),ft=(t,e,i,r,a)=>{const n=ot(mt(t,e,i),r,a);let[s,o]=i.reduce(([i,r],a,n)=>{if(!n)return[[0],[0]];const s=t[n]-t[n-1],o=e[n-1]-e[n];return i.push(0<s&&o<s?s:0),r.push(0<o&&s<o?o:0),[i,r]},[]);s=ot(s,r,a),s=s.map((t,e)=>n[e]<1e-14?.5:t/n[e]),o=ot(o,r,a),o=o.map((t,e)=>n[e]<1e-14?.5:t/n[e]);const c=s.map((t,e)=>{const i=t+o[e];return i<1e-14?1:Math.abs(t-o[e])/i});return[s,o,c]},bt=(t,e,i,r,a,n)=>ot(ft(t,e,i,r,a)[2],r,n);function yt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var vt=(t,e,i,r,a)=>ot(mt(t,e,i),r,a);function St(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Dt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function At(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ot=(t,e,i)=>{i=Math.min(i,t.length);const r=ot(t,at.Arithmetic,i);if(e===nt.Mean){const e=1/i;return t.map((a,n)=>{if(n){if(n<i){let e=0;for(let i=0;i<n;i++)e+=Math.abs(r[n]-t[i]);return e/(n+1)}{let a=0;for(let e=0;e<i;e++)a+=Math.abs(r[n]-t[n-e]);return a*e}}return 0})}if(e===nt.Standard)return ot(t.map(t=>t*t),at.Arithmetic,i).reduce((t,e,i)=>(t.push(Math.sqrt(e-r[i]*r[i])),t),[]);throw new Error(`movingDeviation type ${e} does not exist`)},Tt=(t,e,i,r)=>{if(-1===[rt.ClosePrice,rt.TypicalPrice].indexOf(r))throw new Error(`underlying type ${r} does not exist`);return r===rt.ClosePrice?i:((t,e,i)=>i.map((r,a)=>(t[a]+e[a]+i[a])*(1/3)))(t,e,i)},It=(t,e,i,r,a,n,s)=>{const o=Math.sqrt(s),c=(l=Tt(t,e,i,r)).map((t,e)=>e?Math.log(t/l[e-1]):0);var l;return[Ot(c,nt.Standard,a).map(t=>t*o),Ot(c,nt.Standard,n).map(t=>t*o)]};function wt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ct=(t,e)=>{if(1===(e=Math.min(e,t.length)))return t;const i=Array(t.length);let r=t[0],a=0;i[0]=r;for(let n=1;n<e;n++)r<=t[n]&&(r=t[n],a=n),i[n]=r;for(let n=e;n<i.length;n++){if(a===n-e){r=t[a+1],a+=1;for(let i=n-e+2;i<n+1;i++)r<=t[i]&&(r=t[i],a=i)}r<=t[n]&&(r=t[n],a=n),i[n]=r}return i},xt=(t,e)=>{if(1===(e=Math.min(e,t.length)))return t;const i=Array(t.length);let r=t[0],a=0;i[0]=r;for(let n=1;n<e;n++)r>=t[n]&&(r=t[n],a=n),i[n]=r;for(let n=e;n<i.length;n++){if(a===n-e){r=t[a+1],a+=1;for(let i=n-e+2;i<n+1;i++)r>=t[i]&&(r=t[i],a=i)}r>=t[n]&&(r=t[n],a=n),i[n]=r}return i},Pt=(t,e,i,r,a,n,s)=>{const o=Ct(t,n),c=xt(e,n),l=Tt(t,e,i,r).map((t,e)=>{const i=o[e]-c[e];return i<1e-14?.5:(t-c[e])/i});return[l,ot(l,a,s)]};function Et(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Rt=(t,e,i,r,a)=>{const n=Tt(t,e,i,r),s=Math.min(a,n.length);return n.map((t,e)=>e<s?t-n[0]:t-n[e-s])},jt=(t,e,i,r,a)=>ot(Tt(t,e,i,r),at.Arithmetic,a);function _t(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ft=(t,e,i,r,a,n,s,o)=>{const c=Tt(t,e,i,r),l=ot(c,a,n),u=ot(c,a,s),d=l.map((t,e)=>t-u[e]),h=ot(d,a,o),p=d.map((t,e)=>t-h[e]);return[d,h,p]};function Lt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Mt=(t,e,i,r,a)=>{const n=Tt(t,e,i,r),s=Math.min(a,n.length);return n.map((t,e)=>e<s?t/n[0]-1:t/n[e-s]-1)};function Nt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Vt=(t,e,i,r,a,n)=>{const s=Tt(t,e,i,r);let[o,c]=s.reduce(([t,e],i,r)=>{if(!r)return[[0],[0]];const a=i-s[r-1];return t.push(0<a?a:0),e.push(0>a?-a:0),[t,e]},[]);return o=ot(o,a,n),c=ot(c,a,n),c.map((t,e)=>t<1e-14?1:1-1/(1+o[e]/t))};function $t(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ht=(t,e,i,r,a,n,s,o)=>{const[,c]=Pt(t,e,i,r,a,n,s);return[c,ot(c,a,o)]};function Bt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ut=(t,e,i,r,a,n,s)=>{const o=((t,e)=>e.map((i,r)=>r?i-Math.min(t[r],e[r-1]):0))(e,i),c=mt(t,e,i),l=ot(o,r,a),u=ot(o,r,n),d=ot(o,r,s),h=ot(c,r,a),p=ot(c,r,n),g=ot(c,r,s);return h.map((t,e)=>t<1e-14?1:(4*l[e]/t+2*u[e]/p[e]+d[e]/g[e])*(1/7))};function Kt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Gt=(t,e,i,r,a)=>{const n=Tt(t,e,i,r),s=Ct(t,a),o=xt(e,a);return n.map((t,e)=>{const i=s[e]-o[e];return i<1e-14?-1:(t-s[e])/i})};function Wt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Yt=(t,e,i,r)=>{let a,n,s=[],o=0,c=0,l=0;if(t[o]<i[c])for(;t[o]<i[c];)a=e[o],o++;else if(i[c]<t[o])for(;i[c]<t[o];)n=r[c],c++;for(;o<t.length&&c<i.length;){let u=t[o],d=e[o],h=i[c],p=r[c];u===h?(s[l++]={x:u,y:(d-p)/d*100},a=d,n=p,o++,c++):u<h?(p=n||1,s[l++]={x:u,y:(d-p)/d*100},a=e[o],o++):(d=a||1,s[l++]={x:h,y:(d-p)/d*100},n=r[c],c++)}for(;o<t.length;){let i=t[o],r=e[o],a=n;s[l++]={x:i,y:(r-a)/r*100},o++}for(;c<i.length;){let t=a,e=i[c],n=r[c];s[l++]={x:e,y:(t-n)/t*100},c++}return s};function zt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Zt=(t,e,i,r,a)=>ot(Tt(t,e,i,r),at.Exponential,a);function Jt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Xt=(t,e,i,r)=>{const a=1+i,n=1-i,s=Array(t.length).fill(null),o=t.length;if(o<=1)return o?[(t[0]+e[0])/2]:[];let c=null,l=-1,u=!1,d=0,h=0,p=e[0],g=t[0],m=g*a,f=p*n;for(let i=1;i<o;i++){const r=(t[i]+e[i])/2;if(e[i]<p&&(p=e[i],d=i,r<=f)){s[h]=g,h>0&&(s[0]=e[0]),c=p,l=d,u=!0,m=c*a;break}if(t[i]>g&&(g=t[i],h=i,r>=m)){s[d]=p,d>0&&(s[0]=t[0]),c=g,l=h,u=!1,f=c*n;break}}if(l<0)return t[o-1]+e[o-1]>t[0]+e[0]?(s[0]=e[0],s[o-1]=t[o-1]):(s[0]=t[0],s[o-1]=e[o-1]),s;for(let i=l+1;i<o;i++){const o=(t[i]+e[i])/2;u?o>=m?(s[l]=c,c=t[i],f=c*n,l=i,u=!1):e[i]<=c&&(r&&e[i]===e[i-1]||(c=e[i],m=c*a,l=i)):o<=f?(s[l]=c,c=e[i],m=c*a,l=i,u=!0):t[i]>=c&&(r&&t[i]===t[i-1]||(c=t[i],f=c*n,l=i))}return s[l]=c,l<o-1&&(u=!u,s[o-1]=u?e[o-1]:t[o-1]),s};function Qt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var te=(t,e,i,r,a,n,s,o)=>{const c=1+s,l=1-o,u=ot(Tt(t,e,i,r),a,n);return[u.map(t=>c*t),u.map(t=>l*t)]};function ee(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ie=(t,e,i,r,a,n,s,o)=>{const c=Tt(t,e,i,r),l=ot(c,a,s),u=Ot(c,n,s);return[l.map((t,e)=>t+o*u[e]),l.map((t,e)=>t-o*u[e])]};function re(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ae=(t,e,i,r,a)=>{const n=Array(t.length);let s=i,o=1,c=Math.min(30,n.length),[l,u]=t.slice(0,c).reduce(([t,e],i,r)=>t<=i?[i,r]:[t,e],[-1/0]),[d,h]=e.slice(0,c).reduce(([t,e],i,r)=>i<=t?[i,r]:[t,e],[1/0]),p=t[h],g=e[u],m=h,f=u,b=e[0]-d>l-t[0],y=!0;if(b){c=Math.min(h+5,n.length);for(let e=h;e<c;e++)p<=t[e]&&(p=t[e],m=e);c=m,d=e[0];for(let i=0;i<c;i++)n[i]=1.05*t[i],e[i]<=d&&(d=e[i]),o=d}else{c=Math.min(u+5,n.length);for(let t=u;t<c;t++)e[t]<=g&&(g=e[t],f=t);c=f,l=t[0];for(let i=0;i<c;i++)n[i]=.95*e[i],l<=t[i]&&(l=t[i]),o=l}for(let l=c;l<n.length;l++)b?(y?(n[l]=Math.min(o,e[l]),o=t[l],s=i,y=!1):(n[l]=n[l-1]+s*(o-n[l-1]),o<t[l]&&(o=t[l],s<a&&(s+=r)),e[l]<n[l]&&(l-=1,b=!1,y=!0)),(e[l-2]<n[l]||e[l-1]<n[l])&&(n[l]=Math.min(e[l-2],e[l-1]))):(y?(n[l]=Math.max(o,t[l]),o=e[l],s=i,y=!1):(n[l]=n[l-1]+s*(o-n[l-1]),e[l]<o&&(o=e[l],s<a&&(s+=r)),n[l]<t[l]&&(l-=1,b=!0,y=!0)),(n[l]<t[l-2]||n[l]<t[l-1])&&(n[l]=Math.max(t[l-2],t[l-1])));return n.reduce(([t,i],r,a)=>(t.push(r<=e[a]?r:null),i.push(r<=e[a]?null:r),[t,i]),[[],[]])};function ne(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const se={SMA:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","CLOSE"]:["_DATE_END","CLOSE_PRC"],1,n,"movingAverages"),qt(this,"period",38),qt(this,"customTooltipFormatter","float.price"),qt(this,"a11yDescriptionKey","tooltipSMADescription"),this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=jt(null,null,e.close,rt.ClosePrice,this.period);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:r,dataGrouping:{enabled:!1},className:"indicator-sma"}]}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.numberOfPointsToRemove=this.period,this.setIndicatorName(`${this.getIndicatorName()} ${this.period}`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.close){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=jt(null,null,this.pointsForCalculation.close,rt.ClosePrice,this.period),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Simple Moving Average streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},EMA:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","CLOSE"]:["_DATE_END","CLOSE_PRC"],1,n,"movingAverages"),Jt(this,"period",38),Jt(this,"customTooltipFormatter","float.price"),Jt(this,"a11yDescriptionKey","tooltipEMADescription"),this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Zt(null,null,e.close,rt.ClosePrice,this.period);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:r,dataGrouping:{enabled:!1},className:"indicator-sma"}]}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=2*this.period,this.numberOfPointsToRemove=this.period,this.setIndicatorName(`${this.getIndicatorName()} ${this.period}`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.close){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Zt(null,null,this.pointsForCalculation.close,rt.ClosePrice,this.period),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Exponential Moving Average streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},ZIZA:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","OPEN","HIGH","LOW","CLOSE"]:["_DATE_END","OPEN_PRC","HIGH_1","LOW_1","CLOSE_PRC"],1,n,"inChartIndicators"),Qt(this,"delta",8),Qt(this,"customTooltipFormatter","float.price"),Qt(this,"a11yDescriptionKey","tooltipZigZagDescription"),this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Xt(e.high,e.low,this.delta/100,!1);let r=[];const a=i.filter(t=>null!==t),n=t.filter((t,e)=>null!==i[e]);for(let t=0;t<a.length;t++)r.push({x:n[t].x,y:a[t]});return this.log("Series after calculation",r),[{colorIndex:32,id:this.getSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:r,dataGrouping:{enabled:!1}}]}setIndicatorParams(t=[]){t[0]&&(this.delta=t[0].value),this.setIndicatorName(`${this.getIndicatorName()} (${this.delta}%)`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Xt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.delta/100,!1),s=n.filter(t=>null!==t),o=this.pointsForCalculation.x.filter((t,e)=>null!==n[e]),c={x:e,y:s[s.length-1]},l={seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey};if(this.currentStreamingTick.x!==e){const t=[];for(let e=0;e<s.length;e++)t.push({x:o[e],y:s[e]});a.push({points:t,status:"series_updated",...l})}else a.push({...c,status:r,...l});this.currentStreamingTick=c,this.log("Zig-Zag streaming points calculated as",a)}return a}},ENVELOPE:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","CLOSE"]:["_DATE_END","CLOSE_PRC"],2,n,"inChartIndicators"),ee(this,"period",20),ee(this,"variance",6),ee(this,"customTooltipFormatter","float.price"),ee(this,"a11yDescriptionKey","tooltipEnvelopesDescription"),this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},[i,r]=te(null,null,e.close,rt.ClosePrice,at.Arithmetic,this.period,this.variance/100,this.variance/100),a=jt(null,null,e.close,rt.ClosePrice,this.period);let n=[],s=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)n.push({x:t[e].x,high:i[e],low:r[e]}),s.push({x:t[e].x,y:a[e]});return this.log("Series high-low after calculation",n),this.log("Series basis after calculation",s),[{colorIndex:34,id:this.getUpperLowerSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.arearange,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:n,dataGrouping:{enabled:!1},className:"indicator-envelope-outer"},{colorIndex:34,id:this.getBasisSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:s,dataGrouping:{enabled:!1},className:"indicator-envelope-basis",linkedTo:this.getUpperLowerSeriesId()}]}getUpperLowerSeriesId(){return this.getSeriesId()+"UpperLower"}getBasisSeriesId(){return this.getSeriesId()+"Basis"}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.numberOfPointsToRemove=this.period,t[1]&&(this.variance=t[1].value),this.setIndicatorName(`${this.getIndicatorName()} (${this.period}, ${this.variance}%)`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.close){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),[n,s]=te(null,null,this.pointsForCalculation.close,rt.ClosePrice,at.Arithmetic,this.period,this.variance/100,this.variance/100),o=jt(null,null,this.pointsForCalculation.close,rt.ClosePrice,this.period),c=o.length-1,l={x:e,high:n[c],low:s[c]},u={x:e,y:o[c]};this.currentStreamingTick=u,this.log("Envelopes high-low streaming point calculated as",l),this.log("Envelopes basis streaming point calculated as",u),a=[{...l,status:r,seriesId:this.getUpperLowerSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey},{...u,status:r,seriesId:this.getBasisSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},BOLL:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],2,n,"inChartIndicators"),re(this,"period",20),re(this,"distance",2),re(this,"customTooltipFormatter","float.price"),re(this,"a11yDescriptionKey","tooltipBollingerBandsDescription"),this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},[i,r]=ie(e.high,e.low,e.close,rt.TypicalPrice,at.Arithmetic,nt.Standard,this.period,this.distance),a=jt(null,null,e.close,rt.ClosePrice,this.period);let n=[],s=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)n.push({x:t[e].x,high:i[e],low:r[e]}),s.push({x:t[e].x,y:a[e]});return this.log("Series high, low after calculation",n),this.log("Series basis after calculation",s),[{colorIndex:33,id:this.getUpperLowerSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.arearange,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:n,dataGrouping:{enabled:!1},className:"indicator-bollinger-outer"},{colorIndex:33,id:this.getBasisSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:s,dataGrouping:{enabled:!1},linkedTo:this.getUpperLowerSeriesId(),className:"indicator-bollinger-basis"}]}getUpperLowerSeriesId(){return this.getSeriesId()+"UpperLower"}getBasisSeriesId(){return this.getSeriesId()+"Basis"}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.numberOfPointsToRemove=this.period,t[1]&&(this.distance=t[1].value),this.setIndicatorName(`${this.getIndicatorName()} (${this.period}, ${this.distance})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),[n,s]=ie(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.TypicalPrice,at.Arithmetic,nt.Standard,this.period,this.distance),o=jt(null,null,this.pointsForCalculation.close,rt.ClosePrice,this.period),c=o.length-1,l={x:e,high:n[c],low:s[c]},u={x:e,y:o[c]};this.currentStreamingTick=u,this.log("BollingBands high-low streaming point calculated as",l),this.log("BollingBands basis streaming point calculated as",u),a=[{...l,status:r,seriesId:this.getUpperLowerSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey},{...u,status:r,seriesId:this.getBasisSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},PSAR:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","OPEN","HIGH","LOW","CLOSE"]:["_DATE_END","OPEN_PRC","HIGH_1","LOW_1","CLOSE_PRC"],2,n,"inChartIndicators"),ne(this,"acceleration",.02),ne(this,"max",.2),ne(this,"customTooltipFormatter","float.price"),ne(this,"a11yDescriptionKey","tooltipParabolicSARDescription"),this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=ae(e.high,e.low,this.acceleration,this.acceleration,this.max).map(e=>({x:t.filter((t,i)=>null!==e[i]),y:e.filter(t=>null!==t)})),r=i[0].x.map((t,e)=>({x:t.x,y:i[0].y[e]})),a=i[1].x.map((t,e)=>({x:t.x,y:i[1].y[e]}));return this.log("Long series after calculation",r),this.log("Short series after calculation",a),[{colorIndex:35,id:this.getLongSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.scatter,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:r,dataGrouping:{enabled:!1},marker:{symbol:"square",radius:1}},{colorIndex:36,id:this.getShortSeriesId(),seriesId:this.getAxisId(),name:this.getIndicatorName(),type:this.chartTypes.scatter,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,data:a,dataGrouping:{enabled:!1},marker:{symbol:"square",radius:1},linkedTo:this.getLongSeriesId()}]}getLongSeriesId(){return this.getSeriesId()+"Long"}getShortSeriesId(){return this.getSeriesId()+"Short"}setIndicatorParams(t=[]){t[0]&&(this.acceleration=t[0].value),t[1]&&(this.max=t[1].value),this.additionalPointsToFetch=this.numberOfPointsToRemove=30,this.setIndicatorName(`${this.getIndicatorName()} (${this.acceleration}, ${this.max})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=ae(this.pointsForCalculation.high,this.pointsForCalculation.low,this.acceleration,this.acceleration,this.max),s=n[0].length-1,o={x:e,y:n[0][s]},c={x:e,y:n[1][s]},l={x:e,y:o.y?o.y:c.y};this.currentStreamingTick=l,this.log("ParabolicSAR long streaming point calculated as",o),this.log("ParabolicSAR short streaming point calculated as",c),a=[(this.getLongSeriesId(),this.customTooltipFormatter,this.a11yDescriptionKey,{...c,status:r,seriesId:this.getShortSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey})]}return a}},VOL:class extends Q{constructor(t,e,i,r,a,n){super(t,e.label,e,i,r,a,"intraday"===i?["TIME","CLOSE","VOLUME"]:["_DATE_END","CLOSE_PRC","ACVOL_1"],"additionalDiagrams",1,n),tt(this,"yAxis",{height:"20%",floor:0,tickPixelInterval:30,endOnTick:!1,tickAmount:4,crosshair:{snap:!1},opposite:!0,startOnTick:!0,labels:{enabled:!0,align:"right",x:45,y:2},title:{text:null}}),tt(this,"customTooltipFormatter","float.compact"),tt(this,"a11yDescriptionKey","tooltipVolumeDescription"),this.yAxis.id=e.id}async process(){this.log("Processing started for volume indicator");const t=this.getRequestURI(this.ric,this.dateRange.fromDate,this.dateRange.toDate,this.periodicity),e=await this.fetchTimeseriesData(t),i=this.processVolumeData(e);return this.totalVolume=await this.fetchDailyVolume(),this.log("Processed volume data after initial fetch",i),this.log("Total volume calculated for historical charts after initial fetch ",this.totalVolume),[{colorIndex:0,id:this.getSeriesId(),name:this.getIndicatorName(),indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,type:"column",yAxis:this.getAxisId(),data:i,dataGrouping:{enabled:!1},showInLegend:!1}]}async volumeIntervalChanged(t,e){let i=[];if(!1===this.isAPILocked){this.isAPILocked=!0;const r=this.processVolumeData(t);let a=r.length-1;const n={seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey};i=[{...r[a],...n},{...r[a-1],...n}],e&&(this.totalVolume+=r[a-1].y,this.log("Total volume after interval change updated to",this.totalVolume)),this.isAPILocked=!1}return i}streamingHandler(t,e,i,r){const a=parseFloat(i.ACVOL_1),n=parseFloat(i._TRDPRC_1);let s=[];if(!this.isRicStreaming(t))return s;if(!i.ACVOL_1)return s;if(r&&!this.isSnapshotHandled)return this.log("Processing snapshot",i),this.isSnapshotHandled=!0,this.snapshotVolume=a,s;if(this.isSnapshotHandled){if(this.isFirstTickHandled||"historical"===this.restEndPoint){const t={x:e,y:this.currentStreamingTick.x===e?v.a.calculateVolume(a,this.restEndPoint,this.periodicity,this.totalVolume):0};this.currentStreamingTick.x===e?(this.log("Chart should update volume with points: ",t),s=[{...t,colorIndex:this.lastTick.close<n?150:151,status:"point_updated"}]):(this.log("Chart should add new volume point:  ",t),s=[{...t,colorIndex:150,status:"point_added"}],this.lastTick=this.currentStreamingTick),this.currentStreamingTick=t}else{if(e===this.currentStreamingTick.x){this.currentStreamingTick.y=a-this.snapshotVolume+this.currentStreamingTick.y,this.totalVolume=a-this.currentStreamingTick.y;const t={x:e,y:v.a.calculateVolume(a,this.restEndPoint,this.periodicity,this.totalVolume),colorIndex:this.lastTick.close<n?150:151};this.currentStreamingTick=t,this.log("First tick handled after subscription. Chart should update the point",t),s=[{...t,status:"point_updated"}]}else{this.totalVolume=a;const t={x:e,y:0,colorIndex:150};this.lastTick=this.currentStreamingTick,this.currentStreamingTick=t,this.log("First tick after subscription fell in new interval. Chart should add new point",t),s=[{...t,status:"point_added",subStatus:"first_tick_time_mismatch"}]}this.isFirstTickHandled=!0}s[0]={...s[0],seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}}return s}processVolumeData(t=[]){let e=this.processTimeseriesData(t);return e=e.map((t,i)=>{const r=t.close,a=0===i?0:e[i-1].close;return{x:t.x,y:t.volume,colorIndex:a<r?150:151}}),this.log("series after processing in volume indicator",t),this.setTicks(e),Object(E.b)(e)}},ADL:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","OPEN","HIGH","LOW","CLOSE","VOLUME"]:["_DATE_END","OPEN_PRC","HIGH_1","LOW_1","CLOSE_PRC","ACVOL_1"],2,n),lt(this,"yAxis",{}),lt(this,"period",38),lt(this,"customTooltipFormatter","float.compact"),lt(this,"a11yADLSeriesDescriptionKey","tooltipAccumulationDistributionLineDescription"),lt(this,"a11yAverageADLSeriesDescriptionKey","tooltipAverageAccumulationDistributionLineDescription"),this.yAxis=this.baseYAxis,this.yAxis.id=e.id,this.setIndicatorParams(e.params)}calculate(t,e,i,r,a,n){return ct(t,e,i,r,a,st.ClosePrices,at.Arithmetic,n)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=this.calculate(e.open,e.high,e.low,e.close,e.volume,1),r=this.calculate(e.open,e.high,e.low,e.close,e.volume,this.period);let a=[],n=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)a.push({x:t[e].x,y:i[e]}),n.push({x:t[e].x,y:r[e]});return this.log("Series after calculation",a),this.log("Average Series after calculation",n),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yADLSeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getAverageSeriesId(),name:this.getAverageSeriesName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageADLSeriesDescriptionKey,yAxis:this.getAxisId(),data:n,dataGrouping:{enabled:!1},showInLegend:!1}]}getAverageSeriesId(){return this.config.id+"avg"}getAverageSeriesName(){return`${this.additionalParams.averageAccumulationDistributionLine} (${this.period})`}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.period,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(""+this.getIndicatorName())}streamingHandler(t,e,i,r){if(!this.isRicStreaming(t))return[];const a=super.volumeStreamingHandler(e,i,r);return["snap_not_processed","snapshot_handled"].indexOf(a.status)>=0?[]:[{...this.getStreamingPoints(1)[0],...a,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yADLSeriesDescriptionKey},{...this.getStreamingPoints(this.period)[0],...a,seriesId:this.getAverageSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageADLSeriesDescriptionKey}]}async volumeIntervalChanged(t,e){await super.volumeIntervalChanged(t,e);const i=this.getStreamingPoints(1),r=this.getStreamingPoints(this.period);return[{...i[0],status:"point_updated",seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yADLSeriesDescriptionKey},{...i[1],status:"point_updated",seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yADLSeriesDescriptionKey},{...r[0],status:"point_updated",seriesId:this.getAverageSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageADLSeriesDescriptionKey},{...r[1],status:"point_updated",seriesId:this.getAverageSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageADLSeriesDescriptionKey}]}getStreamingPoints(t){const e=this.calculate(this.pointsForCalculation.open,this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,this.pointsForCalculation.volume,t),i={x:this.currentStreamingTick.x,y:e[e.length-1]},r={x:this.lastTick.x,y:e[e.length-2]};return this.log(`${this.getIndicatorName()} streaming last point with period ${t} calculated as`,i),this.log(`${this.getIndicatorName()} streaming second last point with period ${t} calculated as`,r),[i,r]}},AR:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW"]:["_DATE_END","HIGH_1","LOW_1"],1,n),pt(this,"yAxis",{floor:-100,tickPositions:[-100,0,100]}),pt(this,"period",25),pt(this,"customTooltipFormatter","float.price"),pt(this,"a11yDescriptionKey","tooltipAroonDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=dt(e.high,e.low,this.period).map(t=>100*t);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.numberOfPointsToRemove=this.period,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=dt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.period).map(t=>100*t),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Aroon streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},ARUD:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW"]:["_DATE_END","HIGH_1","LOW_1"],2,n),gt(this,"yAxis",{floor:0,tickPositions:[0,50,100]}),gt(this,"buy",70),gt(this,"sell",30),gt(this,"period",25),gt(this,"customTooltipFormatter","float.price"),gt(this,"a11yUpSeriesDescriptionKey","tooltipAroonUpDescription"),gt(this,"a11yDownSeriesDescriptionKey","tooltipAroonDownDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=ut(e.high,e.low,this.period).map(t=>t.map(t=>100*t));let r=[],a=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[0][e]}),a.push({x:t[e].x,y:i[1][e]});return this.log("Series Up after calculation",r),this.log("Series Down after calculation",a),[{colorIndex:this.getColorIndex(),id:this.getSeriesUpId(),name:this.getSeriesUpName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yUpSeriesDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getSeriesDownId(),name:this.getSeriesDownName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDownSeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1}]}getSeriesUpId(){return this.config.id+"Up"}getSeriesDownId(){return this.config.id+"Down"}getSeriesUpName(){return`${this.config.value} ${this.additionalParams.upSeriesSuffix} (${this.period}) `}getSeriesDownName(){return`${this.config.value} ${this.additionalParams.downSeriesSuffix} (${this.period}) `}getBuyPlotLineId(){return this.getSeriesId()+"Buy"}getSellPlotLineId(){return this.getSeriesId()+"Sell"}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.period,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`),t[1]&&(this.buy=t[1]),t[2]&&(this.sell=t[2]);let e=this.yAxis.tickPositions;e.push(this.buy,this.sell),this.yAxis.tickPositions=Object(E.g)(e),this.yAxis.plotLines=[{id:this.getSellPlotLineId(),value:this.sell,className:"plotline-sell"},{id:this.getBuyPlotLineId(),value:this.buy,className:"plotline-buy"}]}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=ut(this.pointsForCalculation.high,this.pointsForCalculation.low,this.period).map(t=>t.map(t=>100*t)),s=n[0].length-1,o={x:e,y:n[0][s]},c={x:e,y:n[1][s]};this.currentStreamingTick=o,this.log("Aroon Up Series streaming point calculated as",o),this.log("Aroon Down Series streaming point calculated as",c),a=[{...o,status:r,seriesId:this.getSeriesUpId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yUpSeriesDescriptionKey},{...c,status:r,seriesId:this.getSeriesDownId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDownSeriesDescriptionKey}]}return a}},ADX:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],1,n),yt(this,"yAxis",{}),yt(this,"period",14),yt(this,"customTooltipFormatter","float.price"),yt(this,"a11yDescriptionKey","tooltipAverageDirectionalIndexDescription"),this.yAxis=this.baseYAxis,this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=bt(e.high,e.low,e.close,at.Wilders,this.period,this.period).map(t=>100*t);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.period,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=bt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,at.Wilders,this.period,this.period).map(t=>100*t),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Average Directional Index streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},ATR:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],1,n),St(this,"yAxis",{}),St(this,"period",14),St(this,"customTooltipFormatter","float.price"),St(this,"a11yDescriptionKey","tooltipAverageTrueRangeDescription"),this.yAxis=this.baseYAxis,this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=vt(e.high,e.low,e.close,at.Wilders,this.period);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=5*this.period,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=vt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,at.Wilders,this.period),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Average True Range streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},CHO:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","OPEN","HIGH","LOW","CLOSE","VOLUME"]:["_DATE_END","OPEN_PRC","HIGH_1","LOW_1","CLOSE_PRC","ACVOL_1"],1,n),Dt(this,"yAxis",{plotLines:[{id:"CHO-zero-line",value:0,className:"plotline-zero"}]}),Dt(this,"period1",3),Dt(this,"period2",10),Dt(this,"customTooltipFormatter","float.compact"),Dt(this,"a11yDescriptionKey","tooltipChaikinOscillatorDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}calculate(t,e,i,r,a){return((t,e,i,r,a,n,s,o,c)=>{const l=ct(t,e,i,r,a,n,s,1),u=ot(l,s,o),d=ot(l,s,c);return u.map((t,e)=>t-d[e])})(t,e,i,r,a,st.ClosePrices,at.Exponential,this.period1,this.period2)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=this.calculate(e.open,e.high,e.low,e.close,e.volume);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}setIndicatorParams(t=[]){t[0]&&(this.period1=t[0].value),t[1]&&(this.period2=t[1].value),this.additionalPointsToFetch=3*Math.max(this.period1,this.period2),this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period1}, ${this.period2})`)}streamingHandler(t,e,i,r){if(!this.isRicStreaming(t))return[];const a=super.volumeStreamingHandler(e,i,r);return["snap_not_processed","snapshot_handled"].indexOf(a.status)>=0?[]:[{...this.getStreamingPoints()[0],...a,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}async volumeIntervalChanged(t,e){await super.volumeIntervalChanged(t,e);const i=this.getStreamingPoints();return[{...i[0],status:"point_updated",seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey},{...i[1],status:"point_updated",seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}getStreamingPoints(){const t=this.calculate(this.pointsForCalculation.open,this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,this.pointsForCalculation.volume),e=t.length-1,i={x:this.currentStreamingTick.x,y:t[e]},r={x:this.lastTick.x,y:t[e-1]};return this.log(this.getIndicatorName()+" streaming last point calculated as",i),this.log(this.getIndicatorName()+" streaming second last point calculated as",r),[i,r]}},DMI:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],3,n),At(this,"yAxis",{}),At(this,"period",14),At(this,"customTooltipFormatter","float.price"),At(this,"a11yDMISeriesDescriptionKey","tooltipDirectionalMovementIndexDescription"),At(this,"a11yPositiveDMISeriesDescriptionKey","tooltipPositiveDirectionalMovementIndexDescription"),At(this,"a11yNegativeDMISeriesDescriptionKey","tooltipNegativeDirectionalMovementIndexDescription"),this.yAxis=this.baseYAxis,this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=ft(e.high,e.low,e.close,at.Wilders,this.period);let r=[],a=[],n=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[0][e]}),n.push({x:t[e].x,y:i[1][e]}),a.push({x:t[e].x,y:i[2][e]});return this.log("Series after calculation",r),this.log("Positive series after calculation",a),this.log("Negative series after calculation",n),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDMISeriesDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getPositiveSeriesId(),name:this.getPositiveSeriesName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yPositiveDMISeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+2,id:this.getNegativeSeriesId(),name:this.getNegativeSeriesName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yNegativeDMISeriesDescriptionKey,yAxis:this.getAxisId(),data:n,dataGrouping:{enabled:!1},showInLegend:!1}]}getPositiveSeriesId(){return this.getSeriesId()+"+ve"}getNegativeSeriesId(){return this.getSeriesId()+"-ve"}getPositiveSeriesName(){return`${this.config.value} ${this.additionalParams.positiveSuffix} (${this.period}) `}getNegativeSeriesName(){return`${this.config.value}  ${this.additionalParams.negativeSuffix} (${this.period}) `}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.period,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=ft(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,at.Wilders,this.period),s=n[0].length-1,o={x:e,y:n[0][s]},c={x:e,y:n[1][s]},l={x:e,y:n[2][s]};this.currentStreamingTick=o,this.log("Directional Movement Index streaming point calculated as",o),this.log("Positive Directional Movement Index streaming point calculated as",l),this.log("Negative Directional Movement Index streaming point calculated as",c),a=[{...o,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDMISeriesDescriptionKey},{...l,status:r,seriesId:this.getPositiveSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yPositiveDMISeriesDescriptionKey},{...c,status:r,seriesId:this.getNegativeSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yNegativeDMISeriesDescriptionKey}]}return a}},STOF:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],2,n),Et(this,"yAxis",{floor:0,tickPositions:[0,20,40,60,80,100]}),Et(this,"buy",80),Et(this,"sell",20),Et(this,"period1",14),Et(this,"period2",3),Et(this,"customTooltipFormatter","float.price"),Et(this,"a11yKSeriesDescriptionKey","tooltipFastStochastics%KDescription"),Et(this,"a11yDSeriesDescriptionKey","tooltipFastStochastics%DDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Pt(e.high,e.low,e.close,rt.TypicalPrice,at.Exponential,this.period1,this.period2).map(t=>t.map(t=>100*t));let r=[],a=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[0][e]}),a.push({x:t[e].x,y:i[1][e]});return this.log("Series K after calculation",r),this.log("Series D after calculation",a),[{colorIndex:this.getColorIndex(),id:this.getSeriesKId(),name:this.getSeriesKName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yKSeriesDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getSeriesDId(),name:this.getSeriesDName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDSeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1}]}getSeriesKId(){return this.config.id+"%K"}getSeriesDId(){return this.config.id+"%D"}getSeriesKName(){return`${this.config.value} ${this.additionalParams.seriesKSuffix} (${this.period1}) `}getSeriesDName(){return`${this.config.value} ${this.additionalParams.seriesDSuffix} (${this.period2}) `}getBuyPlotLineId(){return this.getSeriesId()+"Buy"}getSellPlotLineId(){return this.getSeriesId()+"Sell"}setIndicatorParams(t=[]){t[0]&&(this.period1=t[0].value),t[1]&&(this.period2=t[1].value),this.additionalPointsToFetch=this.period1+this.period2-2,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period1}, ${this.period2})`),t[2]&&(this.buy=t[2]),t[3]&&(this.sell=t[3]);let e=this.yAxis.tickPositions;e.push(this.buy,this.sell),this.yAxis.tickPositions=Object(E.g)(e),this.yAxis.plotLines=[{id:this.getSellPlotLineId(),value:this.sell,className:"plotline-sell"},{id:this.getBuyPlotLineId(),value:this.buy,className:"plotline-buy"}]}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Pt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.TypicalPrice,at.Exponential,this.period1,this.period2).map(t=>t.map(t=>100*t)),s=n[0].length-1,o={x:e,y:n[0][s]},c={x:e,y:n[1][s]};this.currentStreamingTick=o,this.log("Fast Stochastics K Series streaming point calculated as",o),this.log("Fast Stochastics D Series streaming point calculated as",c),a=[{...o,status:r,seriesId:this.getSeriesKId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yKSeriesDescriptionKey},{...c,status:r,seriesId:this.getSeriesDId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDSeriesDescriptionKey}]}return a}},HV:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],2,n),wt(this,"yAxis",{}),wt(this,"period1",10),wt(this,"period2",100),wt(this,"period3",3),wt(this,"customTooltipFormatter","float.price"),wt(this,"a11yDescriptionKey","tooltipHistoricalVolatilityDescription"),this.yAxis=this.baseYAxis,this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=It(e.high,e.low,e.close,rt.TypicalPrice,this.period1,this.period2,this.period3).map(t=>t.map(t=>1e3*t));let r=[],a=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[0][e]}),a.push({x:t[e].x,y:i[1][e]});return this.log("Series 1 after calculation",r),this.log("Series 2 after calculation",a),[{colorIndex:this.getColorIndex(),id:this.getFirstSeriesId(),name:this.getFirstSeriesName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getSecondSeriesId(),name:this.getSecondSeriesName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1}]}getFirstSeriesId(){return this.config.id+"1"}getSecondSeriesId(){return this.config.id+"2"}getFirstSeriesName(){return`${this.config.value} (${this.period1})`}getSecondSeriesName(){return`${this.config.value} (${this.period2})`}setIndicatorParams(t=[]){t[0]&&(this.period1=t[0].value),t[1]&&(this.period2=t[1].value),t[2]&&(this.period3=t[2].value),this.additionalPointsToFetch=this.period1+this.period2+this.period3,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period1}, ${this.period2}, ${this.period3})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=It(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.TypicalPrice,this.period1,this.period2,this.period3).map(t=>t.map(t=>1e3*t)),s=n[0].length-1,o={x:e,y:n[0][s]},c={x:e,y:n[1][s]};this.currentStreamingTick=o,this.log("Historical Volatility Series 1 streaming point calculated as",o),this.log("Historical Volatility Series 2 streaming point calculated as",c),a=[{...o,status:r,seriesId:this.getFirstSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey},{...c,status:r,seriesId:this.getSecondSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},MOM:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],2,n),_t(this,"yAxis",{plotLines:[{id:"MOM-zero-line",value:0,className:"plotline-zero"}]}),_t(this,"period",28),_t(this,"customTooltipFormatter","float.price"),_t(this,"a11yMomentumSeriesDescriptionKey","tooltipMomentumDescription"),_t(this,"a11yAverageMomentumSeriesDescriptionKey","tooltipAverageMomentumDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Rt(e.high,e.low,e.close,rt.ClosePrice,this.period),r=jt(null,null,i,rt.ClosePrice,this.period);let a=[],n=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)a.push({x:t[e].x,y:i[e]}),n.push({x:t[e].x,y:r[e]});return this.log("Series Momentum after calculation",a),this.log("Series Average Momentum after calculation",n),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMomentumSeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getAverageMomentumSeriesId(),name:this.getAverageMomentumIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageMomentumSeriesDescriptionKey,yAxis:this.getAxisId(),data:n,dataGrouping:{enabled:!1},showInLegend:!1}]}getAverageMomentumSeriesId(){return this.config.id+"avg"}getAverageMomentumIndicatorName(){return`${this.additionalParams.averageMomentum} (${this.period})`}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.numberOfPointsToRemove=this.period,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Rt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.ClosePrice,this.period),s=jt(null,null,n,rt.ClosePrice,this.period),o=n.length-1,c={x:e,y:n[o]},l={x:e,y:s[o]};this.currentStreamingTick=c,this.log("Momentum streaming point calculated as",c),this.log("Average Momentum streaming point calculated as",l),a=[{...c,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMomentumSeriesDescriptionKey},{...l,status:r,seriesId:this.getAverageMomentumSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageMomentumSeriesDescriptionKey}]}return a}},MACD:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],3,n),Lt(this,"yAxis",{}),Lt(this,"period1",12),Lt(this,"period2",26),Lt(this,"period3",9),Lt(this,"customTooltipFormatter","float.price"),Lt(this,"a11yMACDSeriesDescriptionKey","tooltipMACDDescription"),Lt(this,"a11yMACDTriggerSeriesDescriptionKey","tooltipMACDTriggerDescription"),Lt(this,"a11yMACDHistogramSeriesDescriptionKey","tooltipMACDHistogramDescription"),this.yAxis=this.baseYAxis,this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Ft(e.high,e.low,e.close,rt.TypicalPrice,at.Exponential,this.period1,this.period2,this.period3);let r=[],a=[],n=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[0][e]}),n.push({x:t[e].x,y:i[1][e]}),a.push({x:t[e].x,y:i[2][e]});return this.log("MACD after calculation",r),this.log("Trigger series after calculation",n),this.log("MACD Histogram series after calculation",a),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMACDSeriesDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1,zIndex:2},{colorIndex:this.getColorIndex()+1,id:this.getTriggerSeriesId(),name:this.getTriggerSeriesname(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMACDTriggerSeriesDescriptionKey,yAxis:this.getAxisId(),data:n,dataGrouping:{enabled:!1},showInLegend:!1,zIndex:2},{colorIndex:152,id:this.getHistogramSeriesId(),name:this.getHistogramSeriesName(),type:this.chartTypes.column,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMACDHistogramSeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1}]}getTriggerSeriesId(){return this.getSeriesId()+"trigger"}getHistogramSeriesId(){return this.getSeriesId()+"histogram"}getTriggerSeriesname(){return`${this.additionalParams.trigger} (${this.period3})`}getHistogramSeriesName(){return`${this.additionalParams.histogram} (${this.period1}, ${this.period2})`}setIndicatorParams(t=[]){t[0]&&(this.period1=t[0].value),t[1]&&(this.period2=t[1].value),t[2]&&(this.period3=t[2].value),this.additionalPointsToFetch=2*(this.period2+this.period3),this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period1}, ${this.period2})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Ft(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.TypicalPrice,at.Exponential,this.period1,this.period2,this.period3),s=n[0].length-1,o={x:e,y:n[0][s]},c={x:e,y:n[1][s]},l={x:e,y:n[2][s]};this.currentStreamingTick=o,this.log("Moving Average Convergence Divergence streaming point calculated as",o),this.log("Moving Average Convergence Divergence trigger streaming point calculated as",c),this.log("Moving Average Convergence Divergence histogram streaming point calculated as",l),a=[{...o,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMACDSeriesDescriptionKey},{...c,status:r,seriesId:this.getTriggerSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMACDTriggerSeriesDescriptionKey},{...l,status:r,seriesId:this.getHistogramSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yMACDHistogramSeriesDescriptionKey}]}return a}},OBV:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE","VOLUME"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC","ACVOL_1"],2,n),kt(this,"yAxis",{}),kt(this,"period",38),kt(this,"customTooltipFormatter","float.compact"),kt(this,"a11yVolumeSeriesDescriptionKey","tooltipOnBalanceVolumeDescription"),kt(this,"a11yAverageVolumeSeriesDescriptionKey","tooltipAverageOnBalanceVolumeDescription"),this.yAxis=this.baseYAxis,this.yAxis.id=e.id,this.setIndicatorParams(e.params)}calculate(t,e,i,r){return((t,e,i,r,a,n,s)=>{const o=Tt(t,e,i,a),c=o.reduce((t,e,i)=>(i?o[i-1]<e?t.push(t[i-1]+r[i]):e<o[i-1]?t.push(t[i-1]-r[i]):t.push(t[i-1]):t.push(0),t),[]);return[c,ot(c,n,s)]})(t,e,i,r,rt.ClosePrice,at.Arithmetic,this.period)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=this.calculate(e.high,e.low,e.close,e.volume);let r=[],a=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[0][e]}),a.push({x:t[e].x,y:i[1][e]});return this.log("Series after calculation",r),this.log("Average Series after calculation",a),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yVolumeSeriesDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getAverageSeriesId(),name:this.getAverageSeriesName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageVolumeSeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1}]}getAverageSeriesId(){return this.config.id+"avg"}getAverageSeriesName(){return`${this.additionalParams.averageOnBalanceVolume} (${this.period})`}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.period,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`)}streamingHandler(t,e,i,r){if(!this.isRicStreaming(t))return[];const a=super.volumeStreamingHandler(e,i,r);return["snap_not_processed","snapshot_handled"].indexOf(a.status)>=0?[]:[{...this.getStreamingPoints()[0],...a,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yVolumeSeriesDescriptionKey},{...this.getStreamingPoints()[2],...a,seriesId:this.getAverageSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageVolumeSeriesDescriptionKey}]}async volumeIntervalChanged(t,e){await super.volumeIntervalChanged(t,e);const i=this.getStreamingPoints();return[{...i[0],status:"point_updated",seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yVolumeSeriesDescriptionKey},{...i[1],status:"point_updated",seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yVolumeSeriesDescriptionKey},{...i[2],status:"point_updated",seriesId:this.getAverageSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageVolumeSeriesDescriptionKey},{...i[3],status:"point_updated",seriesId:this.getAverageSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yAverageVolumeSeriesDescriptionKey}]}getStreamingPoints(){const t=this.calculate(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,this.pointsForCalculation.volume),e=t[0].length-1,i={x:this.currentStreamingTick.x,y:t[0][e]},r={x:this.lastTick.x,y:t[0][e-1]},a={x:this.currentStreamingTick.x,y:t[1][e]},n={x:this.lastTick.x,y:t[1][e-1]};return this.log(this.getIndicatorName()+" streaming last point calculated as",i),this.log(this.getIndicatorName()+" streaming second last point calculated as",r),this.log(this.getIndicatorName()+" average streaming last point calculated as",a),this.log(this.getIndicatorName()+" average streaming second last point calculated as",n),[i,r,a,n]}},RoC:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],1,n),Nt(this,"yAxis",{floor:-100,plotLines:[{id:"RoC-zero-line",value:0,className:"plotline-zero"}]}),Nt(this,"period",12),Nt(this,"customTooltipFormatter","float.price"),Nt(this,"a11yDescriptionKey","tooltipRateOfChangeDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Mt(e.high,e.low,e.close,rt.ClosePrice,this.period).map(t=>100*t);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=this.numberOfPointsToRemove=this.period+1,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Mt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.ClosePrice,this.period).map(t=>100*t),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Rate of Change streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},RSI:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],1,n),$t(this,"yAxis",{floor:0,tickPositions:[0,20,40,60,80,100]}),$t(this,"buy",80),$t(this,"sell",20),$t(this,"period",14),$t(this,"customTooltipFormatter","float.price"),$t(this,"a11yDescriptionKey","tooltipRelativeStrengthIndexDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Vt(e.high,e.low,e.close,rt.ClosePrice,at.Wilders,this.period).map(t=>100*t);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}getBuyPlotLineId(){return this.getSeriesId()+"Buy"}getSellPlotLineId(){return this.getSeriesId()+"Sell"}setIndicatorParams(t=[]){t[0]&&(this.period=t[0].value),this.additionalPointsToFetch=2*this.period,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`),t[1]&&(this.buy=t[1]),t[2]&&(this.sell=t[2]);let e=this.yAxis.tickPositions;e.push(this.buy,this.sell),this.yAxis.tickPositions=Object(E.g)(e),this.yAxis.plotLines=[{id:this.getSellPlotLineId(),value:this.sell,className:"plotline-sell"},{id:this.getBuyPlotLineId(),value:this.buy,className:"plotline-buy"}]}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Vt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.ClosePrice,at.Wilders,this.period).map(t=>100*t),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Relative Strength Index streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},STOS:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],2,n),Bt(this,"yAxis",{floor:0,tickPositions:[0,20,40,60,80,100]}),Bt(this,"buy",80),Bt(this,"sell",20),Bt(this,"period1",14),Bt(this,"period2",3),Bt(this,"period3",5),Bt(this,"customTooltipFormatter","float.price"),Bt(this,"a11yKSeriesDescriptionKey","tooltipSlowStochastics%KDescription"),Bt(this,"a11yDSeriesDescriptionKey","tooltipSlowStochastics%DDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Ht(e.high,e.low,e.close,rt.TypicalPrice,at.Wilders,this.period1,this.period2,this.period3).map(t=>t.map(t=>100*t));let r=[],a=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[0][e]}),a.push({x:t[e].x,y:i[1][e]});return this.log("Series K after calculation",r),this.log("Series D after calculation",a),[{colorIndex:this.getColorIndex(),id:this.getSeriesKId(),name:this.getSeriesKName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yKSeriesDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1},{colorIndex:this.getColorIndex()+1,id:this.getSeriesDId(),name:this.getSeriesDName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDSeriesDescriptionKey,yAxis:this.getAxisId(),data:a,dataGrouping:{enabled:!1},showInLegend:!1}]}getSeriesKId(){return this.config.id+"%K"}getSeriesDId(){return this.config.id+"%D"}getSeriesKName(){return`${this.config.value} ${this.additionalParams.seriesKSuffix} (${this.period1}, ${this.period2})`}getSeriesDName(){return`${this.config.value} ${this.additionalParams.seriesDSuffix} (${this.period2})`}getBuyPlotLineId(){return this.getSeriesId()+"Buy"}getSellPlotLineId(){return this.getSeriesId()+"Sell"}setIndicatorParams(t=[]){t[0]&&(this.period1=t[0].value),t[1]&&(this.period2=t[1].value),t[2]&&(this.period3=t[2].value),this.additionalPointsToFetch=this.period1+this.period2+this.period3-3,this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period1}, ${this.period2}, ${this.period3})`),t[3]&&(this.buy=t[3]),t[4]&&(this.sell=t[4]);let e=this.yAxis.tickPositions;e.push(this.buy,this.sell),this.yAxis.tickPositions=Object(E.g)(e),this.yAxis.plotLines=[{id:this.getSellPlotLineId(),value:this.sell,className:"plotline-sell"},{id:this.getBuyPlotLineId(),value:this.buy,className:"plotline-buy"}]}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Ht(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.TypicalPrice,at.Wilders,this.period1,this.period2,this.period3).map(t=>t.map(t=>100*t)),s={x:e,y:n[0][n[0].length-1]},o={x:e,y:n[1][n[1].length-1]};this.currentStreamingTick=s,this.log("Slow Stochastics K Series streaming point calculated as",s),this.log("Slow Stochastics D Series streaming point calculated as",o),a=[{...s,status:r,seriesId:this.getSeriesKId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yKSeriesDescriptionKey},{...o,status:r,seriesId:this.getSeriesDId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDSeriesDescriptionKey}]}return a}},UO:class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],1,n),Kt(this,"yAxis",{floor:0,tickPositions:[0,20,40,60,80,100]}),Kt(this,"period1",7),Kt(this,"period2",14),Kt(this,"period3",28),Kt(this,"customTooltipFormatter","float.price"),Kt(this,"a11yDescriptionKey","tooltipUltimateOscillatorDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Ut(e.high,e.low,e.close,at.Arithmetic,this.period1,this.period2,this.period3).map(t=>100*t);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}setIndicatorParams(t=[]){t[0]&&(this.period1=t[0].value),t[1]&&(this.period2=t[1].value),t[2]&&(this.period3=t[2].value),this.additionalPointsToFetch=Math.max(this.period1,this.period2,this.period3),this.numberOfPointsToRemove=this.additionalPointsToFetch,this.setIndicatorName(`${this.getIndicatorName()} (${this.period1}, ${this.period2}, ${this.period3})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Ut(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,at.Arithmetic,this.period1,this.period2,this.period3).map(t=>100*t),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Ultimate Oscillator streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},"%R":class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","HIGH","LOW","CLOSE"]:["_DATE_END","HIGH_1","LOW_1","CLOSE_PRC"],1,n),Wt(this,"yAxis",{floor:0,tickPositions:[-100,-80,-60,-40,-20,0]}),Wt(this,"buy",-80),Wt(this,"sell",-20),Wt(this,"period",14),Wt(this,"customTooltipFormatter","float.price"),Wt(this,"a11yDescriptionKey","tooltip%RDescription"),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params)}async process(){const{timeseries:t,splitSeries:e}={...await super.process()},i=Gt(e.high,e.low,e.close,rt.ClosePrice,this.period).map(t=>100*t);let r=[];for(let e=this.numberOfPointsToRemove;e<t.length;e++)r.push({x:t[e].x,y:i[e]});return this.log("Series after calculation",r),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:r,dataGrouping:{enabled:!1},showInLegend:!1}]}getBuyPlotLineId(){return this.getSeriesId()+"Buy"}getSellPlotLineId(){return this.getSeriesId()+"Sell"}setIndicatorParams(t=[]){t[0]?this.period=this.additionalPointsToFetch=this.numberOfPointsToRemove=t[0].value:this.additionalPointsToFetch=this.numberOfPointsToRemove=this.period,this.setIndicatorName(`${this.getIndicatorName()} (${this.period})`),t[1]&&(this.buy=t[1]),t[2]&&(this.sell=t[2]);let e=this.yAxis.tickPositions;e.push(this.buy,this.sell),this.yAxis.tickPositions=Object(E.g)(e),this.yAxis.plotLines=[{id:this.getSellPlotLineId(),value:this.sell,className:"plotline-sell"},{id:this.getBuyPlotLineId(),value:this.buy,className:"plotline-buy"}]}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.high){const t=parseFloat(i._TRDPRC_1),r=super.streamingHandler(e,t),n=Gt(this.pointsForCalculation.high,this.pointsForCalculation.low,this.pointsForCalculation.close,rt.ClosePrice,this.period).map(t=>100*t),s={x:e,y:n[n.length-1]};this.currentStreamingTick=s,this.log("Williams Percent streaming point calculated as",s),a=[{...s,status:r,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}},"S%":class extends it{constructor(t,e,i,r,a,n){super(t,e,i,r,a,"intraday"===i?["TIME","CLOSE"]:["_DATE_END","CLOSE_PRC"],1,n),zt(this,"yAxis",{}),zt(this,"benchmarkRic",{}),zt(this,"customTooltipFormatter","float.percentage.change"),zt(this,"a11yDescriptionKey","tooltipS%Description"),zt(this,"benchmarkPointsForCalculation",{}),this.yAxis=Object(ht.a)(this.baseYAxis,this.yAxis),this.yAxis.id=e.id,this.setIndicatorParams(e.params),this.addToStreamingRics(this.getBenchmarkRic())}async process(){const{splitSeries:t}={...await super.process()},{splitSeries:e}={...await this.getBenchmarkData()},i=Yt(t.x,t.close,e.x,e.close);return this.log("Series after calculation",i),[{colorIndex:this.getColorIndex(),id:this.getSeriesId(),name:this.getIndicatorName(),type:this.chartTypes.line,indicator:this.getIndicatorValue(),indicatorType:this.getIndicatorType(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey,yAxis:this.getAxisId(),data:i,dataGrouping:{enabled:!1},showInLegend:!1}]}async getBenchmarkData(){let t=this.getBenchmarkRic();this.log("Fetch benchmark for "+t);let e={x:[],close:[]};if(this.benchmarkPointsForCalculation={x:[],close:[]},t){const i=this.getRequestURI(t,this.dateRange.fromDate,this.dateRange.toDate,this.periodicity);let r=(await this.fetchTimeseriesData(i)).map(t=>"intraday"===this.restEndPoint?{x:this.formatServerTimestamp(t.TIME),close:parseFloat(t.CLOSE)}:{x:m.a.getUTCTimestamp(t._DATE_END),close:parseFloat(t.CLOSE_PRC)}).sort((t,e)=>t.x-e.x);e=this.splitTimeseriesIntoComponents(r),this.benchmarkPointsForCalculation.close=e.close.slice(0),this.benchmarkPointsForCalculation.x=e.x.slice(0),this.log("Storing benchmark points for streaming calculation",this.benchmarkPointsForCalculation)}return{splitSeries:e}}getBenchmarkRic(){return this.benchmarkRic&&this.benchmarkRic.value?this.benchmarkRic.value:""}setIndicatorParams(t=[]){0!==t.length&&(this.benchmarkRic=t[0].value),this.benchmarkRic&&this.benchmarkRic.value&&this.setIndicatorName(`${this.getIndicatorName()} (${this.benchmarkRic.label})`)}streamingHandler(t,e,i,r){let a=[];if(this.isRicStreaming(t)&&!r&&this.pointsForCalculation.close){const r=parseFloat(i._TRDPRC_1);let n;if(t===this.ric)n=super.streamingHandler(e,r),this.currentStreamingTick={x:e,y:r};else{const t=this.benchmarkPointsForCalculation.close.length-1;e===this.benchmarkPointsForCalculation.x[t]?(this.benchmarkPointsForCalculation.close[t]=r,n="point_updated"):(this.benchmarkPointsForCalculation.close.push(r),this.benchmarkPointsForCalculation.x.push(e),n="point_added")}const s=Yt(this.pointsForCalculation.x,this.pointsForCalculation.close,this.benchmarkPointsForCalculation.x,this.benchmarkPointsForCalculation.close),o={x:s[s.length-1].x,y:s[s.length-1].y};this.log("Spread Percent streaming point calculated as",o),a=[{...o,status:n,seriesId:this.getSeriesId(),customTooltipFormatter:this.customTooltipFormatter,a11yDescriptionKey:this.a11yDescriptionKey}]}return a}}};var oe=t=>{if(se[t])return se[t];throw new Error(`indicator ${t} not found`)},ce={data(){return{indicators:{},indicatorList:["SMA","EMA","ZIZA","ENVELOPE","BOLL","PSAR","VOL","ADL","AR","ARUD","ADX","ATR","CHO","DMI","STOF","HV","MOM","MACD","OBV","RoC","RSI","STOS","UO","%R","S%"],nonConfigurable:["VOL"],movingAverageColorIndex:200,volumeIndicators:["VOL","ADL","CHO","OBV"],additionalParams:{ADL:{averageAccumulationDistributionLine:this.i18n("tooltip.AverageAccumulationDistributionLine")},ARUD:{upSeriesSuffix:this.i18n("tooltip.Up"),downSeriesSuffix:this.i18n("tooltip.Down")},DMI:{positiveSuffix:this.i18n("tooltip.DMIPositive"),negativeSuffix:this.i18n("tooltip.DMINegative")},STOF:{seriesKSuffix:"%K",seriesDSuffix:"%D"},MOM:{averageMomentum:this.i18n("tooltip.AverageMomentum")},MACD:{trigger:this.i18n("tooltip.Trigger"),histogram:this.i18n("tooltip.Histogram")},OBV:{averageOnBalanceVolume:this.i18n("tooltip.AverageOnBalanceVolume")},STOS:{seriesKSuffix:"%K",seriesDSuffix:"%D"}},legendData:[]}},computed:{mainChartIndicatorCount(){return this.indicatorsSelected.filter(t=>"movingAverages"===t.type||"inChartIndicators"===t.type).length}},methods:{handleIndicatorChange(t,e){this.log("Indicators selected changed to",t),this.isLoading=!0;const i=this.widgetUpdateTimestamp,r=e.map(t=>t.id),a=t.filter(t=>-1===r.indexOf(t.id)),n=this.getAdditionalDiagramsSelected(this.indicatorsSelected);this.log("Newly added indicators are",a),this.chartSeries=this.chartSeries.map(t=>({...t,data:this.getDrawnPointsInSeries(t)})),this.removeIndicatorsFromChart(this.indicatorsSelected,!0),this.setMainAxisHeight(n.length),this.updateTopValue(n);let s=!1,o=!1;for(let t=0;t<a.length;t++){const{value:e,id:r}=a[t],c=new(oe(e))(this.ric,a[t],this.restEndPoint,this.dateRange,this.localPeriodicity,this.mainRicFirstTick.x);if(c.setAdditionalParams(this.getAdditionalParams(e)),this.chartSeriesCount+=c.getSeriesCount(),!0===c.isMovingAverage())c.setColorIndex(this.movingAverageColorIndex),this.movingAverageColorIndex=++this.movingAverageColorIndex>203?200:this.movingAverageColorIndex;else if(c.isAdditionalDiagram()){const t=this.getLabelFormatter(e);t&&c.setLabelFormatter(t);const i=this.getAxisTopAndHeight(n,r);let a={...c.getYAxis(),...i};this.yAxis.push(a),this.chartAPI.addAxis(a),s=!0,this.legendData[i.axisIndex-2]=[r],this.volumeIndicators.indexOf(e)>=0&&(o=!0)}this.indicators[r]=c,c.process().then(t=>{if(i!==this.widgetUpdateTimestamp)return;const e=t.map(t=>{let e;return"inChartIndicators"!==t.indicatorType&&"movingAverages"!==t.indicatorType||(e=this.scaling),{...t,compare:e,accessibility:{keyboardNavigation:{enabled:!1}}}});for(let t=0;t<e.length;t++){const i=e[t].data,r={id:e[t].id,name:e[t].name,customTooltipFormatter:e[t].customTooltipFormatter,a11yDescriptionKey:e[t].a11yDescriptionKey};for(let t=0;t<i.length;t++)this.calculatePointA11yDescription(i[t],r,this.restEndPoint);this.chartAPI.addSeries({...e[t]})}this.chartSeries.push(...e);const a=this.legendData.findIndex(t=>t[0]===r);if(a>=0){const e=t.map(({type:t,name:e,colorIndex:i,indicator:r})=>({name:e,type:t,indicator:r,colorIndex:i}));this.legendData[a].push(...e)}this.isAllSeriesDrawn()&&(!0===o&&this.subscribeToStreaming(this.ric,!1),!0===s&&this.drawLegendForAdditionalDiagrams(),this.isLoading=!1)})}this.$nextTick(()=>{this.adjustMaxValueChartPadding(),this.checkAndSetIsLoading()})},removeAllIndicators(){this.removeIndicatorsFromChart([],!1),this.legendData=[],this.setMainAxisHeight(0)},getLabelFormatter(t){switch(t){case"VOL":case"ADL":case"CHO":case"OBV":return function(t){return function(e){return 0===e.value?"0":t.$f(e.value,"float.compact")}}(this);case"ATR":case"DMI":case"MOM":case"MACD":return function(t){return function(e){return t.$f(e.value,"float.price")}}(this);case"AR":case"ARUD":case"ADX":case"STOF":case"HV":case"RoC":case"RSI":case"STOS":case"UO":case"%R":return function(t){return function(e){return t.$f(e.value,"float.percentage")}}(this);case"S%":return function(t){return function(e){return e.value===parseInt(e.value)?t.$f(e.value,"int")+"%":t.$f(e.value,"float.percentage")}}(this)}},setMainAxisHeight(t){if(this.chartAPI){let e="100%";switch(t){case 1:e="57%";break;case 2:e="54%"}this.yAxis=this.yAxis.map(t=>"mainAxis"===t.id?{...t,height:e}:t);const i=this.chartAPI.get("mainAxis");i&&i.update({height:e})}},updateTopValue(t){let e=this.yAxis.splice(0);for(let i in this.indicators)if(this.indicators[i].isAdditionalDiagram()){const r=this.getAxisTopAndHeight(t,i);e=e.map(t=>{if(t.id===i){const e=this.chartAPI.get(t.id);return e&&e.update({...r}),{...t,...r}}return t})}this.yAxis=e.splice(0)},getAxisTopAndHeight(t,e){let i,r,a;return 1===t.length?(i="60%",r="40%",a="2"):(i=t[0].id===e?"57%":"80%",a=t[0].id===e?"2":"3",r="20%"),{top:i,height:r,axisIndex:a}},removeIndicatorsFromChart(t,e){const i=t.map(t=>t.id);let r=!1;for(let t in this.indicators)if(-1===i.indexOf(t)){this.indicators[t].isAdditionalDiagram()&&(r=!0,this.yAxis.forEach(e=>{if(e.id===t){const t=this.chartAPI.get(e.id);t&&t.remove()}}),this.yAxis=this.yAxis.filter(e=>e.id!==t));const i=this.chartSeries.map(e=>e.yAxis===t||e.seriesId===t?e.id:-1);for(let t=0;t<i.length;t++)if(-1!==i[t]){this.clearA11yDescription(i[t]);const e=this.chartAPI.get(i[t]);e&&e.remove()}this.chartSeries=this.chartSeries.filter(e=>e.yAxis!==t&&e.seriesId!==t).map(t=>({...t,data:this.getDrawnPointsInSeries(t)})),!0===e&&(this.chartSeriesCount-=this.indicators[t].getSeriesCount()),!0===this.indicators[t].isMovingAverage()&&(this.movingAverageColorIndex=this.indicators[t].getColorIndex()),this.legendData=this.legendData.filter(e=>e[0]!==t),delete this.indicators[t]}this.updateLegendPositions(),this.$nextTick(()=>{!0===r&&this.drawLegendForAdditionalDiagrams()})},updateLegendPositions(){const t=this.getAdditionalDiagramsSelected(this.indicatorsSelected);if(this.legendData[0]){const e=this.legendData[0][0];t.length>1&&e===t[1].id&&(this.legendData=[void 0,this.legendData[0]])}},drawLegendForAdditionalDiagrams(){if(this.chartAPI){if(null!==this.yAxisLegendLabel1&&(this.yAxisLegendLabel1.destroy(),this.yAxisLegendLabel1=null),null!==this.yAxisLegendLabel2&&(this.yAxisLegendLabel2.destroy(),this.yAxisLegendLabel2=null),this.legendLabels[1]&&(this.legendLabels[1].forEach(t=>t.destroy()),this.legendLabels[1]=[]),this.legendLabels[2]&&(this.legendLabels[2].forEach(t=>t.destroy()),this.legendLabels[2]=[]),this.legendData[0]){const t=this.yAxis.findIndex(t=>t.id===this.legendData[0][0]);this.yAxisLegendLabel1=this.getAdditionalDiagramLegendItem(this.legendData[0],t)}if(this.legendData[1]){const t=this.yAxis.findIndex(t=>t.id===this.legendData[1][0]);this.yAxisLegendLabel2=this.getAdditionalDiagramLegendItem(this.legendData[1],t)}}},getAdditionalDiagramLegendItem(t,e){const i=this.chartAPI.getChart(),r=i.yAxis[e];let a=i.legend.group.translateX+i.legend.padding,n=a,s=r.top;const o=[];let c=i.renderer.g("custom-legend-"+e).attr({zIndex:3}).add();const l=i.plotWidth;for(let e=1;e<t.length;e++){const r=t[e];let u=0,d=r.name,h=-1==this.nonConfigurable.indexOf(r.indicator);e===t.length-1&&h&&(u=20,d+=this.cogIcon);const p=i.renderer.button(d,n+11,s,()=>(this.openIndicatorConfigDialog(t[0],t[1].indicator),!1),null,null,null,null,null,!0).attr({class:"highcharts-legend-item highcharts-custom-legend "+(h?"highcharts-clickable-custom-legend":"")}).add(c);n+11+p.width+u>l&&(s+=p.height,n=a,p.attr({x:n+11,y:s})),i.renderer.rect(n+2,s+i.legend.padding+2,11,11,0).attr({class:`highcharts-color-${r.colorIndex} highcharts-custom-legend-rect`,zIndex:3}).add(c),n+=a+11+p.width,o.push(p)}return this.legendLabels[e]=o,c},async handleStreamingUpdates(t,e,i,r){let a=[];for(let n in this.indicators){const s=this.indicators[n],o=s.streamingHandler(t,e,i,r);if(this.log("Streaming update chart",o),!r&&this.chartAPI){let t=!1,e={};for(let i=0;i<o.length;i++){const r=o[i],{status:a,seriesId:n}=r,c={id:n,customTooltipFormatter:r.customTooltipFormatter,a11yDescriptionKey:r.a11yDescriptionKey};if("point_updated"===a)this.calculatePointA11yDescription(r,c,this.restEndPoint),this.chartAPI.updatePoint(n,r);else if("point_added"===a)this.calculatePointA11yDescription(r,c,this.restEndPoint),this.chartAPI.addPoint(n,r);else if("series_updated"===a){let t;const e=o[i].points.map(t=>({x:t.x,y:t.y}));this.chartSeries=this.chartSeries.filter(e=>{if(e.id!==o[i].seriesId)return e;t=e}).map(t=>({...t,data:this.getDrawnPointsInSeries(t)})),this.clearA11yDescription(n);for(let t=0;t<e.length;t++)this.calculatePointA11yDescription(e[t],c,this.restEndPoint);this.chartSeries.push({...t,data:e}),this.chartAPI.updateSeries(o[i].seriesId,{data:e});continue}this.volumeIndicators.indexOf(s.getIndicatorValue())>=0&&("point_added"===a||"first_tick_time_mismatch"===r.subStatus)&&(e=r,t=!0)}if(!0===t){if(0===a.length){const t=v.a.getRequestURIForTimeSeries(this.ric,this.restEndPoint,{fromDate:this.dateRange.fromDate,toDate:this.dateRange.toDate},this.localPeriodicity,"intraday"===this.restEndPoint?this.intradayFids:this.historicalFids,!1);a=await s.fetchTimeseriesData(t)}const t="first_tick_time_mismatch"!==e.subStatus;s.volumeIntervalChanged(a,t).then(t=>{for(let e=0;e<t.length;e++){const i=t[e];this.log("Updating point ",i," after interval change");const r={id:i.seriesId,customTooltipFormatter:i.customTooltipFormatter,a11yDescriptionKey:i.a11yDescriptionKey};this.calculatePointA11yDescription(i,r,this.restEndPoint),this.$refs.chart.updatePoint(i.seriesId,i)}})}}}},openIndicatorConfigDialog(t,e){e&&-1==this.nonConfigurable.indexOf(e)&&(this.activeIndicator=Object(S.a)(this.indicatorsSelected.find(e=>e.id===t)),"S%"===this.activeIndicator.value&&(this.activeIndicator.params[0].default=Object(S.a)(this.activeIndicator.params[0].value),this.activeIndicator.params[0].options=this.benchmarkSelected.map(t=>({value:t.id,label:t.text}))),this.$refs["settings-modal"].show())},getAdditionalDiagramsSelected:t=>t.filter(t=>"additionalDiagrams"===t.type),getAdditionalParams(t){return this.additionalParams[t]?this.additionalParams[t]:{}},updateIndicatorsOnConfigChange(t,e){const i=t.benchmarkSelected.map(t=>t.id),r=this.indicatorsSelected.findIndex(t=>"S%"===t.value);if(-1!==r){const{params:[e]}=this.indicatorsSelected[r];if(0===Object.keys(e.value).length||-1===i.indexOf(e.value.value)){let e=Object(S.a)(this.indicatorsSelected),i={};0!==t.benchmarkSelected.length&&(i={value:t.benchmarkSelected[0].id,label:t.benchmarkSelected[0].text}),e[r].params[0]={...this.indicatorsSelected[r].params[0],default:i,value:i},e[r].id=(new Date).getTime().toString(),this.commitToStore(`widget/${this.wid}/INDICATORS_SELECTED_CHANGED`,e)}}}}},le=i(270),ue={name:"w-advanced-chart-widget",mixins:[y.a,_.a,F.a,L.a,M.a,k.a,N,ce,U,le.a],components:{VLoader:P.a,VHighcharts:f.z,VModal:f.D,VButton:f.a,VWidgetSingleSelect:b.j},directives:{resize:h.a},props:{wid:{type:String,required:!0},ric:{type:String,required:!0},periodicityOptions:{type:Array,required:!0},baseChartOptions:{type:Object,deep:!0},timeRange:{type:String,required:!1},dateRange:{type:Object,required:!0},periodicity:{type:String,required:!0,default:"D"},indicatorsSelected:{type:Array,default:()=>[]},showTotalReturn:{type:Boolean,default:!1},sigDevSelected:{type:Array,default:()=>[]},sigDevOptions:{type:Array,required:!0},isAutomaticDateChange:{type:Boolean,default:!1},isAutomaticPeriodicityChange:{type:Boolean,default:!1},selectedTheme:{type:String,default:""},viewport:{type:String,default:"large"},tradingHours:{type:Object,required:!1},isRtlLang:{type:Boolean,default:!1},locale:{type:Object,required:!0},customEventsCallback:{type:Function,required:!1}},data(){return{chartWidget:"advancedChart",widgetUpdateTimestamp:null,baseRicDescription:"",baseRicCompanyId:"",isLoading:!1,isError:!1,exitAnchorNeeded:!1,debounceFetchRic:null,debounceFetchSigDev:null,chartSeries:[],chartSeriesCount:0,mainRicFirstTick:{x:0},a11yDescription:{},yAxis:[{crosshair:{snap:!1},id:"mainAxis",maxPadding:.1,startOnTick:!0,endOnTick:!1,showLastLabel:!0,showFirstLabel:!0,opposite:!0,tickPixelInterval:40,tickPositioner:function(t){return function(){if(t.chartAPI&&t.chartAPI.getChart().series){if("logarithmic"===t.scaling)return;{const t=this.min,e=this.max,i=2;let r=this.tickPositions.map(t=>+t.toFixed(i)).filter((t,e,i)=>i.indexOf(t)===e);if(r.length<2)return 0===t&&0===e?[0,1,2]:t>=0?[0,e,2*e]:[2*t,t,0];const a=r[1]-r[0],n=[r[0]];for(;a>0&&n[n.length-1]<e||a<0&&n[n.length-1]>e;){const t=+(n[n.length-1]+a).toFixed(i);n.push(t)}return n}}}}(this),labels:{enabled:!0,align:"right",x:45,y:2,formatter:function(t){return function(){return"percent"===t.scaling?this.value===parseInt(this.value)?t.$f(this.value,"int")+"%":""+t.$f(this.value,"float.percentage"):"logarithmic"===t.scaling?t.$f(this.value,"float.compact"):t.$f(this.value,"float.price")}}(this)},title:{text:null}}],localPeriodicity:void 0,subscriptionIds:{},intradayFids:"TIME,OPEN,HIGH,LOW,CLOSE,VOLUME",historicalFids:"_DATE_END,OPEN_PRC,HIGH_1,LOW_1,CLOSE_PRC,ACVOL_1",sigDevFids:"sigdev.LastUpdate,sigdev.Headline,sigdevd.ParentTopicCode",sigDevSeriesName:"sigDev",benchmarkSeriesHolder:[],yAxisLegendLabel1:null,yAxisLegendLabel2:null,legendLabels:{},activeIndicator:{},cogIcon:'<svg class="cog-icon" stroke="none" fill="#bbb" width="24" height="24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>',chartAPI:null,customMarker:{label:""}}},computed:{chartType(){return this.baseChartOptions.chartType},scaling(){return this.baseChartOptions.scaling},benchmarkSelected(){return this.baseChartOptions.benchmarkSelected},sigDevTitleList(){return this.sigDevOptions.map(t=>t.title)},sigDevClassNameList(){return this.sigDevOptions.map(t=>t.className)},chartOptions(){return{chart:{type:this.chartType,zoomType:"",animation:!1,panning:!1,spacing:[10,55,10,10],reflow:!0,events:{redraw:this.postChartDrawHandler}},legend:{enabled:!0,align:"left",verticalAlign:"top",floating:!0,useHTML:!0,labelFormatter:function(t){return function(){return this.userOptions.indicator?this.name+t.cogIcon:this.name}}(this),symbolHeight:11,symbolWidth:11,symbolRadius:0},series:[],tooltip:{hideDelay:0,useHTML:!0,padding:.6,formatter:function(t){return function(){if(this.points&&"customMarker"!==this.points[0].series.name){let e=[],i="",r=1,a={};const n=new Date(this.x+60*(new Date).getTimezoneOffset()*1e3),s=t.$f(n,"date"),o=t.$f(n,"time");return i="intraday"===t.restEndPoint?`<span class="dateTime">${s} ${o}</span>`:`<span class="dateTime">${s}</span>`,this.points.forEach((function(n,s){const o=`<div class="indicator highcharts-color-${n.series.colorIndex}"></div>`;if(void 0!==n.y)if(n.series&&n.series.userOptions.indicator){const i=n.series.userOptions.yAxis;let c=r;if("additionalDiagrams"===n.series.userOptions.indicatorType&&(c=a[i]?a[i]:s+1,a[i]=c),e[c]||(e[c]=""),"arearange"===n.series.userOptions.type){const i=t.$f(n.point.high,n.series.userOptions.customTooltipFormatter);e[c]+=`<strong>${o}${n.series.name}: ${i}</strong><br/>`;const r=t.$f(n.point.low,n.series.userOptions.customTooltipFormatter);e[c]+=`<strong>${o}${n.series.name}: ${r}</strong><br/>`}else{const i=t.$f(n.y,n.series.userOptions.customTooltipFormatter);t.isRtlLang?e[c]+=`<span class="direction-rtl flex-direction-row">${o}${n.series.name}: <strong>${i}</strong></span><br/>`:e[c]+=`<strong>${o}${n.series.name}: ${i}</strong><br/>`}}else if("candlestick"===t.chartType||"ohlc"===t.chartType){let r=`${o}<strong>${t.baseRicDescription}</strong><br/>`;r+=i,r+=`<br/><span>${t.i18n("tooltip.Open")}: <strong>${t.$f(n.point.open,"float.price")}</strong></span><br/>`,r+=`<span>${t.i18n("tooltip.High")}: <strong>${t.$f(n.point.high,"float.price")}</strong></span><br/>`,r+=`<span>${t.i18n("tooltip.Low")}: <strong>${t.$f(n.point.low,"float.price")}</strong></span><br/>`,r+=`<span>${t.i18n("tooltip.Close")}: <strong>${t.$f(n.point.close,"float.price")}</strong></span><br/>`,e[s+1]=r}else{e[r]||(e[r]="");let i="";"percent"===t.scaling&&n.point&&n.point.change&&(i=`(${t.$f(n.point.change,"float.percentage")})`),e[r]+=`${o}<strong>${t.i18n("tooltip.Price").replace("{RIC}",n.series.userOptions.name).replace("{VALUE}",t.$f(n.y,"float.price")).replace("{PERCENTAGE}",i)}</strong><br/>`}})),"line"!==t.chartType&&"area"!==t.chartType||void 0===e[r]||(e[r]+=i),e}if(this.point&&this.point.series&&this.point.series.name===t.sigDevSeriesName){let t=this.point.tooltip.slice(0,3).map(t=>`<span class="sigdev-tooltip">${t}</span><br />`);return this.point.tooltip.length>3&&t.push('<span class="sigdev-tooltip">...</span>'),`<div>${t.join("")}</div>`}if(this.point&&this.point.series&&"customMarker"===this.point.series.name||this.points&&"customMarker"===this.points[0].series.name){const e=this.points?this.points[0]:this,i=new Date(e.x+60*(new Date).getTimezoneOffset()*1e3),r=t.$f(i,"date");return`<strong><div class="indicator highcharts-color-${e.colorIndex}"></div>\n                ${t.customMarker.label}: ${t.$f(e.y,e.point.series.userOptions.customTooltipFormatter)}</strong><br /><span class="dateTime">${r}</span>`}if(this.point&&this.point.series&&this.point.series.userOptions&&"PSAR"===this.point.series.userOptions.indicator)return`<strong><div class="indicator highcharts-color-${this.point.series.colorIndex}"></div>\n                ${this.point.series.name}: ${t.$f(this.y,this.point.series.userOptions.customTooltipFormatter)}</strong><br />`}}(this)},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{type:"datetime",minTickInterval:5,tickPixelInterval:100,tickLength:0,endOnTick:!1,labels:{enabled:!0,y:20}},yAxis:this.yAxis,plotOptions:{series:{animation:!1,turboThreshold:8e3,events:{legendItemClick:function(t){return function(e){const{seriesId:i,indicator:r}=e.target.userOptions;return t.openIndicatorConfigDialog(i,r),!1}}(this),mouseOut:function(t){const e=t.target.chart.container.querySelector(".highcharts-root");e.classList.contains("highcharts-legend-series-active")&&e.classList.remove("highcharts-legend-series-active")}}},line:{connectNulls:!0,marker:{radius:.1}},area:{connectNulls:!0,marker:{radius:.1}}},defs:{gradient0:{tagName:"linearGradient",id:"gradient-0",x1:0,y1:0,x2:0,y2:1,children:[{tagName:"stop",offset:0},{tagName:"stop",offset:1}]}},accessibility:{enabled:!0,announceNewData:{interruptUser:!1},keyboardNavigation:{enabled:!0,seriesNavigation:{mode:"normal",skipNullPoints:!0,pointNavigationEnabledThreshold:!1}},point:{descriptionFormatter:function(t){return function(e){return e.series&&e.series.name===t.sigDevSeriesName?e.tooltip.map(t=>t+"").join(""):t.a11yDescription[e.x]?`${Object.values(t.a11yDescription[e.x][1]).join(" ")} ${t.a11yDescription[e.x][0]}`:""}}(this)},series:{pointDescriptionEnabledThreshold:!1}},lang:{accessibility:{chartContainerLabel:this.i18n("a11y.chartContainerLabel"),legend:{legendItem:this.i18n("a11y.modifyLegendItem")}},shortMonths:Object.values(this.i18n("labels.shortMonths"))}}},restEndPoint(){return["D","W","M","Q","Y"].includes(this.localPeriodicity)?"historical":"intraday"}},watch:{i18n(t){return this.$t(`${this.wid+"Widget"}.${t}`,this.locale.messages)},baseChartOptions(t,e){if(this.log("Base chart options changed from ",e,"to",t),!this.isWidgetStateValid())return;const i=!Object(I.a)(t.chartType,e.chartType),r=!Object(I.a)(t.scaling,e.scaling),a=!Object(I.a)(t.benchmarkSelected,e.benchmarkSelected);if(this.chartSeries=this.chartAPI.getChart().series.map(t=>t.options),0===this.chartSeries.length)return;this.chartSeriesCount+=t.benchmarkSelected.length-e.benchmarkSelected.length,this.isLoading=!0;let n=!1;if(r&&this.scalingChanged(),i){const t=this.chartSeries.filter(t=>t.id!==this.ric).map(t=>({...t,data:this.getDrawnPointsInSeries(t)})),e=this.chartSeries.filter(t=>t.id===this.ric)[0];this.chartSeries=[],e.type=this.chartType,e.data=this.getDrawnPointsInSeries(e),this.chartSeries.push(e),this.chartSeries.push(...t),this.chartAPI.removeAllSeries(),this.chartSeries.forEach((t,e)=>{this.addChartSeries(t,this.chartSeries.length-1===e)})}a&&(this.benchmarkChanged(),this.updateIndicatorsOnConfigChange(t,e),n=!0),n||(this.isLoading=!1)},sigDevSelected(t,e){this.isWidgetStateValid()&&(e.length&&this.chartSeriesCount--,t.length&&this.chartSeriesCount++,this.debounceFetchSigDev())},ric(){this.baseRicDescription="",this.baseRicCompanyId="",this.debounceFetchRic(!0)},periodicity(){this.periodicity!==this.localPeriodicity&&this.debounceFetchRic()},dateRange(){this.debounceFetchRic(!0)},showTotalReturn(){this.debounceFetchRic()},indicatorsSelected(t,e){this.isWidgetStateValid()&&this.handleIndicatorChange(t,e)},locale(){this.localeChanged(),this.debounceFetchRic()},tradingHours(){this.debounceFetchRic()}},created(){const t=this;this.debounceFetchRic=this._.debounce(t=>{!0===t&&!0===this.isAutomaticPeriodicityChange?this.setBestPeriodicity():this.localPeriodicity=this.periodicity,this.isSelectedRangeToday(this.dateRange.fromDate,this.dateRange.toDate)?this.changeDateIfMarketHasNotOpened().then(t=>t?Promise.resolve():this.fetchAllSeries()).catch(this.fetchAllSeries):this.fetchAllSeries()},10),this.debounceFetchSigDev=this._.debounce(this.fetchSigDev),this.chartOptions.tooltip.positioner=function(e,i,r){return t.positionTooltipIfNeeded(e,i,r)}},mounted(){this.debounceFetchRic(!0)},methods:{onChartReady(t){this.chartAPI=t},positionTooltipIfNeeded(t,e,i){const r=this.chartAPI.getChart(),a=r.plotLeft,n=r.plotTop,s=r.plotWidth,o=r.plotHeight,c=this.getAdditionalDiagramsSelected(this.indicatorsSelected),l="sigDev"===i.series.name&&0===c.length?50:10,u=i.plotX,d=i.plotY;let h,p=u+a+(r.inverted?l:-t-l),g=d-e+n+10,m=!0;if("additionalDiagrams"===i.series.userOptions.indicatorType){let t=0;t=1===c.length||i.series.userOptions.yAxis===c[0].id?.6*o:.8*o,g+=t,m=!1}return p<7&&(p=a+Math.max(u,0)+l),p+t>a+s&&(p-=p+t-(a+s),m&&(g=d-e+n-l),h=!0),m&&(g<n+5&&(g=n+5,h&&d>=g&&d<=g+e&&(g=d+n+l)),g+e>n+o&&(g=Math.max(n,n+o-e-l))),{x:p,y:g}},i18n(t){return this.$t(`${this.wid+"Widget"}.${t}`,this.locale.messages)},fetchAllSeries(){return this.widgetUpdateTimestamp=(new Date).getTime(),this.chartSeriesCount=1+this.benchmarkSelected.length+(this.sigDevSelected.length>0?1:0),this.fetchRic().then(this.fetchAllBenchMarks).then(this.fetchAllIndicators).then(()=>{if(this.chartAPI){const t=this.isRtlLang?"align-right":"align-left";this.chartAPI.getChart().tooltip.update({className:t})}}).catch(t=>{if("Less data"===t)return null;"No data"===t&&(this.isLoading=!1,this.isError="nodata",this.chartAPI=null)})},fetchRic(){return this.chartAPI&&this.chartAPI.removeAllSeries(),this.isError=!1,this.isLoading=!0,this.exitAnchorNeeded=!1,this.chartSeries=[],this.lastUpdateDate="",this.benchmarkSeriesHolder=[],this.removeAllIndicators(),this.a11yDescription={},this.unsubscribeAllStreams(),this.fetchRicDescriptionIfNotPresent(this.ric).then(()=>this.getTimeSeriesData(this.ric)).then(t=>{if(0===t.length)throw"No data";return t}).then(t=>this.processMainRic(t)).then(()=>this.subscribeToStreaming(this.ric,!0)).then(this.fetchSigDev).then(this.fetchCustomMarkers).catch(t=>{if("Less data"===t||"No data"===t)throw t;this.isLoading=!1,this.isError="error",this.chartAPI=null,console.error(`[${this.wid}] – Time Series Error.`,t)})},addChartSeries(t,e){this.chartAPI.addSeries(t,e)},fetchCustomMarkers(){if("function"==typeof this.customEventsCallback){this.isLoading=!0,this.chartSeries=this.chartAPI.getChart().series.map(t=>t.options);const t=this.dateRange.fromDate,e=this.dateRange.toDate,i=t.getTime(),r=e.getTime(),a=this.periodicity,n=this.ric,s=this.chartAPI.getChart().series[0]?this.chartAPI.getChart().series[0].data:{},o=this.customEventsCallback(i,r,a,n,s),c=[];o&&0!==o.length&&o.forEach(t=>{this.customMarker.label=t.label||"",c.push({x:t.timestamp,y:t.price,colorIndex:t.colorIndex})}),0!==c.length&&(this.processCustomMarkers(c),this.chartAPI.removeAllSeries(),this.chartSeries.forEach((t,e)=>{this.addChartSeries(t,this.chartSeries.length-1===e)})),this.checkAndSetIsLoading()}return Promise.resolve()},processCustomMarkers(t){const e=this.chartSeries.filter(t=>"customMarker"!==t.id).map(t=>({...t,data:this.getDrawnPointsInSeries(t)}));this.chartSeries=[];const i={id:"customMarker",name:"customMarker",data:t,type:"scatter",showInLegend:!1,visible:!0,lineWidth:0,customTooltipFormatter:"float.price",compare:"percent"===this.scaling?this.scaling:null,marker:{symbol:"circle",enabled:!0,lineWidth:2,radius:5},states:{inactive:{opacity:1}}};this.chartSeries.push(...e),this.chartSeries.push(i),this.chartSeriesCount++,this.checkAndSetIsLoading()},fetchRicDescriptionIfNotPresent(){return this.baseRicDescription?Promise.resolve():this.fetchRicDescription(this.ric).then(t=>{t&&t.length>0?(this.baseRicDescription=t[0].text,this.baseRicCompanyId=t[0].companyId):(this.baseRicDescription="",this.baseRicCompanyId="")}).catch(t=>{console.error(`[${this.wid}] – Ric Description fetch error.`,t)})},fetchAllIndicators(){this.handleIndicatorChange(this.indicatorsSelected,[])},fetchAllBenchMarks(){for(let t=0;t<this.benchmarkSelected.length;t++)this.fetchBenchmark(this.benchmarkSelected[t].id)},fetchBenchmark(t){this.log("Fetching benchmark for ric "+t),this.currentStreamingTick[t]={};const e=this.widgetUpdateTimestamp;return this.getTimeSeriesData(t).then(i=>{e===this.widgetUpdateTimestamp&&this.processBenchmark(i,t)}).then(()=>this.subscribeToStreaming(t,!1)).catch(t=>{console.error(`[${this.wid}] – Benchmark time Series Error.`,t),this.checkAndSetIsLoading()})},getTimeSeriesData(t){let e=v.a.getRequestURIForTimeSeries(t,this.restEndPoint,this.dateRange,this.localPeriodicity,"intraday"===this.restEndPoint?this.intradayFids:this.historicalFids,this.showTotalReturn);return this.log(`Requesting data for ric ${t} from ${e}`),j.a.Rest.get(e).then(i=>{if(this.log(`Respone data for ric ${t} `,i),Object(E.d)(i,this.dateRange.fromDate,this.dateRange.toDate)){if(!i.data.substatus||"NotReady"!==i.data.substatus&&"Stale"!==i.data.substatus||this.fetchFreshData(e,i.data.substatus).then(e=>{t===this.ric?this.processMainRic(e.data.data,t):this.processBenchmark(e.data.data,t),this.subscribeToStreaming(t,t===this.ric)}),this.isSelectedRangeToday(this.dateRange.fromDate,this.dateRange.toDate)&&t===this.ric){const t=60/this.periodicity;if(i.data.data.length<t){const t=this.periodicityOptions.findIndex(t=>t.value===this.periodicity);if(t)throw this.commitToStore(`widget/${this.wid}/PERIODICITY_CHANGED`,{periodicity:this.periodicityOptions[t-1].value,isAutomaticPeriodicityChange:!0}),"Less data"}}return i.data.data}return null}).catch(e=>{if("Less data"===e)throw e;return console.error(`[${this.wid}] – Request error response from server.`,e),t===this.ric?(this.isLoading=!1,this.isError="error",this.chartAPI=null,this.unsubscribeAllStreams()):(this.chartSeriesCount--,this.checkAndSetIsLoading()),null})},processMainRic(t){if(t){if("intraday"===this.restEndPoint&&this.tradingHours&&this.tradingHours.timeZone)try{t=t.filter(t=>this.isWithInTradingHours(t.TIME,this.tradingHours))}catch(t){console.log("Error in trading hours: "+t)}const e=this.processTimeSeriesPrice(t,this.ric,this.baseRicDescription),i=[{id:this.ric,name:this.baseRicDescription,data:Object(E.b)(e),type:this.chartType,compare:"percent"===this.scaling?this.scaling:"none",dataGrouping:{enabled:!1},colorIndex:0,threshold:null}];this.log(`Chart data added for ric ${this.ric}: `,i),this.addChartSeries(...i);for(let t=0;t<this.benchmarkSeriesHolder.length;t++)this.addChartSeries(...this.benchmarkSeriesHolder[t]);this.benchmarkSeriesHolder=[],this.$nextTick(()=>{this.adjustMaxValueChartPadding(),this.checkAndSetIsLoading()})}},processBenchmark(t,e){if(t){const i=this.benchmarkSelected.findIndex(t=>t.id===e),r=this.benchmarkSelected[i].text,a=this.processTimeSeriesPrice(t,e,r),n=[{id:e,name:r,data:Object(E.b)(a),compare:this.scaling,type:"line",dataGrouping:{enabled:!1},colorIndex:i+2,accessibility:{keyboardNavigation:{enabled:!1}}}];this.log(`Chart data added for ric ${e}: `,n),this.chartAPI.getChart().series.length>0?this.addChartSeries(...n):this.benchmarkSeriesHolder.push(n),this.isAllSeriesDrawn()&&(this.adjustMaxValueChartPadding(),this.drawLegendForAdditionalDiagrams(),this.checkAndSetIsLoading())}},processTimeSeriesPrice(t,e,i){let r={x:0},a={x:Math.pow(10,1e3)};const n={id:e,name:i,isBaseRic:this.ric===e,chartType:this.chartType},s=t.map(t=>{const e=this.processTimeSeriesItem(t,this.restEndPoint,this.localPeriodicity);return this.calculatePointA11yDescription(e,n,this.restEndPoint),e.x>r.x&&(r=e),e.x<a.x&&(a=e),e});return this.currentStreamingTick[e]={...r},e===this.ric&&(this.mainRicFirstTick={...a}),this.log(`Current streaming tick updated for ${e} to`,r),s},fetchSigDev(){if(this.isLoading=!0,this.chartSeries=this.chartAPI.getChart().series.map(t=>t.options),this.baseRicCompanyId&&this.sigDevSelected.length>0){this.log("Fetching significant developments");const t=this.sigDevSelected.map(t=>t.value),e=this.getSigDevRequestUri(t);return this.log("Fetching data for request "+e),this.updateYAxisConfig("mainAxis",{minPadding:.1}),j.a.Rest.get(e).then(e=>{this.log("Significant developments response",e),e.data&&e.data.data?this.processSigDev(e.data.data,t):(this.chartSeriesCount--,this.checkAndSetIsLoading()),this.chartAPI.removeAllSeries(),this.chartSeries.forEach((t,e)=>{this.addChartSeries(t,this.chartSeries.length-1===e)}),this.checkAndSetIsLoading()}).catch(t=>{console.error(`[${this.wid}] – Sigdev error.`,t),this.chartSeriesCount--,this.checkAndSetIsLoading()})}return this.chartSeries=this.chartSeries.filter(t=>t.name!==this.sigDevSeriesName).map(t=>({...t,data:this.getDrawnPointsInSeries(t)})),this.updateYAxisConfig("mainAxis",{minPadding:.05}),this.chartAPI.removeAllSeries(),this.chartSeries.forEach((t,e)=>{this.addChartSeries(t,this.chartSeries.length-1===e)}),this.checkAndSetIsLoading(),Promise.resolve()},processSigDev(t,e){if(t){e[0];const i="intraday"===this.restEndPoint,r=t.map(t=>({x:this.getSigDevNormalizedTime(t["sigdev.LastUpdate"],this.localPeriodicity,i),type:t["sigdevd.ParentTopicCode"],title:this.sigDevTitleList[t["sigdevd.ParentTopicCode"]],className:this.sigDevClassNameList[t["sigdevd.ParentTopicCode"]],tooltip:this.i18n("tooltip.SigDev").replace("{DATE}",this.$f(t["sigdev.LastUpdate"],"date")).replace("{HEADLINE}",t["sigdev.Headline"]),text:""}));this.log("Filtered significant developments ",r);const a=this.getIntervalSizeFactorForSigDev(this.getChartWidth(),r.length),n=function(t,e){return Object(C.a)(2,arguments),Object(w.a)(t).getTime()-Object(w.a)(e).getTime()}(this.dateRange.toDate,this.dateRange.fromDate),s=60*this.periodicityOptions.find(t=>t.value===this.localPeriodicity).minutes*1e3,o=Math.round(n/s*a),c=i?Object(R.b)(this.dateRange.fromDate):m.a.getUTCTimestamp(this.dateRange.fromDate);this.log(`Significant developments group interval calculated to ${o} using size factor ${a}`);const l=this.collectSigDevIntoGroups(r,c,a);this.log("Grouped points array",l);const u=this.getSigDevPointsFromGroup(l,c,a);this.log("Grouped points to be displayed in chart",u);const d=this.chartSeries.filter(t=>t.id!==this.sigDevSeriesName).map(t=>({...t,data:this.getDrawnPointsInSeries(t)}));this.chartSeries=[];const h={type:"flags",clip:!1,data:u,shape:"circlepin",showInLegend:!1,id:this.sigDevSeriesName,name:this.sigDevSeriesName};this.chartSeries.push(...d),this.chartSeries.push(h),this.checkAndSetIsLoading()}},checkAndSetIsLoading(){this.isAllSeriesDrawn()&&(this.isLoading=!1)},isAllSeriesDrawn(){let t=[];return this.chartAPI&&(t=this.chartAPI.getChart().series),this.chartSeriesCount===t.length||this.isError},postChartDrawHandler(t){const e=this.getChartSeriesById(this.sigDevSeriesName);e&&e.points.forEach((function(t){t.graphic&&t.graphic.attr({class:"highcharts-label highcharts-point "+t.className})})),t&&t.target&&t.target.a11yProxyContainer&&t.target.a11yProxyContainer.children&&t.target.a11yProxyContainer.children.length&&(t.target.a11yProxyContainer.children[0].ariaHidden="true",t.target.a11yProxyContainer.children[0].ariaLabel="",t.target.a11yProxyContainer.children[0].tabIndex=-1)},changeDateIfMarketHasNotOpened(){return j.a.Rest.get(`/quote/info?rics=${this.ric}&fids=q._TRADE_DATE,q._HSTCLSDATE`).then(t=>{if(t&&t.data&&0!==t.data.data.length){const e=t.data.data[0];if("-"===e["q._TRADE_DATE"])return!1;let i=null;return"1D"===this.timeRange?i=new Date(""+e["q._TRADE_DATE"]):"2D"===this.timeRange&&(i=new Date(""+e["q._HSTCLSDATE"])),!(!i||i.toDateString()===this.dateRange.fromDate.toDateString())&&(this.commitToStore(`widget/${this.wid}/INTERVAL_CHANGED`,{timeRange:this.timeRange,dateRange:{fromDate:i,toDate:this.dateRange.toDate},isAutomaticDateChange:!0}),!0)}})},onResize(){this.chartAPI&&(this.chartAPI.reflow(),this.adjustMaxValueChartPadding(),this.$nextTick(()=>{this.drawLegendForAdditionalDiagrams()}))},getStreamingFIDs(t){let e=["_TRDTIM_1","_TRDPRC_1","_TRADE_DATE"];return t&&e.push("ACVOL_1"),e},subscribeToStreaming(t,e=!1){const i=t===this.ric;(Object(E.e)(this.dateRange.toDate)||this.isAutomaticDateChange&&i)&&(this.log("Subscribing to streaming for ric "+t),this.streamingUnsubscribe(this.subscriptionIds[t]).then(()=>{this.streamingSubscribe({rics:[t],fids:this.getStreamingFIDs(i)},this.handleSubscription,this.handleSnapShot,this.handleUpdate,"default",e).then(e=>{this.log(`Streaming subscribed for ric ${t} with id ${e}`),this.subscriptionIds[t]=e,this.exitAnchorNeeded=!0})}))},adjustMaxValueChartPadding(){const t=this.getChartWidth(),e=this.getTotalNumberOfLegendItems();let i=.1;t<400?e>4&&(i=.2):t<550&&e>3&&(i=.2),this.log("Main Y Axis padding changed to "+i),this.updateYAxisConfig("mainAxis",{maxPadding:i})},getTotalNumberOfLegendItems(){return 1+this.benchmarkSelected.length+this.mainChartIndicatorCount},handleSubscription(t,e){this.log("Subscription Response:",t,"Error:",e),e&&console.error("error",e)},handleSnapShot(t,e){this.log("Snapshot received",t,"Error:",e),e?console.error(e):this.handleUpdate(t,e,!0)},handleUpdate(t,e,i){this.log("Update received",t,"Error:",e);const r=t.payload;if(this.chartAPI&&r&&r[0]&&r[0].data){const{data:t,ric:e}={...r[0]};if(this.log("Updated received for ric: ",e),!t._TRDTIM_1)return;const a=this.ric===e;a&&t._TRADE_DATE&&(this.lastUpdateDate=t._TRADE_DATE);const n=this.getTimeStampFromStreamingData(t._TRDTIM_1,this.restEndPoint,this.localPeriodicity);if(e===this.ric&&!0===this.isAutomaticDateChange&&!i){const t=this.lastUpdateDate?new Date(this.lastUpdateDate):new Date(Date.now());if(this.dateRange.fromDate.getDate()!==t.getDate())return this.log("Market opened. Redrawing the chart"),void this.commitToStore(`widget/${this.wid}/INTERVAL_CHANGED`,{timeRange:"1D",dateRange:{fromDate:t,toDate:this.dateRange.toDate},isAutomaticDateChange:!1})}if(this.currentStreamingTick[e]&&new Date(n).getUTCDate()===new Date(this.currentStreamingTick[e].x).getUTCDate()){if(!0!==i){const i={x:n,y:parseFloat(t._TRDPRC_1)},r=a?this.chartType:"line";let s=this.handlePriceTick(e,i,this.localPeriodicity);const o=a?this.baseRicDescription:this.getBenchmarkName(e);if(this.calculatePointA11yDescription(this.currentStreamingTick[e],{id:e,name:o,isBaseRic:a,chartType:this.chartType},this.restEndPoint),"day_changed"===s)return void this.debounceFetchRic();"point_added"===s&&this.updateLastTicks(e,this.restEndPoint,this.localPeriodicity,this.dateRange.fromDate,this.dateRange.toDate,r,!1)}this.handleStreamingUpdates(e,n,t,i)}this.chartAPI.reflow()}},getDrawnPointsInSeries(t){if(this.chartAPI){let e=this.chartAPI.getValidPoints(t.id);if("VOL"===t.indicator||"customMarker"===t.id)return e.map(t=>({x:t.x,y:t.y,colorIndex:t.colorIndex}));switch(t.type){case"candlestick":case"ohlc":case"line":case"area":return e.map(t=>({x:t.x,open:t.open,high:t.high,low:t.low,close:t.close,y:t.y}));case"column":case"scatter":return e.map(t=>({x:t.x,y:t.y}));case"arearange":return e.map(t=>({x:t.x,low:t.low,high:t.high}));case"flags":return 0===e.length?t.data:e.map(t=>({x:t.x,type:t.type,title:t.title,className:t.className,tooltip:t.tooltip,text:""}))}}},unsubscribeAllStreams(){this.log("Removing subscription for all rics in chart"),this.currentStreamingTick={},this.subscriptionIds={},this.unsubscribeAllQuoteStreams("default")},removeStaleSubscriptions(){const t=this.benchmarkSelected.map(t=>t.id),e=Object.keys(this.subscriptionIds).filter(e=>!t.includes(e)&&e!==this.ric);for(let t=0;t<e.length;t++){let i=e[t];this.clearA11yDescription(i),this.log("Unsubscribing streaming for stale subscription "+i),this.streamingUnsubscribe(this.subscriptionIds[i],"default"),delete this.subscriptionIds[i],delete this.currentStreamingTick[i]}},scalingChanged(){this.chartAPI&&("percent"===this.scaling?(this.log("Update compare to "+this.scaling),this.chartAPI.updateYAxis(this.ric,{type:"linear"}),this.chartAPI.setCompare(0,this.scaling)):(this.log("Update y axis type to "+this.scaling),this.chartAPI.setCompare(0,"none"),this.chartAPI.updateYAxis(this.ric,{type:this.scaling})),this.chartAPI.updateSeries(this.ric,{compare:"percent"===this.scaling?this.scaling:null}),this.chartSeries=this.chartAPI.getChart().series.map(t=>t.options),this.chartSeries.forEach(t=>{if(t.id!==this.ric||t.id===this.sigDevSeriesName||"customMarker"===t.id){let e;"inChartIndicators"!==t.indicatorType&&"movingAverages"!==t.indicatorType&&"customMarker"!==t.id||(e="percent"===this.scaling?this.scaling:null),this.chartAPI.updateSeries(t.id,{compare:e})}}),"logarithmic"===this.scaling?this.setEndOnTickFlag(!0):this.setEndOnTickFlag(!1))},setEndOnTickFlag(t){this.chartAPI.getChart().options.yAxis.forEach(e=>{"mainAxis"===e.id&&(e.endOnTick=t)})},benchmarkChanged(){this.isLoading=!0,this.chartSeries=this.chartAPI.getChart().series.map(t=>t.options);const t=this.chartSeries.filter(t=>this.indicatorList.indexOf(t.indicator)>=0||t.id===this.sigDevSeriesName||"customMarker"===t.id).map(t=>({...t,data:this.getDrawnPointsInSeries(t)})),e=this.chartSeries.filter(t=>t.id!==this.ric),i=this.chartSeries.filter(t=>t.id===this.ric)[0];this.chartSeries=[];const r=[];i.compare=this.scaling,i.type=this.chartType,i.data=this.getDrawnPointsInSeries(i),this.chartSeries.push(i),this.chartSeries.push(...t);for(let t=0;t<this.benchmarkSelected.length;t++){const i=this.benchmarkSelected[t].id,a=e.find(t=>t.id===i);a?(a.colorIndex=t+2,a.data=this.getDrawnPointsInSeries(a),r.push(a),this.log(`Benchmark already present for ric ${i}: `,a)):this.fetchBenchmark(i)}this.$nextTick(()=>{r.length>0&&this.chartSeries.push(...r),this.chartAPI.removeAllSeries(),this.chartSeries.forEach((t,e)=>{this.addChartSeries(t,this.chartSeries.length-1===e)}),this.checkAndSetIsLoading(),this.adjustMaxValueChartPadding()}),this.removeStaleSubscriptions()},getChartSeriesById(t){if(this.chartAPI)return this.chartAPI.get(t)},getChartWidth(){return this.chartAPI?this.chartAPI.getChartWidth():0},updateYAxisConfig(t,e){this.chartAPI&&this.chartAPI.getChart().yAxis[0].update(t,e)},getSigDevRequestUri(t){let e=`/company/sigdev?repnos=${this.baseRicCompanyId}&fids=${this.sigDevFids}`;return e+="&fromDate="+Object(x.a)(this.dateRange.fromDate,"yyyy-MM-dd"),e+="&toDate="+Object(x.a)(this.dateRange.toDate,"yyyy-MM-dd"),"0"!==t[0]&&(e+="&parentTopicCodes="+t.join(",")),e},calculateBestPeriodicity(){let t=this.getChartWidth();if(t=t||this.$refs.wAdvancedChartWidget.clientWidth,t){this.log("Calculating new periodicity");const e="candlestick"===this.chartType||"ohlc"===this.chartType?1.5:.5;return this.calculatePeriodicity(t,e,this.dateRange,this.periodicityOptions)}},setBestPeriodicity(){const t=this.calculateBestPeriodicity();t&&(this.localPeriodicity=t.value,this.commitToStore(`widget/${this.wid}/PERIODICITY_CHANGED`,{periodicity:t.value,isAutomaticPeriodicityChange:!0}))},getBenchmarkName(t){return this.benchmarkSelected.find(e=>e.id===t).text},resetIndicatorParams(){this.activeIndicator.params.forEach(t=>t.value=t.default)},updateIndicatorParams(t){t.preventDefault();const e=this.indicatorsSelected.findIndex(t=>t.id===this.activeIndicator.id);let i=Object(S.a)(this.indicatorsSelected);i[e].params=[...this.activeIndicator.params],i[e].id=(new Date).getTime().toString(),this.closeSettingsModal(),this.commitToStore(`widget/${this.wid}/INDICATORS_SELECTED_CHANGED`,i)},closeSettingsModal(){this.$refs["settings-modal"].hide(),this.activeIndicator={}},indicatorSelectChanged(t,e){this.activeIndicator.params[e].value=t,this.activeIndicator.params=[...this.activeIndicator.params]},commitToStore(t,e){this.log("Store updated",t,e),this.$store.commit(t,e)},isWidgetStateValid(){return!this.isError}}},de=Object(A.a)(ue,T,[],!1,null,null,null).exports,he=i(70),pe=i(139),ge=i(86),me={name:"w-advanced-chart-wrapper",components:{WControlBar:O,WBody:de},mixins:[pe.a],directives:{WidgetBreakpointDirective:he.a,resize:h.a},data(){return{selectedTheme:this.theme,observer:null,isChartReady:!0,viewport:"large",orientation:""}},props:{wid:{type:String,required:!0},theme:{type:String,required:!0,default:"refinitiv-light"},breakpoints:{type:Object,default:()=>({xs:320,sm:460,md:576,lg:768,xl:992})},inputParser:{type:Object,required:!0}},computed:{ric(){return this.$store.state.widget[this.wid].ric},baseChartOptions(){return this.$store.state.widget[this.wid].baseChartOptions},timeRange(){return this.$store.state.widget[this.wid].timeRange},dateRange(){return this.$store.state.widget[this.wid].dateRange},periodicity(){return this.$store.state.widget[this.wid].periodicity},indicatorsSelected(){return this.$store.state.widget[this.wid].indicatorsSelected},showTotalReturn(){return this.$store.state.widget[this.wid].showTotalReturn},sigDevSelected(){return this.$store.state.widget[this.wid].sigDevSelected},isAutomaticDateChange(){return this.$store.state.widget[this.wid].isAutomaticDateChange},isAutomaticPeriodicityChange(){return this.$store.state.widget[this.wid].isAutomaticPeriodicityChange},availableIndicators(){return this.$store.state.widget[this.wid].availableIndicators},chartTypeOptions(){return[{value:"line",label:this.i18n("controls.chartType.line")},{value:"area",label:this.i18n("controls.chartType.area")},{value:"candlestick",label:this.i18n("controls.chartType.candlestick")},{value:"ohlc",label:this.i18n("controls.chartType.ohlc")}]},timeRangeOptions(){return[{value:"1D",label:this.i18n("controls.timeRange.1D")},{value:"1W",label:this.i18n("controls.timeRange.1W")},{value:"2W",label:this.i18n("controls.timeRange.2W")},{value:"1M",label:this.i18n("controls.timeRange.1M")},{value:"3M",label:this.i18n("controls.timeRange.3M")},{value:"6M",label:this.i18n("controls.timeRange.6M")},{value:"1Y",label:this.i18n("controls.timeRange.1Y")},{value:"2Y",label:this.i18n("controls.timeRange.2Y")},{value:"5Y",label:this.i18n("controls.timeRange.5Y")},{value:"20Y",label:this.i18n("controls.timeRange.20Y")},{value:"YTD",label:this.i18n("controls.timeRange.YTD")}]},periodicityOptions(){return[{value:"1",label:this.i18n("controls.periodicity.1"),minutes:1},{value:"5",label:this.i18n("controls.periodicity.5"),minutes:5},{value:"15",label:this.i18n("controls.periodicity.15"),minutes:15},{value:"60",label:this.i18n("controls.periodicity.60"),minutes:60},{value:"D",label:this.i18n("controls.periodicity.D"),minutes:480},{value:"W",label:this.i18n("controls.periodicity.W"),minutes:2400},{value:"M",label:this.i18n("controls.periodicity.M"),minutes:10285}]},scalingOptions(){return[{value:"linear",label:this.i18n("controls.scaling.linear")},{value:"percent",label:this.i18n("controls.scaling.percent")},{value:"logarithmic",label:this.i18n("controls.scaling.logarithmic")}]},sigDevOptions(){return[{value:"0",label:this.i18n("controls.significantDevelopments.events.all"),className:"all",title:"-"},{value:"1",label:this.i18n("controls.significantDevelopments.events.corporateDeals"),className:"corporateDeals",title:"D"},{value:"2",label:this.i18n("controls.significantDevelopments.events.newMarkets"),className:"newMarkets",title:"N"},{value:"3",label:this.i18n("controls.significantDevelopments.events.generalProducts"),className:"generalProducts",title:"G"},{value:"4",label:this.i18n("controls.significantDevelopments.events.ownership"),className:"ownership",title:"O"},{value:"5",label:this.i18n("controls.significantDevelopments.events.financing"),className:"financing",title:"F"},{value:"6",label:this.i18n("controls.significantDevelopments.events.litigation"),className:"litigation",title:"L"},{value:"7",label:this.i18n("controls.significantDevelopments.events.accountingIssues"),className:"accountingIssues",title:"A"},{value:"8",label:this.i18n("controls.significantDevelopments.events.restructuring"),className:"restructuring",title:"R"},{value:"9",label:this.i18n("controls.significantDevelopments.events.earningsPreAnnouncement"),className:"earningsPreAnnouncement",title:"E"},{value:"10",label:this.i18n("controls.significantDevelopments.events.performance"),className:"performance",title:"P"},{value:"11",label:this.i18n("controls.significantDevelopments.events.changes"),className:"changes",title:"C"},{value:"12",label:this.i18n("controls.significantDevelopments.events.specialEvents"),className:"specialEvents",title:"S"}]},indicatorOptions(){return[{value:"SMA",label:this.i18n("controls.indicators.movingAverages.SMA"),labelOriginal:this.i18n("controls.indicators.movingAverages.SMA"),type:"movingAverages",params:[{label:this.i18n("controls.indicators.params.period"),value:38}]},{value:"EMA",label:this.i18n("controls.indicators.movingAverages.EMA"),labelOriginal:this.i18n("controls.indicators.movingAverages.EMA"),type:"movingAverages",params:[{label:this.i18n("controls.indicators.params.period"),value:38}]},{value:"ZIZA",label:this.i18n("controls.indicators.inChartIndicators.ZIZA"),labelOriginal:this.i18n("controls.indicators.inChartIndicators.ZIZA"),type:"inChartIndicators",params:[{label:this.i18n("controls.indicators.params.period"),value:8}]},{value:"ENVELOPE",label:this.i18n("controls.indicators.inChartIndicators.ENVELOPE"),labelOriginal:this.i18n("controls.indicators.inChartIndicators.ENVELOPE"),type:"inChartIndicators",params:[{label:this.i18n("controls.indicators.params.period"),value:20},{label:this.i18n("controls.indicators.params.variance"),value:6}]},{value:"BOLL",label:this.i18n("controls.indicators.inChartIndicators.BOLL"),labelOriginal:this.i18n("controls.indicators.inChartIndicators.BOLL"),type:"inChartIndicators",params:[{label:this.i18n("controls.indicators.params.period"),value:20},{label:this.i18n("controls.indicators.params.standardDeviation"),value:2}]},{value:"PSAR",label:this.i18n("controls.indicators.inChartIndicators.PSAR"),labelOriginal:this.i18n("controls.indicators.inChartIndicators.PSAR"),type:"inChartIndicators",params:[{label:this.i18n("controls.indicators.params.accelerationFactor"),value:.02},{label:this.i18n("controls.indicators.params.maxValue"),value:.2}]},{value:"VOL",label:this.i18n("controls.indicators.additionalDiagrams.VOL"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.VOL"),type:"additionalDiagrams",params:[]},{value:"ADL",label:this.i18n("controls.indicators.additionalDiagrams.ADL"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.ADL"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period"),value:38}]},{value:"AR",label:this.i18n("controls.indicators.additionalDiagrams.AR"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.AR"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period"),value:25}]},{value:"ARUD",label:this.i18n("controls.indicators.additionalDiagrams.ARUD"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.ARUD"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period"),value:25}]},{value:"ADX",label:this.i18n("controls.indicators.additionalDiagrams.ADX"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.ADX"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.ADI"),value:14}]},{value:"ATR",label:this.i18n("controls.indicators.additionalDiagrams.ATR"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.ATR"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.ATR"),value:14}]},{value:"CHO",label:this.i18n("controls.indicators.additionalDiagrams.CHO"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.CHO"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.fastPeriod"),value:3},{label:this.i18n("controls.indicators.params.slowPeriod"),value:10}]},{value:"DMI",label:this.i18n("controls.indicators.additionalDiagrams.DMI"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.DMI"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.ADX"),value:14}]},{value:"STOF",label:this.i18n("controls.indicators.additionalDiagrams.STOF"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.STOF"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period%K"),value:14},{label:this.i18n("controls.indicators.params.period%D"),value:3}]},{value:"HV",label:this.i18n("controls.indicators.additionalDiagrams.HV"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.HV"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period")+" 1",value:10},{label:this.i18n("controls.indicators.params.period")+" 2",value:100}]},{value:"MOM",label:this.i18n("controls.indicators.additionalDiagrams.MOM"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.MOM"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period"),value:28}]},{value:"MACD",label:this.i18n("controls.indicators.additionalDiagrams.MACD"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.MACD"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.fastMA"),value:12},{label:this.i18n("controls.indicators.params.slowMA"),value:26},{label:this.i18n("controls.indicators.params.trigger"),value:9}]},{value:"OBV",label:this.i18n("controls.indicators.additionalDiagrams.OBV"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.OBV"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.OBV"),value:38}]},{value:"RoC",label:this.i18n("controls.indicators.additionalDiagrams.RoC"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.RoC"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.ROC"),value:12}]},{value:"RSI",label:this.i18n("controls.indicators.additionalDiagrams.RSI"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.RSI"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period"),value:14}]},{value:"STOS",label:this.i18n("controls.indicators.additionalDiagrams.STOS"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.STOS"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period%K"),value:14},{label:this.i18n("controls.indicators.params.period%D"),value:3},{label:this.i18n("controls.indicators.params.period"),value:5}]},{value:"UO",label:this.i18n("controls.indicators.additionalDiagrams.UO"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.UO"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period")+" 1",value:7},{label:this.i18n("controls.indicators.params.period")+" 2",value:14},{label:this.i18n("controls.indicators.params.period")+" 3",value:28}]},{value:"%R",label:this.i18n("controls.indicators.additionalDiagrams.%R"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.%R"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.period"),value:14}]},{value:"S%",label:this.i18n("controls.indicators.additionalDiagrams.S%"),labelOriginal:this.i18n("controls.indicators.additionalDiagrams.S%"),type:"additionalDiagrams",params:[{label:this.i18n("controls.indicators.params.benchmarks"),value:{}}]}].filter(t=>-1!==this.availableIndicators.indexOf(t.value))},tradingHours(){return this.$store.state.widget[this.wid].tradingHours},isRtlLang(){return Object(ge.a)(this.locale.messages)},locale(){return this.$store.state.widget[this.wid].locale},customEventsCallback(){return this.$store.state.widget[this.wid].customEventsCallback}},methods:{i18n(t){return this.$t(`${this.wid+"Widget"}.${t}`,this.locale.messages)},onClassChange(t){const e=t.split(" ");this.selectedTheme=e.filter(t=>t.includes(this.theme))[0]},onWindowResize(){let{innerWidth:t,innerHeight:e}=window;const i=this.$el.offsetWidth;i<=700?(this.viewport="small",this.orientation=i>e?"landscape":"portrait"):(this.viewport="large",this.orientation="")}},mounted(){this.observer=new MutationObserver(t=>{for(const e of t){const t=e.target.getAttribute(e.attributeName);this.$nextTick(()=>{this.onClassChange(t)})}}),this.observer.observe(this.$el,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),this.onWindowResize(),this.inputParser.setConfig({indicatorOptions:this.indicatorOptions,timeRangeOptions:this.timeRangeOptions,periodicityOptions:this.periodicityOptions,sigDevOptions:this.sigDevOptions}),this.inputParser.setMandatorySettings(["chartType","interval","scaling"]),this.inputParser.setIsReady(!0)},beforeDestroy(){this.observer.disconnect()}},fe=Object(A.a)(me,u,[],!1,null,null,null).exports;const be={fromDate:m.a.getDateForRange(new Date(Date.now()),"1Y"),toDate:new Date(Date.now())};var ye={namespaced:!0,state:()=>({ric:"BMWG.DE",chartType:"candlestick",timeRange:"1Y",periodicity:"D",isAutomaticPeriodicityChange:!0,dateRange:be,isAutomaticDateChange:!1,scaling:"linear",benchmarkSuggestions:[],benchmarkSelected:[],indicatorsSelected:[],baseChartOptions:{chartType:"candlestick",scaling:"linear",benchmarkSelected:[]},showTotalReturn:!1,sigDevSelected:[],tradingHours:null,availableIndicators:["SMA","EMA","ZIZA","ENVELOPE","BOLL","PSAR","VOL","ADL","AR","ARUD","ADX","ATR","CHO","DMI","STOF","HV","MOM","MACD","OBV","RoC","RSI","STOS","UO","%R"],locale:{default:"en",formatter:"en",messages:"en"},customEventsCallback:null,configUpdatedTimestamp:null}),mutations:{RIC_CHANGED(t,e){"1D"===t.timeRange&&t.dateRange.fromDate.toDateString()!==t.dateRange.toDate.toDateString()&&(t.dateRange.fromDate=t.dateRange.toDate),t.isAutomaticDateChange=!1,t.isAutomaticPeriodicityChange=!0,t.ric=e},LOCALE_CHANGED(t,e){let i={};i.default=e.locale,i.formatter=e.formatterLanguage?e.formatterLanguage:i.default,i.messages=e.messageLanguage?e.messageLanguage:i.default,t.locale=i},CHART_TYPE_CHANGED(t,e){t.chartType=e,t.baseChartOptions={...t.baseChartOptions,chartType:t.chartType}},INTERVAL_CHANGED(t,e){t.timeRange=e.timeRange,t.dateRange=e.dateRange,t.isAutomaticDateChange=e.isAutomaticDateChange||!1,t.isAutomaticPeriodicityChange=!0},PERIODICITY_CHANGED(t,e){t.periodicity=e.periodicity,t.isAutomaticPeriodicityChange=e.isAutomaticPeriodicityChange||!1},TOTAL_RETURN_TOGGLED(t,e){t.showTotalReturn=e},SCALING_CHANGED(t,e){t.scaling=e.scaling,e.chartType&&(t.chartType=e.chartType),t.baseChartOptions={...t.baseChartOptions,scaling:t.scaling,chartType:t.chartType}},BENCHMARK_SUGGESTIONS_CHANGED(t,e){t.benchmarkSuggestions=e},BENCHMARK_SELECTED_CHANGED(t,e){e.chartType&&(t.chartType=e.chartType),e.scaling&&(t.scaling=e.scaling),t.benchmarkSelected=e.benchmarkSelected,t.baseChartOptions={scaling:t.scaling,chartType:t.chartType,benchmarkSelected:e.benchmarkSelected}},SIGDEV_SELECTED_CHANGED(t,e){t.sigDevSelected=e},INDICATORS_SELECTED_CHANGED(t,e){t.indicatorsSelected=e},TRADING_HOURS_CHANGED(t,e){t.tradingHours=e},CHANGE_WIDGET_SETTINGS(t,e){for(let i in e)t.hasOwnProperty(i)&&(t[i]=e[i]);(e.chartType||e.scaling||e.benchmarkSelected)&&(t.baseChartOptions={chartType:e.chartType?e.chartType:t.chartType,scaling:e.scaling?e.scaling:t.scaling,benchmarkSelected:e.benchmarkSelected?e.benchmarkSelected:t.benchmarkSelected}),t.configUpdatedTimestamp=(new Date).getTime()},AVAILABLE_INDICATORS_CHANGED(t,e){t.availableIndicators=e},CUSTOM_EVENTS_CALLBACK_CHANGED(t,e){t.customEventsCallback=e}},actions:{},getters:{GET_STATE_BY_MUTATION:t=>e=>{const{type:i,payload:r}=e;let a={};switch(i.split("/").reverse()[0]){case"CHART_TYPE_CHANGED":a={chartType:t.chartType};break;case"INTERVAL_CHANGED":a={interval:{timeRange:t.timeRange,dateRange:t.dateRange}};break;case"PERIODICITY_CHANGED":a={interval:{periodicity:t.periodicity,isAutomaticPeriodicityChange:t.isAutomaticPeriodicityChange}};break;case"TOTAL_RETURN_TOGGLED":a={showTotalReturn:t.showTotalReturn};break;case"SCALING_CHANGED":a.scaling=t.scaling,r.chartType&&(a.chartType=t.chartType);break;case"BENCHMARK_SELECTED_CHANGED":a.benchmarkSelected=t.benchmarkSelected,r.chartType&&(a.chartType=t.chartType),r.scaling&&(a.scaling=t.scaling);break;case"SIGDEV_SELECTED_CHANGED":a={sigDevSelected:t.sigDevSelected};break;case"INDICATORS_SELECTED_CHANGED":a={indicatorsSelected:t.indicatorsSelected};break;case"CUSTOM_EVENTS_CALLBACK_CHANGED":a={customEventsCallback:t.customEventsCallback}}return a},LOCALE_DEFAULT:t=>t.locale.default}},ve=i(362),Se=i(628);r.default.prototype._={debounce:c.a};const De=function(t,e,i,r,c="refinitiv-light"){const u="advancedChart",d=new o.a;let h,p=d.getWidgetId(t);d.isWidgetInstancePresent(p)&&d.destroyWidgetInstance(p,"string"==typeof t),i=i||"en";let g={onError:null,onConfigChange:null};const m=new ve.a,f=[t=>{t.subscribe(e=>{if(g.onConfigChange){const i=t.getters["widget/advancedChart/GET_STATE_BY_MUTATION"](e);if(!Object(l.a)(i)){const t=m.processExport(i);g.onConfigChange(t.data)}}})}],b=new a.a(u,ye,f),y=b.getStore();b.replaceState(e);const v=new n.a(u,y,i,["en"],Se);v.setLocaleMessages(i,r),v.setLocaleAndUpdateStore(i);new Promise(t=>{h=t});p=d.generateWidgetId();const S="theme--"+c,D=d.createVM(p,t,v.getInstance(),y,(function(t){return t(fe,{class:[S],attrs:{id:p},props:{wid:u,theme:S,inputParser:m}})}),(function(){h(!0)}));return g={...g,...Object(s.a)(u,v)},g.setRic=t=>{D.$store.commit(`widget/${u}/RIC_CHANGED`,t)},g.setBenchmarkSuggestions=t=>{D.$store.commit(`widget/${u}/BENCHMARK_SUGGESTIONS_CHANGED`,t)},g.setCustomEventsCallback=t=>{D.$store.commit(`widget/${u}/CUSTOM_EVENTS_CALLBACK_CHANGED`,t)},g.getSettings=()=>{const t=D.$store.state.widget[u],e={...t,interval:{timeRange:t.timeRange,dateRange:t.dateRange,periodicity:t.periodicity,isAutomaticPeriodicityChange:t.isAutomaticPeriodicityChange}};return m.processExport(e).data},g.setSettings=t=>{const e=m.processImport(t,D.$store.state.widget[u]);e.data&&D.$store.commit(`widget/${u}/CHANGE_WIDGET_SETTINGS`,e.data);const i={status:e.status};return e.error&&(i.error=e.error),i},g.onSettingsChange=t=>{g.onConfigChange=t},g.setTradingHours=t=>{D.$store.commit(`widget/${u}/TRADING_HOURS_CHANGED`,t)},g.destroy=function(){d.destroyWidgetInstance(p,!0)},g}}},[[969,1,2,4,3,5]]]);